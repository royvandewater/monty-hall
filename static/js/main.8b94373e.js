/*! For license information please see main.8b94373e.js.LICENSE.txt */
!function(){var e={519:function(e){var t,n,r=Function.prototype,a=Object.prototype,i=r.toString,o=a.hasOwnProperty,u=i.call(Object),l=a.toString,c=(t=Object.getPrototypeOf,n=Object,function(e){return t(n(e))});e.exports=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||"[object Object]"!=l.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e))return!1;var t=c(e);if(null===t)return!0;var n=o.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&i.call(n)==u}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(a){return!1}}()?Object.assign:function(e,i){for(var o,u,l=a(e),c=1;c<arguments.length;c++){for(var s in o=Object(arguments[c]))n.call(o,s)&&(l[s]=o[s]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(l[u[f]]=o[u[f]])}}return l}},888:function(e,t,n){"use strict";var r=n(47);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},808:function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var a=o(n(562)),i=o(n(725));function o(e){return e&&e.__esModule?e:{default:e}}var u="undefined"===typeof document||"undefined"!==typeof process&&{NODE_ENV:"production",PUBLIC_URL:"/monty-hall",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&!1,l={},c=void 0;function s(){return c&&!c.headersSent}function f(e,t){var n=u?l:a.default.parse(document.cookie),r=n&&n[e];if("undefined"===typeof t&&(t=!r||"{"!==r[0]&&"["!==r[0]),!t)try{r=JSON.parse(r)}catch(i){}return r}function d(e){var t=u?l:a.default.parse(document.cookie);if("undefined"===typeof e&&(e=!t||"{"!==t[0]&&"["!==t[0]),!e)try{t=JSON.parse(t)}catch(n){}return t}function p(e){var t=u?l:a.default.parse(document.cookie);return t?e?Object.keys(t).reduce((function(n,r){if(!e.test(r))return n;var a={};return a[r]=t[r],(0,i.default)({},n,a)}),{}):t:{}}function h(e,t,n){l[e]=t,"object"===("undefined"===typeof t?"undefined":r(t))&&(l[e]=JSON.stringify(t)),u||(document.cookie=a.default.serialize(e,l[e],n)),s()&&c.cookie&&c.cookie(e,t,n)}function v(e,t){delete l[e],t="undefined"===typeof t?{}:"string"===typeof t?{path:t}:(0,i.default)({},t),"undefined"!==typeof document&&(t.expires=new Date(1970,1,1,0,0,1),t.maxAge=0,document.cookie=a.default.serialize(e,"",t)),s()&&c.clearCookie&&c.clearCookie(e,t)}function m(e){l=e?a.default.parse(e):{}}function y(e,t){return e.cookie?l=e.cookie:e.cookies?l=e.cookies:e.headers&&e.headers.cookie?m(e.headers.cookie):l={},c=t,function(){c=null,l={}}}t.ZP={setRawCookie:m,load:f,loadAll:d,select:p,save:h,remove:v,plugToRequest:y}},562:function(e,t){"use strict";t.parse=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var r={},i=t||{},u=e.split(a),l=i.decode||n,c=0;c<u.length;c++){var s=u[c],f=s.indexOf("=");if(!(f<0)){var d=s.substr(0,f).trim(),p=s.substr(++f,s.length).trim();'"'==p[0]&&(p=p.slice(1,-1)),void 0==r[d]&&(r[d]=o(p,l))}}return r},t.serialize=function(e,t,n){var a=n||{},o=a.encode||r;if("function"!==typeof o)throw new TypeError("option encode is invalid");if(!i.test(e))throw new TypeError("argument name is invalid");var u=o(t);if(u&&!i.test(u))throw new TypeError("argument val is invalid");var l=e+"="+u;if(null!=a.maxAge){var c=a.maxAge-0;if(isNaN(c))throw new Error("maxAge should be a Number");l+="; Max-Age="+Math.floor(c)}if(a.domain){if(!i.test(a.domain))throw new TypeError("option domain is invalid");l+="; Domain="+a.domain}if(a.path){if(!i.test(a.path))throw new TypeError("option path is invalid");l+="; Path="+a.path}if(a.expires){if("function"!==typeof a.expires.toUTCString)throw new TypeError("option expires is invalid");l+="; Expires="+a.expires.toUTCString()}a.httpOnly&&(l+="; HttpOnly");a.secure&&(l+="; Secure");if(a.sameSite){switch("string"===typeof a.sameSite?a.sameSite.toLowerCase():a.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}}return l};var n=decodeURIComponent,r=encodeURIComponent,a=/; */,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function o(e,t){try{return t(e)}catch(n){return e}}},463:function(e,t,n){"use strict";var r=n(791),a=n(725),i=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));function u(e,t,n,r,a,i,o,u,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(s){this.onError(s)}}var l=!1,c=null,s=!1,f=null,d={onError:function(e){l=!0,c=e}};function p(e,t,n,r,a,i,o,s,f){l=!1,c=null,u.apply(d,arguments)}var h=null,v=null,m=null;function y(e,t,n){var r=e.type||"unknown-event";e.currentTarget=m(n),function(e,t,n,r,a,i,u,d,h){if(p.apply(this,arguments),l){if(!l)throw Error(o(198));var v=c;l=!1,c=null,s||(s=!0,f=v)}}(r,t,void 0,e),e.currentTarget=null}var g=null,b={};function k(){if(g)for(var e in b){var t=b[e],n=g.indexOf(e);if(!(-1<n))throw Error(o(96,e));if(!x[n]){if(!t.extractEvents)throw Error(o(97,e));for(var r in x[n]=t,n=t.eventTypes){var a=void 0,i=n[r],u=t,l=r;if(E.hasOwnProperty(l))throw Error(o(99,l));E[l]=i;var c=i.phasedRegistrationNames;if(c){for(a in c)c.hasOwnProperty(a)&&w(c[a],u,l);a=!0}else i.registrationName?(w(i.registrationName,u,l),a=!0):a=!1;if(!a)throw Error(o(98,r,e))}}}}function w(e,t,n){if(P[e])throw Error(o(100,e));P[e]=t,S[e]=t.eventTypes[n].dependencies}var x=[],E={},P={},S={};function _(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(o(102,t));b[t]=r,n=!0}}n&&k()}var T=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),$=null,C=null,O=null;function I(e){if(e=v(e)){if("function"!==typeof $)throw Error(o(280));var t=e.stateNode;t&&(t=h(t),$(e.stateNode,e.type,t))}}function N(e){C?O?O.push(e):O=[e]:C=e}function D(){if(C){var e=C,t=O;if(O=C=null,I(e),t)for(e=0;e<t.length;e++)I(t[e])}}function A(e,t){return e(t)}function M(e,t,n,r,a){return e(t,n,r,a)}function j(){}var R=A,L=!1,z=!1;function F(){null===C&&null===O||(j(),D())}function B(e,t,n){if(z)return e(t,n);z=!0;try{return R(e,t,n)}finally{z=!1,F()}}var U=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,V=Object.prototype.hasOwnProperty,q={},G={};function W(e,t,n,r,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i}var H={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){H[e]=new W(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];H[t]=new W(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){H[e]=new W(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){H[e]=new W(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){H[e]=new W(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){H[e]=new W(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){H[e]=new W(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){H[e]=new W(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){H[e]=new W(e,5,!1,e.toLowerCase(),null,!1)}));var K=/[\-:]([a-z])/g;function Q(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(K,Q);H[t]=new W(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(K,Q);H[t]=new W(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(K,Q);H[t]=new W(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){H[e]=new W(e,1,!1,e.toLowerCase(),null,!1)})),H.xlinkHref=new W("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){H[e]=new W(e,1,!1,e.toLowerCase(),null,!0)}));var Y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function J(e,t,n,r){var a=H.hasOwnProperty(t)?H[t]:null;(null!==a?0===a.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!V.call(G,e)||!V.call(q,e)&&(U.test(e)?G[e]=!0:(q[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}Y.hasOwnProperty("ReactCurrentDispatcher")||(Y.ReactCurrentDispatcher={current:null}),Y.hasOwnProperty("ReactCurrentBatchConfig")||(Y.ReactCurrentBatchConfig={suspense:null});var X=/^(.*)[\\\/]/,Z="function"===typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,te=Z?Symbol.for("react.portal"):60106,ne=Z?Symbol.for("react.fragment"):60107,re=Z?Symbol.for("react.strict_mode"):60108,ae=Z?Symbol.for("react.profiler"):60114,ie=Z?Symbol.for("react.provider"):60109,oe=Z?Symbol.for("react.context"):60110,ue=Z?Symbol.for("react.concurrent_mode"):60111,le=Z?Symbol.for("react.forward_ref"):60112,ce=Z?Symbol.for("react.suspense"):60113,se=Z?Symbol.for("react.suspense_list"):60120,fe=Z?Symbol.for("react.memo"):60115,de=Z?Symbol.for("react.lazy"):60116,pe=Z?Symbol.for("react.block"):60121,he="function"===typeof Symbol&&Symbol.iterator;function ve(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=he&&e[he]||e["@@iterator"])?e:null}function me(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ae:return"Profiler";case re:return"StrictMode";case ce:return"Suspense";case se:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case oe:return"Context.Consumer";case ie:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case fe:return me(e.type);case pe:return me(e.render);case de:if(e=1===e._status?e._result:null)return me(e)}return null}function ye(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,a=e._debugSource,i=me(e.type);n=null,r&&(n=me(r.type)),r=i,i="",a?i=" (at "+a.fileName.replace(X,"")+":"+a.lineNumber+")":n&&(i=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+i}t+=n,e=e.return}while(e);return t}function ge(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ke(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function we(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function xe(e,t){var n=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ge(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Pe(e,t){null!=(t=t.checked)&&J(e,"checked",t,!1)}function Se(e,t){Pe(e,t);var n=ge(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Te(e,t.type,n):t.hasOwnProperty("defaultValue")&&Te(e,t.type,ge(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function _e(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Te(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function $e(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ce(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ge(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function Oe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ge(n)}}function Ne(e,t){var n=ge(t.value),r=ge(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function De(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Ae="http://www.w3.org/1999/xhtml",Me="http://www.w3.org/2000/svg";function je(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Re(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?je(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Le,ze,Fe=(ze=function(e,t){if(e.namespaceURI!==Me||"innerHTML"in e)e.innerHTML=t;else{for((Le=Le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ze(e,t)}))}:ze);function Be(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ue(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ve={animationend:Ue("Animation","AnimationEnd"),animationiteration:Ue("Animation","AnimationIteration"),animationstart:Ue("Animation","AnimationStart"),transitionend:Ue("Transition","TransitionEnd")},qe={},Ge={};function We(e){if(qe[e])return qe[e];if(!Ve[e])return e;var t,n=Ve[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ge)return qe[e]=n[t];return e}T&&(Ge=document.createElement("div").style,"AnimationEvent"in window||(delete Ve.animationend.animation,delete Ve.animationiteration.animation,delete Ve.animationstart.animation),"TransitionEvent"in window||delete Ve.transitionend.transition);var He=We("animationend"),Ke=We("animationiteration"),Qe=We("animationstart"),Ye=We("transitionend"),Je="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xe=new("function"===typeof WeakMap?WeakMap:Map);function Ze(e){var t=Xe.get(e);return void 0===t&&(t=new Map,Xe.set(e,t)),t}function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(o(188))}function rt(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return nt(a),e;if(i===r)return nt(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var u=!1,l=a.child;l;){if(l===n){u=!0,n=a,r=i;break}if(l===r){u=!0,r=a,n=i;break}l=l.sibling}if(!u){for(l=i.child;l;){if(l===n){u=!0,n=i,r=a;break}if(l===r){u=!0,r=i,n=a;break}l=l.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function at(e,t){if(null==t)throw Error(o(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function it(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function ut(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)y(e,t[r],n[r]);else t&&y(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function lt(e){if(null!==e&&(ot=at(ot,e)),e=ot,ot=null,e){if(it(e,ut),ot)throw Error(o(95));if(s)throw e=f,s=!1,f=null,e}}function ct(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function st(e){if(!T)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ft=[];function dt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ft.length&&ft.push(e)}function pt(e,t,n,r){if(ft.length){var a=ft.pop();return a.topLevelType=e,a.eventSystemFlags=r,a.nativeEvent=t,a.targetInst=n,a}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function ht(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=In(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var a=ct(e.nativeEvent);r=e.topLevelType;var i=e.nativeEvent,o=e.eventSystemFlags;0===n&&(o|=64);for(var u=null,l=0;l<x.length;l++){var c=x[l];c&&(c=c.extractEvents(r,t,i,a,o))&&(u=at(u,c))}lt(u)}}function vt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Qt(t,"scroll",!0);break;case"focus":case"blur":Qt(t,"focus",!0),Qt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":st(e)&&Qt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Je.indexOf(e)&&Kt(e,t)}n.set(e,null)}}var mt,yt,gt,bt=!1,kt=[],wt=null,xt=null,Et=null,Pt=new Map,St=new Map,_t=[],Tt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),$t="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ct(e,t,n,r,a){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:a,container:r}}function Ot(e,t){switch(e){case"focus":case"blur":wt=null;break;case"dragenter":case"dragleave":xt=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":St.delete(t.pointerId)}}function It(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e=Ct(t,n,r,a,i),null!==t&&(null!==(t=Nn(t))&&yt(t)),e):(e.eventSystemFlags|=r,e)}function Nt(e){var t=In(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void i.unstable_runWithPriority(e.priority,(function(){gt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Nn(t);return null!==n&&yt(n),e.blockedOn=t,!1}return!0}function At(e,t,n){Dt(e)&&n.delete(t)}function Mt(){for(bt=!1;0<kt.length;){var e=kt[0];if(null!==e.blockedOn){null!==(e=Nn(e.blockedOn))&&mt(e);break}var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:kt.shift()}null!==wt&&Dt(wt)&&(wt=null),null!==xt&&Dt(xt)&&(xt=null),null!==Et&&Dt(Et)&&(Et=null),Pt.forEach(At),St.forEach(At)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,bt||(bt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Mt)))}function Rt(e){function t(t){return jt(t,e)}if(0<kt.length){jt(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==wt&&jt(wt,e),null!==xt&&jt(xt,e),null!==Et&&jt(Et,e),Pt.forEach(t),St.forEach(t),n=0;n<_t.length;n++)(r=_t[n]).blockedOn===e&&(r.blockedOn=null);for(;0<_t.length&&null===(n=_t[0]).blockedOn;)Nt(n),null===n.blockedOn&&_t.shift()}var Lt={},zt=new Map,Ft=new Map,Bt=["abort","abort",He,"animationEnd",Ke,"animationIteration",Qe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ye,"transitionEnd","waiting","waiting"];function Ut(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],a=e[n+1],i="on"+(a[0].toUpperCase()+a.slice(1));i={phasedRegistrationNames:{bubbled:i,captured:i+"Capture"},dependencies:[r],eventPriority:t},Ft.set(r,t),zt.set(r,i),Lt[a]=i}}Ut("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ut("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ut(Bt,2);for(var Vt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),qt=0;qt<Vt.length;qt++)Ft.set(Vt[qt],0);var Gt=i.unstable_UserBlockingPriority,Wt=i.unstable_runWithPriority,Ht=!0;function Kt(e,t){Qt(t,e,!1)}function Qt(e,t,n){var r=Ft.get(t);switch(void 0===r?2:r){case 0:r=Yt.bind(null,t,1,e);break;case 1:r=Jt.bind(null,t,1,e);break;default:r=Xt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Yt(e,t,n,r){L||j();var a=Xt,i=L;L=!0;try{M(a,e,t,n,r)}finally{(L=i)||F()}}function Jt(e,t,n,r){Wt(Gt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){if(Ht)if(0<kt.length&&-1<Tt.indexOf(e))e=Ct(null,e,t,n,r),kt.push(e);else{var a=Zt(e,t,n,r);if(null===a)Ot(e,r);else if(-1<Tt.indexOf(e))e=Ct(a,e,t,n,r),kt.push(e);else if(!function(e,t,n,r,a){switch(t){case"focus":return wt=It(wt,e,t,n,r,a),!0;case"dragenter":return xt=It(xt,e,t,n,r,a),!0;case"mouseover":return Et=It(Et,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Pt.set(i,It(Pt.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,St.set(i,It(St.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r)){Ot(e,r),e=pt(e,r,null,t);try{B(ht,e)}finally{dt(e)}}}}function Zt(e,t,n,r){if(null!==(n=In(n=ct(r)))){var a=et(n);if(null===a)n=null;else{var i=a.tag;if(13===i){if(null!==(n=tt(a)))return n;n=null}else if(3===i){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}e=pt(e,r,n,t);try{B(ht,e)}finally{dt(e)}return null}var en={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function nn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||en.hasOwnProperty(e)&&en[e]?(""+t).trim():t+"px"}function rn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=nn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(en).forEach((function(e){tn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),en[t]=en[e]}))}));var an=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(an[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62,""))}}function un(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ln=Ae;function cn(e,t){var n=Ze(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=S[t];for(var r=0;r<t.length;r++)vt(t[r],e,n)}function sn(){}function fn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function dn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pn(e,t){var n,r=dn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dn(r)}}function hn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vn(){for(var e=window,t=fn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=fn((e=t.contentWindow).document)}return t}function mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yn="$?",gn="$!",bn=null,kn=null;function wn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function xn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var En="function"===typeof setTimeout?setTimeout:void 0,Pn="function"===typeof clearTimeout?clearTimeout:void 0;function Sn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function _n(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||n===gn||n===yn){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Tn=Math.random().toString(36).slice(2),$n="__reactInternalInstance$"+Tn,Cn="__reactEventHandlers$"+Tn,On="__reactContainere$"+Tn;function In(e){var t=e[$n];if(t)return t;for(var n=e.parentNode;n;){if(t=n[On]||n[$n]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=_n(e);null!==e;){if(n=e[$n])return n;e=_n(e)}return t}n=(e=n).parentNode}return null}function Nn(e){return!(e=e[$n]||e[On])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Dn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function An(e){return e[Cn]||null}function Mn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function jn(e,t){var n=e.stateNode;if(!n)return null;var r=h(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}function Rn(e,t,n){(t=jn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=at(n._dispatchListeners,t),n._dispatchInstances=at(n._dispatchInstances,e))}function Ln(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Mn(t);for(t=n.length;0<t--;)Rn(n[t],"captured",e);for(t=0;t<n.length;t++)Rn(n[t],"bubbled",e)}}function zn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=jn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=at(n._dispatchListeners,t),n._dispatchInstances=at(n._dispatchInstances,e))}function Fn(e){e&&e.dispatchConfig.registrationName&&zn(e._targetInst,null,e)}function Bn(e){it(e,Ln)}var Un=null,Vn=null,qn=null;function Gn(){if(qn)return qn;var e,t,n=Vn,r=n.length,a="value"in Un?Un.value:Un.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return qn=a.slice(e,1<t?1-t:void 0)}function Wn(){return!0}function Hn(){return!1}function Kn(e,t,n,r){for(var a in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(a)&&((t=e[a])?this[a]=t(n):"target"===a?this.target=r:this[a]=n[a]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Wn:Hn,this.isPropagationStopped=Hn,this}function Qn(e,t,n,r){if(this.eventPool.length){var a=this.eventPool.pop();return this.call(a,e,t,n,r),a}return new this(e,t,n,r)}function Yn(e){if(!(e instanceof this))throw Error(o(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Jn(e){e.eventPool=[],e.getPooled=Qn,e.release=Yn}a(Kn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){this.isPersistent=Wn},isPersistent:Hn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Hn,this._dispatchInstances=this._dispatchListeners=null}}),Kn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Kn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return a(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=a({},r.Interface,e),n.extend=r.extend,Jn(n),n},Jn(Kn);var Xn=Kn.extend({data:null}),Zn=Kn.extend({data:null}),er=[9,13,27,32],tr=T&&"CompositionEvent"in window,nr=null;T&&"documentMode"in document&&(nr=document.documentMode);var rr=T&&"TextEvent"in window&&!nr,ar=T&&(!tr||nr&&8<nr&&11>=nr),ir=String.fromCharCode(32),or={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ur=!1;function lr(e,t){switch(e){case"keyup":return-1!==er.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function cr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var sr=!1;var fr={eventTypes:or,extractEvents:function(e,t,n,r){var a;if(tr)e:{switch(e){case"compositionstart":var i=or.compositionStart;break e;case"compositionend":i=or.compositionEnd;break e;case"compositionupdate":i=or.compositionUpdate;break e}i=void 0}else sr?lr(e,n)&&(i=or.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=or.compositionStart);return i?(ar&&"ko"!==n.locale&&(sr||i!==or.compositionStart?i===or.compositionEnd&&sr&&(a=Gn()):(Vn="value"in(Un=r)?Un.value:Un.textContent,sr=!0)),i=Xn.getPooled(i,t,n,r),a?i.data=a:null!==(a=cr(n))&&(i.data=a),Bn(i),a=i):a=null,(e=rr?function(e,t){switch(e){case"compositionend":return cr(t);case"keypress":return 32!==t.which?null:(ur=!0,ir);case"textInput":return(e=t.data)===ir&&ur?null:e;default:return null}}(e,n):function(e,t){if(sr)return"compositionend"===e||!tr&&lr(e,t)?(e=Gn(),qn=Vn=Un=null,sr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ar&&"ko"!==t.locale?null:t.data}}(e,n))?((t=Zn.getPooled(or.beforeInput,t,n,r)).data=e,Bn(t)):t=null,null===a?t:null===t?a:[a,t]}},dr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!dr[e.type]:"textarea"===t}var hr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function vr(e,t,n){return(e=Kn.getPooled(hr.change,e,t,n)).type="change",N(n),Bn(e),e}var mr=null,yr=null;function gr(e){lt(e)}function br(e){if(we(Dn(e)))return e}function kr(e,t){if("change"===e)return t}var wr=!1;function xr(){mr&&(mr.detachEvent("onpropertychange",Er),yr=mr=null)}function Er(e){if("value"===e.propertyName&&br(yr))if(e=vr(yr,e,ct(e)),L)lt(e);else{L=!0;try{A(gr,e)}finally{L=!1,F()}}}function Pr(e,t,n){"focus"===e?(xr(),yr=n,(mr=t).attachEvent("onpropertychange",Er)):"blur"===e&&xr()}function Sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return br(yr)}function _r(e,t){if("click"===e)return br(t)}function Tr(e,t){if("input"===e||"change"===e)return br(t)}T&&(wr=st("input")&&(!document.documentMode||9<document.documentMode));var $r={eventTypes:hr,_isInputEventSupported:wr,extractEvents:function(e,t,n,r){var a=t?Dn(t):window,i=a.nodeName&&a.nodeName.toLowerCase();if("select"===i||"input"===i&&"file"===a.type)var o=kr;else if(pr(a))if(wr)o=Tr;else{o=Sr;var u=Pr}else(i=a.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(o=_r);if(o&&(o=o(e,t)))return vr(o,n,r);u&&u(e,a,t),"blur"===e&&(e=a._wrapperState)&&e.controlled&&"number"===a.type&&Te(a,"number",a.value)}},Cr=Kn.extend({view:null,detail:null}),Or={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ir(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Or[e])&&!!t[e]}function Nr(){return Ir}var Dr=0,Ar=0,Mr=!1,jr=!1,Rr=Cr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Nr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Dr;return Dr=e.screenX,Mr?"mousemove"===e.type?e.screenX-t:0:(Mr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Ar;return Ar=e.screenY,jr?"mousemove"===e.type?e.screenY-t:0:(jr=!0,0)}}),Lr=Rr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),zr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Fr={eventTypes:zr,extractEvents:function(e,t,n,r,a){var i="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(i&&0===(32&a)&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o)?(o=t,null!==(t=(t=n.relatedTarget||n.toElement)?In(t):null)&&(t!==et(t)||5!==t.tag&&6!==t.tag)&&(t=null)):o=null;if(o===t)return null;if("mouseout"===e||"mouseover"===e)var u=Rr,l=zr.mouseLeave,c=zr.mouseEnter,s="mouse";else"pointerout"!==e&&"pointerover"!==e||(u=Lr,l=zr.pointerLeave,c=zr.pointerEnter,s="pointer");if(e=null==o?i:Dn(o),i=null==t?i:Dn(t),(l=u.getPooled(l,o,n,r)).type=s+"leave",l.target=e,l.relatedTarget=i,(n=u.getPooled(c,t,n,r)).type=s+"enter",n.target=i,n.relatedTarget=e,s=t,(r=o)&&s)e:{for(c=s,o=0,e=u=r;e;e=Mn(e))o++;for(e=0,t=c;t;t=Mn(t))e++;for(;0<o-e;)u=Mn(u),o--;for(;0<e-o;)c=Mn(c),e--;for(;o--;){if(u===c||u===c.alternate)break e;u=Mn(u),c=Mn(c)}u=null}else u=null;for(c=u,u=[];r&&r!==c&&(null===(o=r.alternate)||o!==c);)u.push(r),r=Mn(r);for(r=[];s&&s!==c&&(null===(o=s.alternate)||o!==c);)r.push(s),s=Mn(s);for(s=0;s<u.length;s++)zn(u[s],"bubbled",l);for(s=r.length;0<s--;)zn(r[s],"captured",n);return 0===(64&a)?[l]:[l,n]}};var Br="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Ur=Object.prototype.hasOwnProperty;function Vr(e,t){if(Br(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Ur.call(t,n[r])||!Br(e[n[r]],t[n[r]]))return!1;return!0}var qr=T&&"documentMode"in document&&11>=document.documentMode,Gr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Wr=null,Hr=null,Kr=null,Qr=!1;function Yr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Qr||null==Wr||Wr!==fn(n)?null:("selectionStart"in(n=Wr)&&mn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Kr&&Vr(Kr,n)?null:(Kr=n,(e=Kn.getPooled(Gr.select,Hr,e,t)).type="select",e.target=Wr,Bn(e),e))}var Jr={eventTypes:Gr,extractEvents:function(e,t,n,r,a,i){if(!(i=!(a=i||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{a=Ze(a),i=S.onSelect;for(var o=0;o<i.length;o++)if(!a.has(i[o])){a=!1;break e}a=!0}i=!a}if(i)return null;switch(a=t?Dn(t):window,e){case"focus":(pr(a)||"true"===a.contentEditable)&&(Wr=a,Hr=t,Kr=null);break;case"blur":Kr=Hr=Wr=null;break;case"mousedown":Qr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Qr=!1,Yr(n,r);case"selectionchange":if(qr)break;case"keydown":case"keyup":return Yr(n,r)}return null}},Xr=Kn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Zr=Kn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ea=Cr.extend({relatedTarget:null});function ta(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var na={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ra={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aa=Cr.extend({key:function(e){if(e.key){var t=na[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ta(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ra[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Nr,charCode:function(e){return"keypress"===e.type?ta(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ta(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ia=Rr.extend({dataTransfer:null}),oa=Cr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Nr}),ua=Kn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),la=Rr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),ca={eventTypes:Lt,extractEvents:function(e,t,n,r){var a=zt.get(e);if(!a)return null;switch(e){case"keypress":if(0===ta(n))return null;case"keydown":case"keyup":e=aa;break;case"blur":case"focus":e=ea;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Rr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ia;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=oa;break;case He:case Ke:case Qe:e=Xr;break;case Ye:e=ua;break;case"scroll":e=Cr;break;case"wheel":e=la;break;case"copy":case"cut":case"paste":e=Zr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Lr;break;default:e=Kn}return Bn(t=e.getPooled(a,t,n,r)),t}};if(g)throw Error(o(101));g=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),k(),h=An,v=Nn,m=Dn,_({SimpleEventPlugin:ca,EnterLeaveEventPlugin:Fr,ChangeEventPlugin:$r,SelectEventPlugin:Jr,BeforeInputEventPlugin:fr});var sa=[],fa=-1;function da(e){0>fa||(e.current=sa[fa],sa[fa]=null,fa--)}function pa(e,t){fa++,sa[fa]=e.current,e.current=t}var ha={},va={current:ha},ma={current:!1},ya=ha;function ga(e,t){var n=e.type.contextTypes;if(!n)return ha;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ba(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ka(){da(ma),da(va)}function wa(e,t,n){if(va.current!==ha)throw Error(o(168));pa(va,t),pa(ma,n)}function xa(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(o(108,me(t)||"Unknown",i));return a({},n,{},r)}function Ea(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ha,ya=va.current,pa(va,e),pa(ma,ma.current),!0}function Pa(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=xa(e,t,ya),r.__reactInternalMemoizedMergedChildContext=e,da(ma),da(va),pa(va,e)):da(ma),pa(ma,n)}var Sa=i.unstable_runWithPriority,_a=i.unstable_scheduleCallback,Ta=i.unstable_cancelCallback,$a=i.unstable_requestPaint,Ca=i.unstable_now,Oa=i.unstable_getCurrentPriorityLevel,Ia=i.unstable_ImmediatePriority,Na=i.unstable_UserBlockingPriority,Da=i.unstable_NormalPriority,Aa=i.unstable_LowPriority,Ma=i.unstable_IdlePriority,ja={},Ra=i.unstable_shouldYield,La=void 0!==$a?$a:function(){},za=null,Fa=null,Ba=!1,Ua=Ca(),Va=1e4>Ua?Ca:function(){return Ca()-Ua};function qa(){switch(Oa()){case Ia:return 99;case Na:return 98;case Da:return 97;case Aa:return 96;case Ma:return 95;default:throw Error(o(332))}}function Ga(e){switch(e){case 99:return Ia;case 98:return Na;case 97:return Da;case 96:return Aa;case 95:return Ma;default:throw Error(o(332))}}function Wa(e,t){return e=Ga(e),Sa(e,t)}function Ha(e,t,n){return e=Ga(e),_a(e,t,n)}function Ka(e){return null===za?(za=[e],Fa=_a(Ia,Ya)):za.push(e),ja}function Qa(){if(null!==Fa){var e=Fa;Fa=null,Ta(e)}Ya()}function Ya(){if(!Ba&&null!==za){Ba=!0;var e=0;try{var t=za;Wa(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),za=null}catch(n){throw null!==za&&(za=za.slice(e+1)),_a(Ia,Qa),n}finally{Ba=!1}}}function Ja(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Xa(e,t){if(e&&e.defaultProps)for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Za={current:null},ei=null,ti=null,ni=null;function ri(){ni=ti=ei=null}function ai(e){var t=Za.current;da(Za),e.type._context._currentValue=t}function ii(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function oi(e,t){ei=e,ni=ti=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Ao=!0),e.firstContext=null)}function ui(e,t){if(ni!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ni=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ti){if(null===ei)throw Error(o(308));ti=t,ei.dependencies={expirationTime:0,firstContext:t,responders:null}}else ti=ti.next=t;return e._currentValue}var li=!1;function ci(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function si(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function fi(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function di(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function pi(e,t){var n=e.alternate;null!==n&&si(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function hi(e,t,n,r){var i=e.updateQueue;li=!1;var o=i.baseQueue,u=i.shared.pending;if(null!==u){if(null!==o){var l=o.next;o.next=u.next,u.next=l}o=u,i.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=u))}if(null!==o){l=o.next;var c=i.baseState,s=0,f=null,d=null,p=null;if(null!==l)for(var h=l;;){if((u=h.expirationTime)<r){var v={expirationTime:h.expirationTime,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null};null===p?(d=p=v,f=c):p=p.next=v,u>s&&(s=u)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null}),pl(u,h.suspenseConfig);e:{var m=e,y=h;switch(u=t,v=n,y.tag){case 1:if("function"===typeof(m=y.payload)){c=m.call(v,c,u);break e}c=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null===(u="function"===typeof(m=y.payload)?m.call(v,c,u):m)||void 0===u)break e;c=a({},c,u);break e;case 2:li=!0}}null!==h.callback&&(e.effectTag|=32,null===(u=i.effects)?i.effects=[h]:u.push(h))}if(null===(h=h.next)||h===l){if(null===(u=i.shared.pending))break;h=o.next=u.next,u.next=l,i.baseQueue=o=u,i.shared.pending=null}}null===p?f=c:p.next=d,i.baseState=f,i.baseQueue=p,hl(s),e.expirationTime=s,e.memoizedState=c}}function vi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=a,a=n,"function"!==typeof r)throw Error(o(191,r));r.call(a)}}}var mi=Y.ReactCurrentBatchConfig,yi=(new r.Component).refs;function gi(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var bi={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=el(),a=mi.suspense;(a=fi(r=tl(r,e,a),a)).payload=t,void 0!==n&&null!==n&&(a.callback=n),di(e,a),nl(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=el(),a=mi.suspense;(a=fi(r=tl(r,e,a),a)).tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),di(e,a),nl(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=el(),r=mi.suspense;(r=fi(n=tl(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),di(e,r),nl(e,n)}};function ki(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!Vr(n,r)||!Vr(a,i))}function wi(e,t,n){var r=!1,a=ha,i=t.contextType;return"object"===typeof i&&null!==i?i=ui(i):(a=ba(t)?ya:va.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?ga(e,a):ha),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=bi,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function xi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&bi.enqueueReplaceState(t,t.state,null)}function Ei(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=yi,ci(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=ui(i):(i=ba(t)?ya:va.current,a.context=ga(e,i)),hi(e,n,a,r),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(gi(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&bi.enqueueReplaceState(a,a.state,null),hi(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.effectTag|=4)}var Pi=Array.isArray;function Si(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=r.refs;t===yi&&(t=r.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function _i(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Ti(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Al(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function u(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Rl(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=a(t,n.props)).ref=Si(e,t,n),r.return=e,r):((r=Ml(n.type,n.key,n.props,null,e.mode,r)).ref=Si(e,t,n),r.return=e,r)}function s(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ll(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=jl(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Rl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Ml(t.type,t.key,t.props,null,e.mode,n)).ref=Si(e,null,t),n.return=e,n;case te:return(t=Ll(t,e.mode,n)).return=e,t}if(Pi(t)||ve(t))return(t=jl(t,e.mode,n,null)).return=e,t;_i(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===a?n.type===ne?f(e,t,n.props.children,r,a):c(e,t,n,r):null;case te:return n.key===a?s(e,t,n,r):null}if(Pi(n)||ve(n))return null!==a?null:f(e,t,n,r,null);_i(e,n)}return null}function h(e,t,n,r,a){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?f(t,e,r.props.children,a,r.key):c(t,e,r,a);case te:return s(t,e=e.get(null===r.key?n:r.key)||null,r,a)}if(Pi(r)||ve(r))return f(t,e=e.get(n)||null,r,a,null);_i(t,r)}return null}function v(a,o,u,l){for(var c=null,s=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=p(a,f,u[v],l);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(a,f),o=i(y,o,v),null===s?c=y:s.sibling=y,s=y,f=m}if(v===u.length)return n(a,f),c;if(null===f){for(;v<u.length;v++)null!==(f=d(a,u[v],l))&&(o=i(f,o,v),null===s?c=f:s.sibling=f,s=f);return c}for(f=r(a,f);v<u.length;v++)null!==(m=h(f,a,v,u[v],l))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=i(m,o,v),null===s?c=m:s.sibling=m,s=m);return e&&f.forEach((function(e){return t(a,e)})),c}function m(a,u,l,c){var s=ve(l);if("function"!==typeof s)throw Error(o(150));if(null==(l=s.call(l)))throw Error(o(151));for(var f=s=null,v=u,m=u=0,y=null,g=l.next();null!==v&&!g.done;m++,g=l.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=p(a,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(a,v),u=i(b,u,m),null===f?s=b:f.sibling=b,f=b,v=y}if(g.done)return n(a,v),s;if(null===v){for(;!g.done;m++,g=l.next())null!==(g=d(a,g.value,c))&&(u=i(g,u,m),null===f?s=g:f.sibling=g,f=g);return s}for(v=r(a,v);!g.done;m++,g=l.next())null!==(g=h(v,a,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=i(g,u,m),null===f?s=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(a,e)})),s}return function(e,r,i,l){var c="object"===typeof i&&null!==i&&i.type===ne&&null===i.key;c&&(i=i.props.children);var s="object"===typeof i&&null!==i;if(s)switch(i.$$typeof){case ee:e:{for(s=i.key,c=r;null!==c;){if(c.key===s){if(7===c.tag){if(i.type===ne){n(e,c.sibling),(r=a(c,i.props.children)).return=e,e=r;break e}}else if(c.elementType===i.type){n(e,c.sibling),(r=a(c,i.props)).ref=Si(e,c,i),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}i.type===ne?((r=jl(i.props.children,e.mode,l,i.key)).return=e,e=r):((l=Ml(i.type,i.key,i.props,null,e.mode,l)).ref=Si(e,r,i),l.return=e,e=l)}return u(e);case te:e:{for(c=i.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=a(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ll(i,e.mode,l)).return=e,e=r}return u(e)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=a(r,i)).return=e,e=r):(n(e,r),(r=Rl(i,e.mode,l)).return=e,e=r),u(e);if(Pi(i))return v(e,r,i,l);if(ve(i))return m(e,r,i,l);if(s&&_i(e,i),"undefined"===typeof i&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(o(152,e.displayName||e.name||"Component"))}return n(e,r)}}var $i=Ti(!0),Ci=Ti(!1),Oi={},Ii={current:Oi},Ni={current:Oi},Di={current:Oi};function Ai(e){if(e===Oi)throw Error(o(174));return e}function Mi(e,t){switch(pa(Di,t),pa(Ni,e),pa(Ii,Oi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Re(null,"");break;default:t=Re(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}da(Ii),pa(Ii,t)}function ji(){da(Ii),da(Ni),da(Di)}function Ri(e){Ai(Di.current);var t=Ai(Ii.current),n=Re(t,e.type);t!==n&&(pa(Ni,e),pa(Ii,n))}function Li(e){Ni.current===e&&(da(Ii),da(Ni))}var zi={current:0};function Fi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===yn||n.data===gn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Bi(e,t){return{responder:e,props:t}}var Ui=Y.ReactCurrentDispatcher,Vi=Y.ReactCurrentBatchConfig,qi=0,Gi=null,Wi=null,Hi=null,Ki=!1;function Qi(){throw Error(o(321))}function Yi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Br(e[n],t[n]))return!1;return!0}function Ji(e,t,n,r,a,i){if(qi=i,Gi=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Ui.current=null===e||null===e.memoizedState?wo:xo,e=n(r,a),t.expirationTime===qi){i=0;do{if(t.expirationTime=0,!(25>i))throw Error(o(301));i+=1,Hi=Wi=null,t.updateQueue=null,Ui.current=Eo,e=n(r,a)}while(t.expirationTime===qi)}if(Ui.current=ko,t=null!==Wi&&null!==Wi.next,qi=0,Hi=Wi=Gi=null,Ki=!1,t)throw Error(o(300));return e}function Xi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Hi?Gi.memoizedState=Hi=e:Hi=Hi.next=e,Hi}function Zi(){if(null===Wi){var e=Gi.alternate;e=null!==e?e.memoizedState:null}else e=Wi.next;var t=null===Hi?Gi.memoizedState:Hi.next;if(null!==t)Hi=t,Wi=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Wi=e).memoizedState,baseState:Wi.baseState,baseQueue:Wi.baseQueue,queue:Wi.queue,next:null},null===Hi?Gi.memoizedState=Hi=e:Hi=Hi.next=e}return Hi}function eo(e,t){return"function"===typeof t?t(e):t}function to(e){var t=Zi(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Wi,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var u=a.next;a.next=i.next,i.next=u}r.baseQueue=a=i,n.pending=null}if(null!==a){a=a.next,r=r.baseState;var l=u=i=null,c=a;do{var s=c.expirationTime;if(s<qi){var f={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(u=l=f,i=r):l=l.next=f,s>Gi.expirationTime&&(Gi.expirationTime=s,hl(s))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),pl(s,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action);c=c.next}while(null!==c&&c!==a);null===l?i=r:l.next=u,Br(r,t.memoizedState)||(Ao=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function no(e){var t=Zi(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var u=a=a.next;do{i=e(i,u.action),u=u.next}while(u!==a);Br(i,t.memoizedState)||(Ao=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ro(e){var t=Xi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:eo,lastRenderedState:e}).dispatch=bo.bind(null,Gi,e),[t.memoizedState,e]}function ao(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Gi.updateQueue)?(t={lastEffect:null},Gi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function io(){return Zi().memoizedState}function oo(e,t,n,r){var a=Xi();Gi.effectTag|=e,a.memoizedState=ao(1|t,n,void 0,void 0===r?null:r)}function uo(e,t,n,r){var a=Zi();r=void 0===r?null:r;var i=void 0;if(null!==Wi){var o=Wi.memoizedState;if(i=o.destroy,null!==r&&Yi(r,o.deps))return void ao(t,n,i,r)}Gi.effectTag|=e,a.memoizedState=ao(1|t,n,i,r)}function lo(e,t){return oo(516,4,e,t)}function co(e,t){return uo(516,4,e,t)}function so(e,t){return uo(4,2,e,t)}function fo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function po(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,uo(4,2,fo.bind(null,t,e),n)}function ho(){}function vo(e,t){return Xi().memoizedState=[e,void 0===t?null:t],e}function mo(e,t){var n=Zi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Yi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function yo(e,t){var n=Zi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Yi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function go(e,t,n){var r=qa();Wa(98>r?98:r,(function(){e(!0)})),Wa(97<r?97:r,(function(){var r=Vi.suspense;Vi.suspense=void 0===t?null:t;try{e(!1),n()}finally{Vi.suspense=r}}))}function bo(e,t,n){var r=el(),a=mi.suspense;a={expirationTime:r=tl(r,e,a),suspenseConfig:a,action:n,eagerReducer:null,eagerState:null,next:null};var i=t.pending;if(null===i?a.next=a:(a.next=i.next,i.next=a),t.pending=a,i=e.alternate,e===Gi||null!==i&&i===Gi)Ki=!0,a.expirationTime=qi,Gi.expirationTime=qi;else{if(0===e.expirationTime&&(null===i||0===i.expirationTime)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=i(o,n);if(a.eagerReducer=i,a.eagerState=u,Br(u,o))return}catch(l){}nl(e,r)}}var ko={readContext:ui,useCallback:Qi,useContext:Qi,useEffect:Qi,useImperativeHandle:Qi,useLayoutEffect:Qi,useMemo:Qi,useReducer:Qi,useRef:Qi,useState:Qi,useDebugValue:Qi,useResponder:Qi,useDeferredValue:Qi,useTransition:Qi},wo={readContext:ui,useCallback:vo,useContext:ui,useEffect:lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,oo(4,2,fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return oo(4,2,e,t)},useMemo:function(e,t){var n=Xi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=bo.bind(null,Gi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Xi().memoizedState=e},useState:ro,useDebugValue:ho,useResponder:Bi,useDeferredValue:function(e,t){var n=ro(e),r=n[0],a=n[1];return lo((function(){var n=Vi.suspense;Vi.suspense=void 0===t?null:t;try{a(e)}finally{Vi.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ro(!1),n=t[0];return t=t[1],[vo(go.bind(null,t,e),[t,e]),n]}},xo={readContext:ui,useCallback:mo,useContext:ui,useEffect:co,useImperativeHandle:po,useLayoutEffect:so,useMemo:yo,useReducer:to,useRef:io,useState:function(){return to(eo)},useDebugValue:ho,useResponder:Bi,useDeferredValue:function(e,t){var n=to(eo),r=n[0],a=n[1];return co((function(){var n=Vi.suspense;Vi.suspense=void 0===t?null:t;try{a(e)}finally{Vi.suspense=n}}),[e,t]),r},useTransition:function(e){var t=to(eo),n=t[0];return t=t[1],[mo(go.bind(null,t,e),[t,e]),n]}},Eo={readContext:ui,useCallback:mo,useContext:ui,useEffect:co,useImperativeHandle:po,useLayoutEffect:so,useMemo:yo,useReducer:no,useRef:io,useState:function(){return no(eo)},useDebugValue:ho,useResponder:Bi,useDeferredValue:function(e,t){var n=no(eo),r=n[0],a=n[1];return co((function(){var n=Vi.suspense;Vi.suspense=void 0===t?null:t;try{a(e)}finally{Vi.suspense=n}}),[e,t]),r},useTransition:function(e){var t=no(eo),n=t[0];return t=t[1],[mo(go.bind(null,t,e),[t,e]),n]}},Po=null,So=null,_o=!1;function To(e,t){var n=Nl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function $o(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Co(e){if(_o){var t=So;if(t){var n=t;if(!$o(e,t)){if(!(t=Sn(n.nextSibling))||!$o(e,t))return e.effectTag=-1025&e.effectTag|2,_o=!1,void(Po=e);To(Po,n)}Po=e,So=Sn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,_o=!1,Po=e}}function Oo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Po=e}function Io(e){if(e!==Po)return!1;if(!_o)return Oo(e),_o=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!xn(t,e.memoizedProps))for(t=So;t;)To(e,t),t=Sn(t.nextSibling);if(Oo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){So=Sn(e.nextSibling);break e}t--}else"$"!==n&&n!==gn&&n!==yn||t++}e=e.nextSibling}So=null}}else So=Po?Sn(e.stateNode.nextSibling):null;return!0}function No(){So=Po=null,_o=!1}var Do=Y.ReactCurrentOwner,Ao=!1;function Mo(e,t,n,r){t.child=null===e?Ci(t,null,n,r):$i(t,e.child,n,r)}function jo(e,t,n,r,a){n=n.render;var i=t.ref;return oi(t,a),r=Ji(e,t,n,r,i,a),null===e||Ao?(t.effectTag|=1,Mo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=a&&(e.expirationTime=0),Xo(e,t,a))}function Ro(e,t,n,r,a,i){if(null===e){var o=n.type;return"function"!==typeof o||Dl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ml(n.type,null,r,null,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Lo(e,t,o,r,a,i))}return o=e.child,a<i&&(a=o.memoizedProps,(n=null!==(n=n.compare)?n:Vr)(a,r)&&e.ref===t.ref)?Xo(e,t,i):(t.effectTag|=1,(e=Al(o,r)).ref=t.ref,e.return=t,t.child=e)}function Lo(e,t,n,r,a,i){return null!==e&&Vr(e.memoizedProps,r)&&e.ref===t.ref&&(Ao=!1,a<i)?(t.expirationTime=e.expirationTime,Xo(e,t,i)):Fo(e,t,n,r,i)}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Fo(e,t,n,r,a){var i=ba(n)?ya:va.current;return i=ga(t,i),oi(t,a),n=Ji(e,t,n,r,i,a),null===e||Ao?(t.effectTag|=1,Mo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=a&&(e.expirationTime=0),Xo(e,t,a))}function Bo(e,t,n,r,a){if(ba(n)){var i=!0;Ea(t)}else i=!1;if(oi(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),wi(t,n,r),Ei(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=ui(c):c=ga(t,c=ba(n)?ya:va.current);var s=n.getDerivedStateFromProps,f="function"===typeof s||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||l!==c)&&xi(t,o,r,c),li=!1;var d=t.memoizedState;o.state=d,hi(t,r,o,a),l=t.memoizedState,u!==r||d!==l||ma.current||li?("function"===typeof s&&(gi(t,n,s,r),l=t.memoizedState),(u=li||ki(t,n,u,r,d,l,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.effectTag|=4)):("function"===typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else o=t.stateNode,si(e,t),u=t.memoizedProps,o.props=t.type===t.elementType?u:Xa(t.type,u),l=o.context,"object"===typeof(c=n.contextType)&&null!==c?c=ui(c):c=ga(t,c=ba(n)?ya:va.current),(f="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||l!==c)&&xi(t,o,r,c),li=!1,l=t.memoizedState,o.state=l,hi(t,r,o,a),d=t.memoizedState,u!==r||l!==d||ma.current||li?("function"===typeof s&&(gi(t,n,s,r),d=t.memoizedState),(s=li||ki(t,n,u,r,l,d,c))?(f||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,d,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,d,c)),"function"===typeof o.componentDidUpdate&&(t.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),o.props=r,o.state=d,o.context=c,r=s):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return Uo(e,t,n,r,i,a)}function Uo(e,t,n,r,a,i){zo(e,t);var o=0!==(64&t.effectTag);if(!r&&!o)return a&&Pa(t,n,!1),Xo(e,t,i);r=t.stateNode,Do.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=$i(t,e.child,null,i),t.child=$i(t,null,u,i)):Mo(e,t,u,i),t.memoizedState=r.state,a&&Pa(t,n,!0),t.child}function Vo(e){var t=e.stateNode;t.pendingContext?wa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&wa(0,t.context,!1),Mi(e,t.containerInfo)}var qo,Go,Wo,Ho={dehydrated:null,retryTime:0};function Ko(e,t,n){var r,a=t.mode,i=t.pendingProps,o=zi.current,u=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&o)&&(null===e||null!==e.memoizedState)),r?(u=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),pa(zi,1&o),null===e){if(void 0!==i.fallback&&Co(t),u){if(u=i.fallback,(i=jl(null,a,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=jl(u,a,n,null)).return=t,i.sibling=n,t.memoizedState=Ho,t.child=i,n}return a=i.children,t.memoizedState=null,t.child=Ci(t,null,a,n)}if(null!==e.memoizedState){if(a=(e=e.child).sibling,u){if(i=i.fallback,(n=Al(e,e.pendingProps)).return=t,0===(2&t.mode)&&(u=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=u;null!==u;)u.return=n,u=u.sibling;return(a=Al(a,i)).return=t,n.sibling=a,n.childExpirationTime=0,t.memoizedState=Ho,t.child=n,a}return n=$i(t,e.child,i.children,n),t.memoizedState=null,t.child=n}if(e=e.child,u){if(u=i.fallback,(i=jl(null,a,0,null)).return=t,i.child=e,null!==e&&(e.return=i),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=jl(u,a,n,null)).return=t,i.sibling=n,n.effectTag|=2,i.childExpirationTime=0,t.memoizedState=Ho,t.child=i,n}return t.memoizedState=null,t.child=$i(t,e,i.children,n)}function Qo(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),ii(e.return,t)}function Yo(e,t,n,r,a,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:a,lastEffect:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=a,o.lastEffect=i)}function Jo(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Mo(e,t,r.children,n),0!==(2&(r=zi.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qo(e,n);else if(19===e.tag)Qo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(pa(zi,r),0===(2&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Fi(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Yo(t,!1,a,n,i,t.lastEffect);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Fi(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Yo(t,!0,n,null,i,t.lastEffect);break;case"together":Yo(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Xo(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&hl(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Al(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Al(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Zo(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function eu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return ba(t.type)&&ka(),null;case 3:return ji(),da(ma),da(va),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Io(t)||(t.effectTag|=4),null;case 5:Li(t),n=Ai(Di.current);var i=t.type;if(null!==e&&null!=t.stateNode)Go(e,t,i,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ai(Ii.current),Io(t)){r=t.stateNode,i=t.type;var u=t.memoizedProps;switch(r[$n]=t,r[Cn]=u,i){case"iframe":case"object":case"embed":Kt("load",r);break;case"video":case"audio":for(e=0;e<Je.length;e++)Kt(Je[e],r);break;case"source":Kt("error",r);break;case"img":case"image":case"link":Kt("error",r),Kt("load",r);break;case"form":Kt("reset",r),Kt("submit",r);break;case"details":Kt("toggle",r);break;case"input":Ee(r,u),Kt("invalid",r),cn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Kt("invalid",r),cn(n,"onChange");break;case"textarea":Ie(r,u),Kt("invalid",r),cn(n,"onChange")}for(var l in on(i,u),e=null,u)if(u.hasOwnProperty(l)){var c=u[l];"children"===l?"string"===typeof c?r.textContent!==c&&(e=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(e=["children",""+c]):P.hasOwnProperty(l)&&null!=c&&cn(n,l)}switch(i){case"input":ke(r),_e(r,u,!0);break;case"textarea":ke(r),De(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=sn)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,e===ln&&(e=je(i)),e===ln?"script"===i?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(i,{is:r.is}):(e=l.createElement(i),"select"===i&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,i),e[$n]=t,e[Cn]=r,qo(e,t),t.stateNode=e,l=un(i,r),i){case"iframe":case"object":case"embed":Kt("load",e),c=r;break;case"video":case"audio":for(c=0;c<Je.length;c++)Kt(Je[c],e);c=r;break;case"source":Kt("error",e),c=r;break;case"img":case"image":case"link":Kt("error",e),Kt("load",e),c=r;break;case"form":Kt("reset",e),Kt("submit",e),c=r;break;case"details":Kt("toggle",e),c=r;break;case"input":Ee(e,r),c=xe(e,r),Kt("invalid",e),cn(n,"onChange");break;case"option":c=$e(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},c=a({},r,{value:void 0}),Kt("invalid",e),cn(n,"onChange");break;case"textarea":Ie(e,r),c=Oe(e,r),Kt("invalid",e),cn(n,"onChange");break;default:c=r}on(i,c);var s=c;for(u in s)if(s.hasOwnProperty(u)){var f=s[u];"style"===u?rn(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&Fe(e,f):"children"===u?"string"===typeof f?("textarea"!==i||""!==f)&&Be(e,f):"number"===typeof f&&Be(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(P.hasOwnProperty(u)?null!=f&&cn(n,u):null!=f&&J(e,u,f,l))}switch(i){case"input":ke(e),_e(e,r,!1);break;case"textarea":ke(e),De(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ge(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ce(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ce(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof c.onClick&&(e.onclick=sn)}wn(i,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Wo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ai(Di.current),Ai(Ii.current),Io(t)?(n=t.stateNode,r=t.memoizedProps,n[$n]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$n]=t,t.stateNode=n)}return null;case 13:return da(zi),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Io(t):(r=null!==(i=e.memoizedState),n||null===i||null!==(i=e.child.sibling)&&(null!==(u=t.firstEffect)?(t.firstEffect=i,i.nextEffect=u):(t.firstEffect=t.lastEffect=i,i.nextEffect=null),i.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&zi.current)?Mu===$u&&(Mu=Cu):(Mu!==$u&&Mu!==Cu||(Mu=Ou),0!==Fu&&null!==Nu&&(Bl(Nu,Au),Ul(Nu,Fu)))),(n||r)&&(t.effectTag|=4),null);case 4:return ji(),null;case 10:return ai(t),null;case 19:if(da(zi),null===(r=t.memoizedState))return null;if(i=0!==(64&t.effectTag),null===(u=r.rendering)){if(i)Zo(r,!1);else if(Mu!==$u||null!==e&&0!==(64&e.effectTag))for(u=t.child;null!==u;){if(null!==(e=Fi(u))){for(t.effectTag|=64,Zo(r,!1),null!==(i=e.updateQueue)&&(t.updateQueue=i,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)u=n,(i=r).effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(e=i.alternate)?(i.childExpirationTime=0,i.expirationTime=u,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=e.childExpirationTime,i.expirationTime=e.expirationTime,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,u=e.dependencies,i.dependencies=null===u?null:{expirationTime:u.expirationTime,firstContext:u.firstContext,responders:u.responders}),r=r.sibling;return pa(zi,1&zi.current|2),t.child}u=u.sibling}}else{if(!i)if(null!==(e=Fi(u))){if(t.effectTag|=64,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Zo(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Va()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,i=!0,Zo(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Va()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Va(),n.sibling=null,t=zi.current,pa(zi,i?1&t|2:1&t),n):null}throw Error(o(156,t.tag))}function tu(e){switch(e.tag){case 1:ba(e.type)&&ka();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(ji(),da(ma),da(va),0!==(64&(t=e.effectTag)))throw Error(o(285));return e.effectTag=-4097&t|64,e;case 5:return Li(e),null;case 13:return da(zi),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return da(zi),null;case 4:return ji(),null;case 10:return ai(e),null;default:return null}}function nu(e,t){return{value:e,source:t,stack:ye(t)}}qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Go=function(e,t,n,r,i){var o=e.memoizedProps;if(o!==r){var u,l,c=t.stateNode;switch(Ai(Ii.current),e=null,n){case"input":o=xe(c,o),r=xe(c,r),e=[];break;case"option":o=$e(c,o),r=$e(c,r),e=[];break;case"select":o=a({},o,{value:void 0}),r=a({},r,{value:void 0}),e=[];break;case"textarea":o=Oe(c,o),r=Oe(c,r),e=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(c.onclick=sn)}for(u in on(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u)for(l in c=o[u])c.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(P.hasOwnProperty(u)?e||(e=[]):(e=e||[]).push(u,null));for(u in r){var s=r[u];if(c=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&s!==c&&(null!=s||null!=c))if("style"===u)if(c){for(l in c)!c.hasOwnProperty(l)||s&&s.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in s)s.hasOwnProperty(l)&&c[l]!==s[l]&&(n||(n={}),n[l]=s[l])}else n||(e||(e=[]),e.push(u,n)),n=s;else"dangerouslySetInnerHTML"===u?(s=s?s.__html:void 0,c=c?c.__html:void 0,null!=s&&c!==s&&(e=e||[]).push(u,s)):"children"===u?c===s||"string"!==typeof s&&"number"!==typeof s||(e=e||[]).push(u,""+s):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(P.hasOwnProperty(u)?(null!=s&&cn(i,u),e||c===s||(e=[])):(e=e||[]).push(u,s))}n&&(e=e||[]).push("style",n),i=e,(t.updateQueue=i)&&(t.effectTag|=4)}},Wo=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var ru="function"===typeof WeakSet?WeakSet:Set;function au(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ye(n)),null!==n&&me(n.type),t=t.value,null!==e&&1===e.tag&&me(e.type);try{console.error(t)}catch(a){setTimeout((function(){throw a}))}}function iu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){_l(e,n)}else t.current=null}function ou(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xa(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return}throw Error(o(163))}function uu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function lu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function cu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void lu(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Xa(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&vi(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}vi(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&wn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Rt(n)))))}throw Error(o(163))}function su(e,t,n){switch("function"===typeof Ol&&Ol(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Wa(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var a=t;try{n()}catch(i){_l(a,i)}}e=e.next}while(e!==r)}))}break;case 1:iu(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){_l(e,n)}}(t,n);break;case 5:iu(t);break;case 4:mu(e,t,n)}}function fu(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&fu(t)}function du(e){return 5===e.tag||3===e.tag||4===e.tag}function pu(e){e:{for(var t=e.return;null!==t;){if(du(t)){var n=t;break e}t=t.return}throw Error(o(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.effectTag&&(Be(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||du(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?hu(e,n,t):vu(e,n,t)}function hu(e,t,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=sn));else if(4!==r&&null!==(e=e.child))for(hu(e,t,n),e=e.sibling;null!==e;)hu(e,t,n),e=e.sibling}function vu(e,t,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(vu(e,t,n),e=e.sibling;null!==e;)vu(e,t,n),e=e.sibling}function mu(e,t,n){for(var r,a,i=t,u=!1;;){if(!u){u=i.return;e:for(;;){if(null===u)throw Error(o(160));switch(r=u.stateNode,u.tag){case 5:a=!1;break e;case 3:case 4:r=r.containerInfo,a=!0;break e}u=u.return}u=!0}if(5===i.tag||6===i.tag){e:for(var l=e,c=i,s=n,f=c;;)if(su(l,f,s),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}a?(l=r,c=i.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):r.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){r=i.stateNode.containerInfo,a=!0,i.child.return=i,i=i.child;continue}}else if(su(e,i,n),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(u=!1)}i.sibling.return=i.return,i=i.sibling}}function yu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void uu(3,t);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,a=null!==e?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(n[Cn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Pe(n,r),un(e,a),t=un(e,r),a=0;a<i.length;a+=2){var u=i[a],l=i[a+1];"style"===u?rn(n,l):"dangerouslySetInnerHTML"===u?Fe(n,l):"children"===u?Be(n,l):J(n,u,l,t)}switch(e){case"input":Se(n,r);break;case"textarea":Ne(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ce(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ce(n,!!r.multiple,r.defaultValue,!0):Ce(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Rt(t.containerInfo)));case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Uu=Va()),null!==n)e:for(e=n;;){if(5===e.tag)i=e.stateNode,r?"function"===typeof(i=i.style).setProperty?i.setProperty("display","none","important"):i.display="none":(i=e.stateNode,a=void 0!==(a=e.memoizedProps.style)&&null!==a&&a.hasOwnProperty("display")?a.display:null,i.style.display=nn("display",a));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(i=e.child.sibling).return=e,e=i;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void gu(t);case 19:return void gu(t)}throw Error(o(163))}function gu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ru),t.forEach((function(t){var r=$l.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var bu="function"===typeof WeakMap?WeakMap:Map;function ku(e,t,n){(n=fi(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qu||(qu=!0,Gu=r),au(e,t)},n}function wu(e,t,n){(n=fi(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return au(e,t),r(a)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Wu?Wu=new Set([this]):Wu.add(this),au(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var xu,Eu=Math.ceil,Pu=Y.ReactCurrentDispatcher,Su=Y.ReactCurrentOwner,_u=16,Tu=32,$u=0,Cu=3,Ou=4,Iu=0,Nu=null,Du=null,Au=0,Mu=$u,ju=null,Ru=1073741823,Lu=1073741823,zu=null,Fu=0,Bu=!1,Uu=0,Vu=null,qu=!1,Gu=null,Wu=null,Hu=!1,Ku=null,Qu=90,Yu=null,Ju=0,Xu=null,Zu=0;function el(){return 0!==(48&Iu)?1073741821-(Va()/10|0):0!==Zu?Zu:Zu=1073741821-(Va()/10|0)}function tl(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=qa();if(0===(4&t))return 99===r?1073741823:1073741822;if(0!==(Iu&_u))return Au;if(null!==n)e=Ja(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Ja(e,150,100);break;case 97:case 96:e=Ja(e,5e3,250);break;case 95:e=2;break;default:throw Error(o(326))}return null!==Nu&&e===Au&&--e,e}function nl(e,t){if(50<Ju)throw Ju=0,Xu=null,Error(o(185));if(null!==(e=rl(e,t))){var n=qa();1073741823===t?0!==(8&Iu)&&0===(48&Iu)?ul(e):(il(e),0===Iu&&Qa()):il(e),0===(4&Iu)||98!==n&&99!==n||(null===Yu?Yu=new Map([[e,t]]):(void 0===(n=Yu.get(e))||n>t)&&Yu.set(e,t))}}function rl(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,a=null;if(null===r&&3===e.tag)a=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){a=r.stateNode;break}r=r.return}return null!==a&&(Nu===a&&(hl(t),Mu===Ou&&Bl(a,Au)),Ul(a,t)),a}function al(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Fl(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function il(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Ka(ul.bind(null,e));else{var t=al(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=el();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var a=e.callbackPriority;if(e.callbackExpirationTime===t&&a>=r)return;n!==ja&&Ta(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Ka(ul.bind(null,e)):Ha(r,ol.bind(null,e),{timeout:10*(1073741821-t)-Va()}),e.callbackNode=t}}}function ol(e,t){if(Zu=0,t)return Vl(e,t=el()),il(e),null;var n=al(e);if(0!==n){if(t=e.callbackNode,0!==(48&Iu))throw Error(o(327));if(El(),e===Nu&&n===Au||sl(e,n),null!==Du){var r=Iu;Iu|=_u;for(var a=dl();;)try{ml();break}catch(l){fl(e,l)}if(ri(),Iu=r,Pu.current=a,1===Mu)throw t=ju,sl(e,n),Bl(e,n),il(e),t;if(null===Du)switch(a=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Mu,Nu=null,r){case $u:case 1:throw Error(o(345));case 2:Vl(e,2<n?2:n);break;case Cu:if(Bl(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=bl(a)),1073741823===Ru&&10<(a=Uu+500-Va())){if(Bu){var i=e.lastPingedTime;if(0===i||i>=n){e.lastPingedTime=n,sl(e,n);break}}if(0!==(i=al(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=En(kl.bind(null,e),a);break}kl(e);break;case Ou:if(Bl(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=bl(a)),Bu&&(0===(a=e.lastPingedTime)||a>=n)){e.lastPingedTime=n,sl(e,n);break}if(0!==(a=al(e))&&a!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Lu?r=10*(1073741821-Lu)-Va():1073741823===Ru?r=0:(r=10*(1073741821-Ru)-5e3,0>(r=(a=Va())-r)&&(r=0),(n=10*(1073741821-n)-a)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=En(kl.bind(null,e),r);break}kl(e);break;case 5:if(1073741823!==Ru&&null!==zu){i=Ru;var u=zu;if(0>=(r=0|u.busyMinDurationMs)?r=0:(a=0|u.busyDelayMs,r=(i=Va()-(10*(1073741821-i)-(0|u.timeoutMs||5e3)))<=a?0:a+r-i),10<r){Bl(e,n),e.timeoutHandle=En(kl.bind(null,e),r);break}}kl(e);break;default:throw Error(o(329))}if(il(e),e.callbackNode===t)return ol.bind(null,e)}}return null}function ul(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&Iu))throw Error(o(327));if(El(),e===Nu&&t===Au||sl(e,t),null!==Du){var n=Iu;Iu|=_u;for(var r=dl();;)try{vl();break}catch(a){fl(e,a)}if(ri(),Iu=n,Pu.current=r,1===Mu)throw n=ju,sl(e,t),Bl(e,t),il(e),n;if(null!==Du)throw Error(o(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Nu=null,kl(e),il(e)}return null}function ll(e,t){var n=Iu;Iu|=1;try{return e(t)}finally{0===(Iu=n)&&Qa()}}function cl(e,t){var n=Iu;Iu&=-2,Iu|=8;try{return e(t)}finally{0===(Iu=n)&&Qa()}}function sl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Pn(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ka();break;case 3:ji(),da(ma),da(va);break;case 5:Li(r);break;case 4:ji();break;case 13:case 19:da(zi);break;case 10:ai(r)}n=n.return}Nu=e,Du=Al(e.current,null),Au=t,Mu=$u,ju=null,Lu=Ru=1073741823,zu=null,Fu=0,Bu=!1}function fl(e,t){for(;;){try{if(ri(),Ui.current=ko,Ki)for(var n=Gi.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(qi=0,Hi=Wi=Gi=null,Ki=!1,null===Du||null===Du.return)return Mu=1,ju=t,Du=null;e:{var a=e,i=Du.return,o=Du,u=t;if(t=Au,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u;if(0===(2&o.mode)){var c=o.alternate;c?(o.updateQueue=c.updateQueue,o.memoizedState=c.memoizedState,o.expirationTime=c.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var s=0!==(1&zi.current),f=i;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var h=f.memoizedProps;d=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!s)}}if(d){var v=f.updateQueue;if(null===v){var m=new Set;m.add(l),f.updateQueue=m}else v.add(l);if(0===(2&f.mode)){if(f.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var y=fi(1073741823,null);y.tag=2,di(o,y)}o.expirationTime=1073741823;break e}u=void 0,o=t;var g=a.pingCache;if(null===g?(g=a.pingCache=new bu,u=new Set,g.set(l,u)):void 0===(u=g.get(l))&&(u=new Set,g.set(l,u)),!u.has(o)){u.add(o);var b=Tl.bind(null,a,l,o);l.then(b,b)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);u=Error((me(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ye(o))}5!==Mu&&(Mu=2),u=nu(u,o),f=i;do{switch(f.tag){case 3:l=u,f.effectTag|=4096,f.expirationTime=t,pi(f,ku(f,l,t));break e;case 1:l=u;var k=f.type,w=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof k.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Wu||!Wu.has(w)))){f.effectTag|=4096,f.expirationTime=t,pi(f,wu(f,l,t));break e}}f=f.return}while(null!==f)}Du=gl(Du)}catch(x){t=x;continue}break}}function dl(){var e=Pu.current;return Pu.current=ko,null===e?ko:e}function pl(e,t){e<Ru&&2<e&&(Ru=e),null!==t&&e<Lu&&2<e&&(Lu=e,zu=t)}function hl(e){e>Fu&&(Fu=e)}function vl(){for(;null!==Du;)Du=yl(Du)}function ml(){for(;null!==Du&&!Ra();)Du=yl(Du)}function yl(e){var t=xu(e.alternate,e,Au);return e.memoizedProps=e.pendingProps,null===t&&(t=gl(e)),Su.current=null,t}function gl(e){Du=e;do{var t=Du.alternate;if(e=Du.return,0===(2048&Du.effectTag)){if(t=eu(t,Du,Au),1===Au||1!==Du.childExpirationTime){for(var n=0,r=Du.child;null!==r;){var a=r.expirationTime,i=r.childExpirationTime;a>n&&(n=a),i>n&&(n=i),r=r.sibling}Du.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Du.firstEffect),null!==Du.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Du.firstEffect),e.lastEffect=Du.lastEffect),1<Du.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Du:e.firstEffect=Du,e.lastEffect=Du))}else{if(null!==(t=tu(Du)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Du.sibling))return t;Du=e}while(null!==Du);return Mu===$u&&(Mu=5),null}function bl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function kl(e){var t=qa();return Wa(99,wl.bind(null,e,t)),null}function wl(e,t){do{El()}while(null!==Ku);if(0!==(48&Iu))throw Error(o(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var a=bl(n);if(e.firstPendingTime=a,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Nu&&(Du=Nu=null,Au=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,a=n.firstEffect):a=n:a=n.firstEffect,null!==a){var i=Iu;Iu|=Tu,Su.current=null,bn=Ht;var u=vn();if(mn(u)){if("selectionStart"in u)var l={start:u.selectionStart,end:u.selectionEnd};else e:{var c=(l=(l=u.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(c&&0!==c.rangeCount){l=c.anchorNode;var s=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{l.nodeType,f.nodeType}catch(_){l=null;break e}var d=0,p=-1,h=-1,v=0,m=0,y=u,g=null;t:for(;;){for(var b;y!==l||0!==s&&3!==y.nodeType||(p=d+s),y!==f||0!==c&&3!==y.nodeType||(h=d+c),3===y.nodeType&&(d+=y.nodeValue.length),null!==(b=y.firstChild);)g=y,y=b;for(;;){if(y===u)break t;if(g===l&&++v===s&&(p=d),g===f&&++m===c&&(h=d),null!==(b=y.nextSibling))break;g=(y=g).parentNode}y=b}l=-1===p||-1===h?null:{start:p,end:h}}else l=null}l=l||{start:0,end:0}}else l=null;kn={activeElementDetached:null,focusedElem:u,selectionRange:l},Ht=!1,Vu=a;do{try{xl()}catch(_){if(null===Vu)throw Error(o(330));_l(Vu,_),Vu=Vu.nextEffect}}while(null!==Vu);Vu=a;do{try{for(u=e,l=t;null!==Vu;){var k=Vu.effectTag;if(16&k&&Be(Vu.stateNode,""),128&k){var w=Vu.alternate;if(null!==w){var x=w.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&k){case 2:pu(Vu),Vu.effectTag&=-3;break;case 6:pu(Vu),Vu.effectTag&=-3,yu(Vu.alternate,Vu);break;case 1024:Vu.effectTag&=-1025;break;case 1028:Vu.effectTag&=-1025,yu(Vu.alternate,Vu);break;case 4:yu(Vu.alternate,Vu);break;case 8:mu(u,s=Vu,l),fu(s)}Vu=Vu.nextEffect}}catch(_){if(null===Vu)throw Error(o(330));_l(Vu,_),Vu=Vu.nextEffect}}while(null!==Vu);if(x=kn,w=vn(),k=x.focusedElem,l=x.selectionRange,w!==k&&k&&k.ownerDocument&&hn(k.ownerDocument.documentElement,k)){null!==l&&mn(k)&&(w=l.start,void 0===(x=l.end)&&(x=w),"selectionStart"in k?(k.selectionStart=w,k.selectionEnd=Math.min(x,k.value.length)):(x=(w=k.ownerDocument||document)&&w.defaultView||window).getSelection&&(x=x.getSelection(),s=k.textContent.length,u=Math.min(l.start,s),l=void 0===l.end?u:Math.min(l.end,s),!x.extend&&u>l&&(s=l,l=u,u=s),s=pn(k,u),f=pn(k,l),s&&f&&(1!==x.rangeCount||x.anchorNode!==s.node||x.anchorOffset!==s.offset||x.focusNode!==f.node||x.focusOffset!==f.offset)&&((w=w.createRange()).setStart(s.node,s.offset),x.removeAllRanges(),u>l?(x.addRange(w),x.extend(f.node,f.offset)):(w.setEnd(f.node,f.offset),x.addRange(w))))),w=[];for(x=k;x=x.parentNode;)1===x.nodeType&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<w.length;k++)(x=w[k]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Ht=!!bn,kn=bn=null,e.current=n,Vu=a;do{try{for(k=e;null!==Vu;){var E=Vu.effectTag;if(36&E&&cu(k,Vu.alternate,Vu),128&E){w=void 0;var P=Vu.ref;if(null!==P){var S=Vu.stateNode;Vu.tag,w=S,"function"===typeof P?P(w):P.current=w}}Vu=Vu.nextEffect}}catch(_){if(null===Vu)throw Error(o(330));_l(Vu,_),Vu=Vu.nextEffect}}while(null!==Vu);Vu=null,La(),Iu=i}else e.current=n;if(Hu)Hu=!1,Ku=e,Qu=t;else for(Vu=a;null!==Vu;)t=Vu.nextEffect,Vu.nextEffect=null,Vu=t;if(0===(t=e.firstPendingTime)&&(Wu=null),1073741823===t?e===Xu?Ju++:(Ju=0,Xu=e):Ju=0,"function"===typeof Cl&&Cl(n.stateNode,r),il(e),qu)throw qu=!1,e=Gu,Gu=null,e;return 0!==(8&Iu)||Qa(),null}function xl(){for(;null!==Vu;){var e=Vu.effectTag;0!==(256&e)&&ou(Vu.alternate,Vu),0===(512&e)||Hu||(Hu=!0,Ha(97,(function(){return El(),null}))),Vu=Vu.nextEffect}}function El(){if(90!==Qu){var e=97<Qu?97:Qu;return Qu=90,Wa(e,Pl)}}function Pl(){if(null===Ku)return!1;var e=Ku;if(Ku=null,0!==(48&Iu))throw Error(o(331));var t=Iu;for(Iu|=Tu,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:uu(5,n),lu(5,n)}}catch(r){if(null===e)throw Error(o(330));_l(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Iu=t,Qa(),!0}function Sl(e,t,n){di(e,t=ku(e,t=nu(n,t),1073741823)),null!==(e=rl(e,1073741823))&&il(e)}function _l(e,t){if(3===e.tag)Sl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Sl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wu||!Wu.has(r))){di(n,e=wu(n,e=nu(t,e),1073741823)),null!==(n=rl(n,1073741823))&&il(n);break}}n=n.return}}function Tl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Nu===e&&Au===n?Mu===Ou||Mu===Cu&&1073741823===Ru&&Va()-Uu<500?sl(e,Au):Bu=!0:Fl(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,il(e)))}function $l(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=tl(t=el(),e,null)),null!==(e=rl(e,t))&&il(e)}xu=function(e,t,n){var r=t.expirationTime;if(null!==e){var a=t.pendingProps;if(e.memoizedProps!==a||ma.current)Ao=!0;else{if(r<n){switch(Ao=!1,t.tag){case 3:Vo(t),No();break;case 5:if(Ri(t),4&t.mode&&1!==n&&a.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:ba(t.type)&&Ea(t);break;case 4:Mi(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,a=t.type._context,pa(Za,a._currentValue),a._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Ko(e,t,n):(pa(zi,1&zi.current),null!==(t=Xo(e,t,n))?t.sibling:null);pa(zi,1&zi.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return Jo(e,t,n);t.effectTag|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null),pa(zi,zi.current),!r)return null}return Xo(e,t,n)}Ao=!1}}else Ao=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,a=ga(t,va.current),oi(t,n),a=Ji(null,t,r,e,a,n),t.effectTag|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,ba(r)){var i=!0;Ea(t)}else i=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,ci(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&gi(t,r,u,e),a.updater=bi,t.stateNode=a,a._reactInternalFiber=t,Ei(t,r,e,n),t=Uo(null,t,r,!0,i,n)}else t.tag=0,Mo(null,t,a,n),t=t.child;return t;case 16:e:{if(a=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(a),1!==a._status)throw a._result;switch(a=a._result,t.type=a,i=t.tag=function(e){if("function"===typeof e)return Dl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===le)return 11;if(e===fe)return 14}return 2}(a),e=Xa(a,e),i){case 0:t=Fo(null,t,a,e,n);break e;case 1:t=Bo(null,t,a,e,n);break e;case 11:t=jo(null,t,a,e,n);break e;case 14:t=Ro(null,t,a,Xa(a.type,e),r,n);break e}throw Error(o(306,a,""))}return t;case 0:return r=t.type,a=t.pendingProps,Fo(e,t,r,a=t.elementType===r?a:Xa(r,a),n);case 1:return r=t.type,a=t.pendingProps,Bo(e,t,r,a=t.elementType===r?a:Xa(r,a),n);case 3:if(Vo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,si(e,t),hi(t,r,null,n),(r=t.memoizedState.element)===a)No(),t=Xo(e,t,n);else{if((a=t.stateNode.hydrate)&&(So=Sn(t.stateNode.containerInfo.firstChild),Po=t,a=_o=!0),a)for(n=Ci(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Mo(e,t,r,n),No();t=t.child}return t;case 5:return Ri(t),null===e&&Co(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,u=a.children,xn(r,a)?u=null:null!==i&&xn(r,i)&&(t.effectTag|=16),zo(e,t),4&t.mode&&1!==n&&a.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Mo(e,t,u,n),t=t.child),t;case 6:return null===e&&Co(t),null;case 13:return Ko(e,t,n);case 4:return Mi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$i(t,null,r,n):Mo(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,jo(e,t,r,a=t.elementType===r?a:Xa(r,a),n);case 7:return Mo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Mo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,a=t.pendingProps,u=t.memoizedProps,i=a.value;var l=t.type._context;if(pa(Za,l._currentValue),l._currentValue=i,null!==u)if(l=u.value,0===(i=Br(l,i)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,i):1073741823))){if(u.children===a.children&&!ma.current){t=Xo(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){u=l.child;for(var s=c.firstContext;null!==s;){if(s.context===r&&0!==(s.observedBits&i)){1===l.tag&&((s=fi(n,null)).tag=2,di(l,s)),l.expirationTime<n&&(l.expirationTime=n),null!==(s=l.alternate)&&s.expirationTime<n&&(s.expirationTime=n),ii(l.return,n),c.expirationTime<n&&(c.expirationTime=n);break}s=s.next}}else u=10===l.tag&&l.type===t.type?null:l.child;if(null!==u)u.return=l;else for(u=l;null!==u;){if(u===t){u=null;break}if(null!==(l=u.sibling)){l.return=u.return,u=l;break}u=u.return}l=u}Mo(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=(i=t.pendingProps).children,oi(t,n),r=r(a=ui(a,i.unstable_observedBits)),t.effectTag|=1,Mo(e,t,r,n),t.child;case 14:return i=Xa(a=t.type,t.pendingProps),Ro(e,t,a,i=Xa(a.type,i),r,n);case 15:return Lo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Xa(r,a),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,ba(r)?(e=!0,Ea(t)):e=!1,oi(t,n),wi(t,r,a),Ei(t,r,a,n),Uo(null,t,r,!0,e,n);case 19:return Jo(e,t,n)}throw Error(o(156,t.tag))};var Cl=null,Ol=null;function Il(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Nl(e,t,n,r){return new Il(e,t,n,r)}function Dl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Al(e,t){var n=e.alternate;return null===n?((n=Nl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ml(e,t,n,r,a,i){var u=2;if(r=e,"function"===typeof e)Dl(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case ne:return jl(n.children,a,i,t);case ue:u=8,a|=7;break;case re:u=8,a|=1;break;case ae:return(e=Nl(12,n,t,8|a)).elementType=ae,e.type=ae,e.expirationTime=i,e;case ce:return(e=Nl(13,n,t,a)).type=ce,e.elementType=ce,e.expirationTime=i,e;case se:return(e=Nl(19,n,t,a)).elementType=se,e.expirationTime=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case ie:u=10;break e;case oe:u=9;break e;case le:u=11;break e;case fe:u=14;break e;case de:u=16,r=null;break e;case pe:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Nl(u,n,t,a)).elementType=e,t.type=r,t.expirationTime=i,t}function jl(e,t,n,r){return(e=Nl(7,e,r,t)).expirationTime=n,e}function Rl(e,t,n){return(e=Nl(6,e,null,t)).expirationTime=n,e}function Ll(e,t,n){return(t=Nl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Fl(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Bl(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Ul(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Vl(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function ql(e,t,n,r){var a=t.current,i=el(),u=mi.suspense;i=tl(i,a,u);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(o(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(ba(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(o(171))}if(1===n.tag){var c=n.type;if(ba(c)){n=xa(n,c,l);break e}}n=l}else n=ha;return null===t.context?t.context=n:t.pendingContext=n,(t=fi(i,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),di(a,t),nl(a,i),i}function Gl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Hl(e,t){Wl(e,t),(e=e.alternate)&&Wl(e,t)}function Kl(e,t,n){var r=new zl(e,t,n=null!=n&&!0===n.hydrate),a=Nl(3,null,null,2===t?7:1===t?3:0);r.current=a,a.stateNode=r,ci(a),e[On]=r.current,n&&0!==t&&function(e,t){var n=Ze(t);Tt.forEach((function(e){vt(e,t,n)})),$t.forEach((function(e){vt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Yl(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i._internalRoot;if("function"===typeof a){var u=a;a=function(){var e=Gl(o);u.call(e)}}ql(t,o,e,a)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Kl(e,0,t?{hydrate:!0}:void 0)}(n,r),o=i._internalRoot,"function"===typeof a){var l=a;a=function(){var e=Gl(o);l.call(e)}}cl((function(){ql(t,o,e,a)}))}return Gl(o)}function Jl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Xl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ql(t))throw Error(o(200));return Jl(e,t,null,n)}Kl.prototype.render=function(e){ql(e,this._internalRoot,null,null)},Kl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ql(null,e,null,(function(){t[On]=null}))},mt=function(e){if(13===e.tag){var t=Ja(el(),150,100);nl(e,t),Hl(e,t)}},yt=function(e){13===e.tag&&(nl(e,3),Hl(e,3))},gt=function(e){if(13===e.tag){var t=el();nl(e,t=tl(t,e,null)),Hl(e,t)}},$=function(e,t,n){switch(t){case"input":if(Se(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=An(r);if(!a)throw Error(o(90));we(r),Se(r,a)}}}break;case"textarea":Ne(e,n);break;case"select":null!=(t=n.value)&&Ce(e,!!n.multiple,t,!1)}},A=ll,M=function(e,t,n,r,a){var i=Iu;Iu|=4;try{return Wa(98,e.bind(null,t,n,r,a))}finally{0===(Iu=i)&&Qa()}},j=function(){0===(49&Iu)&&(function(){if(null!==Yu){var e=Yu;Yu=null,e.forEach((function(e,t){Vl(t,e),il(t)})),Qa()}}(),El())},R=function(e,t){var n=Iu;Iu|=2;try{return e(t)}finally{0===(Iu=n)&&Qa()}};var Zl={Events:[Nn,Dn,An,_,E,Bn,function(e){it(e,Fn)},N,D,Xt,lt,El,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Cl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Ol=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(a({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:In,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zl,t.createPortal=Xl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!==(48&Iu))throw Error(o(187));var n=Iu;Iu|=1;try{return Wa(99,e.bind(null,t))}finally{Iu=n,Qa()}},t.hydrate=function(e,t,n){if(!Ql(t))throw Error(o(200));return Yl(null,e,t,!0,n)},t.render=function(e,t,n){if(!Ql(t))throw Error(o(200));return Yl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ql(e))throw Error(o(40));return!!e._reactRootContainer&&(cl((function(){Yl(null,null,e,!1,(function(){e._reactRootContainer=null,e[On]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_createPortal=function(e,t){return Xl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ql(n))throw Error(o(200));if(null==e||void 0===e._reactInternalFiber)throw Error(o(38));return Yl(e,t,n,!1,r)},t.version="16.14.0"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),a=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var i=Symbol.for;a=i("react.element"),i("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,s=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(s=t.ref),t)u.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:s,props:i,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),a="function"===typeof Symbol&&Symbol.for,i=a?Symbol.for("react.element"):60103,o=a?Symbol.for("react.portal"):60106,u=a?Symbol.for("react.fragment"):60107,l=a?Symbol.for("react.strict_mode"):60108,c=a?Symbol.for("react.profiler"):60114,s=a?Symbol.for("react.provider"):60109,f=a?Symbol.for("react.context"):60110,d=a?Symbol.for("react.forward_ref"):60112,p=a?Symbol.for("react.suspense"):60113,h=a?Symbol.for("react.memo"):60115,v=a?Symbol.for("react.lazy"):60116,m="function"===typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function k(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||g}function w(){}function x(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||g}k.prototype.isReactComponent={},k.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},k.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=k.prototype;var E=x.prototype=new w;E.constructor=x,r(E,k.prototype),E.isPureReactComponent=!0;var P={current:null},S=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,r)&&!_.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var c=Array(l),s=0;s<l;s++)c[s]=arguments[s+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:P.current}}function $(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var C=/\/+/g,O=[];function I(e,t,n,r){if(O.length){var a=O.pop();return a.result=e,a.keyPrefix=t,a.func=n,a.context=r,a.count=0,a}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function N(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>O.length&&O.push(e)}function D(e,t,n,r){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var u=!1;if(null===e)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return n(r,e,""===t?"."+M(e,0):t),1;if(u=0,t=""===t?".":t+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=t+M(a=e[l],l);u+=D(a,c,n,r)}else if(null===e||"object"!==typeof e?c=null:c="function"===typeof(c=m&&e[m]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),l=0;!(a=e.next()).done;)u+=D(a=a.value,c=t+M(a,l++),n,r);else if("object"===a)throw n=""+e,Error(y(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return u}function A(e,t,n){return null==e?0:D(e,"",t,n)}function M(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function j(e,t){e.func.call(e.context,t,e.count++)}function R(e,t,n){var r=e.result,a=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?L(e,r,n,(function(e){return e})):null!=e&&($(e)&&(e=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,a+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(C,"$&/")+"/")+n)),r.push(e))}function L(e,t,n,r,a){var i="";null!=n&&(i=(""+n).replace(C,"$&/")+"/"),A(e,R,t=I(t,i,r,a)),N(t)}var z={current:null};function F(){var e=z.current;if(null===e)throw Error(y(321));return e}var B={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:P,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return L(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;A(e,j,t=I(null,null,t,n)),N(t)},count:function(e){return A(e,(function(){return null}),null)},toArray:function(e){var t=[];return L(e,t,null,(function(e){return e})),t},only:function(e){if(!$(e))throw Error(y(143));return e}},t.Component=k,t.Fragment=u,t.Profiler=c,t.PureComponent=x,t.StrictMode=l,t.Suspense=p,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(y(267,e));var a=r({},e.props),o=e.key,u=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,l=P.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(s in t)S.call(t,s)&&!_.hasOwnProperty(s)&&(a[s]=void 0===t[s]&&void 0!==c?c[s]:t[s])}var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){c=Array(s);for(var f=0;f<s;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=$,t.lazy=function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return F().useCallback(e,t)},t.useContext=function(e,t){return F().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return F().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return F().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return F().useLayoutEffect(e,t)},t.useMemo=function(e,t){return F().useMemo(e,t)},t.useReducer=function(e,t,n){return F().useReducer(e,t,n)},t.useRef=function(e){return F().useRef(e)},t.useState=function(e){return F().useState(e)},t.version="16.14.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},935:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.diffAny=t.diffObjects=t.diffArrays=t.intersection=t.subtract=t.isDestructive=void 0;var r=n(168);function a(e,t){var n={};for(var a in e)r.hasOwnProperty.call(e,a)&&void 0!==e[a]&&(n[a]=1);for(var i in t)r.hasOwnProperty.call(t,i)&&void 0!==t[i]&&delete n[i];return Object.keys(n)}function i(e){for(var t=e.length,n={},a=0;a<t;a++){var i=e[a];for(var o in i)r.hasOwnProperty.call(i,o)&&void 0!==i[o]&&(n[o]=(n[o]||0)+1)}for(var o in n)n[o]<t&&delete n[o];return Object.keys(n)}function o(e,t){return{operations:e.operations.concat(t),cost:e.cost+1}}function u(e,t,n,r){void 0===r&&(r=c);var a={"0,0":{operations:[],cost:0}};var i=isNaN(e.length)||e.length<=0?0:e.length,u=isNaN(t.length)||t.length<=0?0:t.length,l=function i(u,l){var c=u+","+l,s=a[c];if(void 0===s){if(u>0&&l>0&&!r(e[u-1],t[l-1],n.add(String(u-1))).length)s=i(u-1,l-1);else{var f=[];if(u>0){var d=i(u-1,l),p={op:"remove",index:u-1};f.push(o(d,p))}if(l>0){var h=i(u,l-1),v={op:"add",index:u-1,value:t[l-1]};f.push(o(h,v))}if(u>0&&l>0){var m=i(u-1,l-1),y={op:"replace",index:u-1,original:e[u-1],value:t[l-1]};f.push(o(m,y))}s=f.sort((function(e,t){return e.cost-t.cost}))[0]}a[c]=s}return s}(i,u).operations;return l.reduce((function(e,t){var a=e[0],o=e[1];if(function(e){return"add"===e.op}(t)){var u=t.index+1+o,l=u<i+o?String(u):"-",c={op:t.op,path:n.add(l).toString(),value:t.value};return[a.concat(c),o+1]}if(function(e){return"remove"===e.op}(t)){c={op:t.op,path:n.add(String(t.index+o)).toString()};return[a.concat(c),o-1]}var s=n.add(String(t.index+o)),f=r(t.original,t.value,s);return[a.concat.apply(a,f),o]}),[[],0])[0]}function l(e,t,n,r){void 0===r&&(r=c);var o=[];return a(e,t).forEach((function(e){o.push({op:"remove",path:n.add(e).toString()})})),a(t,e).forEach((function(e){o.push({op:"add",path:n.add(e).toString(),value:t[e]})})),i([e,t]).forEach((function(a){o.push.apply(o,r(e[a],t[a],n.add(a)))})),o}function c(e,t,n,a){if(void 0===a&&(a=c),e===t)return[];var i=r.objectType(e),o=r.objectType(t);return"array"==i&&"array"==o?u(e,t,n,a):"object"==i&&"object"==o?l(e,t,n,a):[{op:"replace",path:n.toString(),value:t}]}t.isDestructive=function(e){var t=e.op;return"remove"===t||"replace"===t||"copy"===t||"move"===t},t.subtract=a,t.intersection=i,t.diffArrays=u,t.diffObjects=l,t.diffAny=c},405:function(e,t,n){"use strict";t.rh=t.af=void 0;var r=n(451),a=n(662),i=n(935);function o(e,t){var n=r.Pointer.fromJSON(t).evaluate(e);if(void 0!==n)return{op:"test",path:t,value:n.value}}t.af=function(e,t){return t.map((function(t){return a.apply(e,t)}))},t.rh=function(e,t,n){var a=new r.Pointer;return(n?function(e){return function t(n,r,a){var o=e(n,r,a);return Array.isArray(o)?o:i.diffAny(n,r,a,t)}}(n):i.diffAny)(e,t,a)}},662:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.apply=t.InvalidOperationError=t.test=t.copy=t.move=t.replace=t.remove=t.add=t.TestError=t.MissingError=void 0;var a=n(451),i=n(168),o=n(935),u=function(e){function t(t){var n=e.call(this,"Value required at path: "+t)||this;return n.path=t,n.name="MissingError",n}return r(t,e),t}(Error);t.MissingError=u;var l=function(e){function t(t,n){var r=e.call(this,"Test failed: "+t+" != "+n)||this;return r.actual=t,r.expected=n,r.name="TestError",r}return r(t,e),t}(Error);function c(e,t,n){if(Array.isArray(e))if("-"==t)e.push(n);else{var r=parseInt(t,10);e.splice(r,0,n)}else e[t]=n}function s(e,t){if(Array.isArray(e)){var n=parseInt(t,10);e.splice(n,1)}else delete e[t]}function f(e,t){var n=a.Pointer.fromJSON(t.path).evaluate(e);return void 0===n.parent?new u(t.path):(c(n.parent,n.key,i.clone(t.value)),null)}function d(e,t){var n=a.Pointer.fromJSON(t.path).evaluate(e);return void 0===n.value?new u(t.path):(s(n.parent,n.key),null)}function p(e,t){var n=a.Pointer.fromJSON(t.path).evaluate(e);if(null===n.parent)return new u(t.path);if(Array.isArray(n.parent)){if(parseInt(n.key,10)>=n.parent.length)return new u(t.path)}else if(void 0===n.value)return new u(t.path);return n.parent[n.key]=t.value,null}function h(e,t){var n=a.Pointer.fromJSON(t.from).evaluate(e);if(void 0===n.value)return new u(t.from);var r=a.Pointer.fromJSON(t.path).evaluate(e);return void 0===r.parent?new u(t.path):(s(n.parent,n.key),c(r.parent,r.key,n.value),null)}function v(e,t){var n=a.Pointer.fromJSON(t.from).evaluate(e);if(void 0===n.value)return new u(t.from);var r=a.Pointer.fromJSON(t.path).evaluate(e);return void 0===r.parent?new u(t.path):(c(r.parent,r.key,i.clone(n.value)),null)}function m(e,t){var n=a.Pointer.fromJSON(t.path).evaluate(e);return o.diffAny(n.value,t.value,new a.Pointer).length?new l(n.value,t.value):null}t.TestError=l,t.add=f,t.remove=d,t.replace=p,t.move=h,t.copy=v,t.test=m;var y=function(e){function t(t){var n=e.call(this,"Invalid operation: "+t.op)||this;return n.operation=t,n.name="InvalidOperationError",n}return r(t,e),t}(Error);t.InvalidOperationError=y,t.apply=function(e,t){switch(t.op){case"add":return f(e,t);case"remove":return d(e,t);case"replace":return p(e,t);case"move":return h(e,t);case"copy":return v(e,t);case"test":return m(e,t)}return new y(t)}},451:function(e,t){"use strict";function n(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function r(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}Object.defineProperty(t,"__esModule",{value:!0}),t.Pointer=void 0;var a=function(){function e(e){void 0===e&&(e=[""]),this.tokens=e}return e.fromJSON=function(t){var r=t.split("/").map(n);if(""!==r[0])throw new Error("Invalid JSON Pointer: "+t);return new e(r)},e.prototype.toString=function(){return this.tokens.map(r).join("/")},e.prototype.evaluate=function(e){for(var t=null,n="",r=e,a=1,i=this.tokens.length;a<i;a++)t=r,"__proto__"!=(n=this.tokens[a])&&"constructor"!=n&&"prototype"!=n&&(r=(t||{})[n]);return{parent:t,key:n,value:r}},e.prototype.get=function(e){return this.evaluate(e).value},e.prototype.set=function(e,t){for(var n=e,r=1,a=this.tokens.length-1,i=this.tokens[r];r<a;r++)n=(n||{})[i];n&&(n[this.tokens[this.tokens.length-1]]=t)},e.prototype.push=function(e){this.tokens.push(e)},e.prototype.add=function(t){return new e(this.tokens.concat(String(t)))},e}();t.Pointer=a},168:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clone=t.objectType=t.hasOwnProperty=void 0,t.hasOwnProperty=Object.prototype.hasOwnProperty,t.objectType=function(e){return void 0===e?"undefined":null===e?"null":Array.isArray(e)?"array":typeof e},t.clone=function e(n){if(null==(r=n)||"object"!=typeof r)return n;var r;if(n.constructor==Array){for(var a=n.length,i=new Array(a),o=0;o<a;o++)i[o]=e(n[o]);return i}if(n.constructor==Date)return new Date(+n);var u={};for(var l in n)t.hasOwnProperty.call(n,l)&&(u[l]=e(n[l]));return u}},813:function(e,t){"use strict";var n,r,a,i,o;if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,l=null,c=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(e,0),r}},s=Date.now();t.unstable_now=function(){return Date.now()-s},n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(c,0))},r=function(e,t){l=setTimeout(e,t)},a=function(){clearTimeout(l)},i=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,d=window.Date,p=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof f&&"function"===typeof f.now)t.unstable_now=function(){return f.now()};else{var m=d.now();t.unstable_now=function(){return d.now()-m}}var y=!1,g=null,b=-1,k=5,w=0;i=function(){return t.unstable_now()>=w},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):k=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,E=x.port2;x.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();w=e+k;try{g(!0,e)?E.postMessage(null):(y=!1,g=null)}catch(n){throw E.postMessage(null),n}}else y=!1},n=function(e){g=e,y||(y=!0,E.postMessage(null))},r=function(e,n){b=p((function(){e(t.unstable_now())}),n)},a=function(){h(b),b=-1}}function P(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,a=e[r];if(!(void 0!==a&&0<T(a,t)))break e;e[r]=t,e[n]=a,n=r}}function S(e){return void 0===(e=e[0])?null:e}function _(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length;r<a;){var i=2*(r+1)-1,o=e[i],u=i+1,l=e[u];if(void 0!==o&&0>T(o,n))void 0!==l&&0>T(l,o)?(e[r]=l,e[u]=n,r=u):(e[r]=o,e[i]=n,r=i);else{if(!(void 0!==l&&0>T(l,n)))break e;e[r]=l,e[u]=n,r=u}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var $=[],C=[],O=1,I=null,N=3,D=!1,A=!1,M=!1;function j(e){for(var t=S(C);null!==t;){if(null===t.callback)_(C);else{if(!(t.startTime<=e))break;_(C),t.sortIndex=t.expirationTime,P($,t)}t=S(C)}}function R(e){if(M=!1,j(e),!A)if(null!==S($))A=!0,n(L);else{var t=S(C);null!==t&&r(R,t.startTime-e)}}function L(e,n){A=!1,M&&(M=!1,a()),D=!0;var o=N;try{for(j(n),I=S($);null!==I&&(!(I.expirationTime>n)||e&&!i());){var u=I.callback;if(null!==u){I.callback=null,N=I.priorityLevel;var l=u(I.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?I.callback=l:I===S($)&&_($),j(n)}else _($);I=S($)}if(null!==I)var c=!0;else{var s=S(C);null!==s&&r(R,s.startTime-n),c=!1}return c}finally{I=null,N=o,D=!1}}function z(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){A||D||(A=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return S($)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,i,o){var u=t.unstable_now();if("object"===typeof o&&null!==o){var l=o.delay;l="number"===typeof l&&0<l?u+l:u,o="number"===typeof o.timeout?o.timeout:z(e)}else o=z(e),l=u;return e={id:O++,callback:i,priorityLevel:e,startTime:l,expirationTime:o=l+o,sortIndex:-1},l>u?(e.sortIndex=l,P(C,e),null===S($)&&e===S(C)&&(M?a():M=!0,r(R,l-u))):(e.sortIndex=o,P($,e),A||D||(A=!0,n(L))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();j(e);var n=S($);return n!==I&&null!==I&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<I.expirationTime||i()},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},878:function(e,t,n){!function(e,t){"use strict";if(!e.setImmediate){var n,r=1,a={},i=!1,o=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?n=function(e){process.nextTick((function(){c(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",r=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&c(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),n=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){c(e.data)},n=function(t){e.port2.postMessage(t)}}():o&&"onreadystatechange"in o.createElement("script")?function(){var e=o.documentElement;n=function(t){var n=o.createElement("script");n.onreadystatechange=function(){c(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():n=function(e){setTimeout(c,0,e)},u.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var o={callback:e,args:t};return a[r]=o,n(r),r++},u.clearImmediate=l}function l(e){delete a[e]}function c(e){if(i)setTimeout(c,0,e);else{var t=a[e];if(t){i=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{l(e),i=!1}}}}}("undefined"===typeof self?"undefined"===typeof n.g?this:n.g:self)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{Decoder:function(){return ua},Encoder:function(){return oa},PacketType:function(){return aa},protocol:function(){return ia}});var t=n(791),r=n(164);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(l){u=!0,a=l}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return i}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){l=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(l)throw o}}}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function m(e){return!!e&&!!e[re]}function y(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ae}(e)||Array.isArray(e)||!!e[ne]||!!e.constructor[ne]||P(e)||S(e))}function g(e,t,n){void 0===n&&(n=!1),0===b(e)?(n?Object.keys:ie)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function b(e){var t=e[re];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:P(e)?2:S(e)?3:0}function k(e,t){return 2===b(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function w(e,t){return 2===b(e)?e.get(t):e[t]}function x(e,t,n){var r=b(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function E(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function P(e){return X&&e instanceof Map}function S(e){return Z&&e instanceof Set}function _(e){return e.o||e.t}function T(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=oe(e);delete t[re];for(var n=ie(t),r=0;r<n.length;r++){var a=n[r],i=t[a];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(Object.getPrototypeOf(e),t)}function $(e,t){return void 0===t&&(t=!1),O(e)||m(e)||!y(e)||(b(e)>1&&(e.set=e.add=e.clear=e.delete=C),Object.freeze(e),t&&g(e,(function(e,t){return $(t,!0)}),!0)),e}function C(){v(2)}function O(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function I(e){var t=ue[e];return t||v(18,e),t}function N(){return Y}function D(e,t){t&&(I("Patches"),e.u=[],e.s=[],e.v=t)}function A(e){M(e),e.p.forEach(R),e.p=null}function M(e){e===Y&&(Y=e.l)}function j(e){return Y={p:[],l:Y,h:e,m:!0,_:0}}function R(e){var t=e[re];0===t.i||1===t.i?t.j():t.O=!0}function L(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||I("ES5").S(t,e,r),r?(n[re].P&&(A(t),v(4)),y(e)&&(e=z(t,e),t.l||B(t,e)),t.u&&I("Patches").M(n[re].t,e,t.u,t.s)):e=z(t,n,[]),A(t),t.u&&t.v(t.u,t.s),e!==te?e:void 0}function z(e,t,n){if(O(t))return t;var r=t[re];if(!r)return g(t,(function(a,i){return F(e,r,t,a,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return B(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var a=4===r.i||5===r.i?r.o=T(r.k):r.o;g(3===r.i?new Set(a):a,(function(t,i){return F(e,r,a,t,i,n)})),B(e,a,!1),n&&e.u&&I("Patches").R(r,n,e.u,e.s)}return r.o}function F(e,t,n,r,a,i){if(m(a)){var o=z(e,a,i&&t&&3!==t.i&&!k(t.D,r)?i.concat(r):void 0);if(x(n,r,o),!m(o))return;e.m=!1}if(y(a)&&!O(a)){if(!e.h.F&&e._<1)return;z(e,a),t&&t.A.l||B(e,a)}}function B(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&$(t,n)}function U(e,t){var n=e[re];return(n?_(n):e)[t]}function V(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function q(e){e.P||(e.P=!0,e.l&&q(e.l))}function G(e){e.o||(e.o=T(e.t))}function W(e,t,n){var r=P(t)?I("MapSet").N(t,n):S(t)?I("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:N(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},a=r,i=le;n&&(a=[r],i=ce);var o=Proxy.revocable(a,i),u=o.revoke,l=o.proxy;return r.k=l,r.j=u,l}(t,n):I("ES5").J(t,n);return(n?n.A:N()).p.push(r),r}function H(e){return m(e)||v(22,e),function e(t){if(!y(t))return t;var n,r=t[re],a=b(t);if(r){if(!r.P&&(r.i<4||!I("ES5").K(r)))return r.t;r.I=!0,n=K(t,a),r.I=!1}else n=K(t,a);return g(n,(function(t,a){r&&w(r.t,t)===a||x(n,t,e(a))})),3===a?new Set(n):n}(e)}function K(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return T(e)}var Q,Y,J="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),X="undefined"!=typeof Map,Z="undefined"!=typeof Set,ee="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,te=J?Symbol.for("immer-nothing"):((Q={})["immer-nothing"]=!0,Q),ne=J?Symbol.for("immer-draftable"):"__$immer_draftable",re=J?Symbol.for("immer-state"):"__$immer_state",ae=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),ie="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,oe=Object.getOwnPropertyDescriptors||function(e){var t={};return ie(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},ue={},le={get:function(e,t){if(t===re)return e;var n=_(e);if(!k(n,t))return function(e,t,n){var r,a=V(t,n);return a?"value"in a?a.value:null===(r=a.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!y(r)?r:r===U(e.t,t)?(G(e),e.o[t]=W(e.A.h,r,e)):r},has:function(e,t){return t in _(e)},ownKeys:function(e){return Reflect.ownKeys(_(e))},set:function(e,t,n){var r=V(_(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var a=U(_(e),t),i=null==a?void 0:a[re];if(i&&i.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(E(n,a)&&(void 0!==n||k(e.t,t)))return!0;G(e),q(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==U(e.t,t)||t in e.t?(e.D[t]=!1,G(e),q(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=_(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){v(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){v(12)}},ce={};g(le,(function(e,t){ce[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ce.deleteProperty=function(e,t){return ce.set.call(this,e,t,void 0)},ce.set=function(e,t,n){return le.set.call(this,e[0],t,n,e[0])};var se=function(){function e(e){var t=this;this.g=ee,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var a=n;n=e;var i=t;return function(e){var t=this;void 0===e&&(e=a);for(var r=arguments.length,o=Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return i.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&v(6),void 0!==r&&"function"!=typeof r&&v(7),y(e)){var u=j(t),l=W(t,e,void 0),c=!0;try{o=n(l),c=!1}finally{c?A(u):M(u)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return D(u,r),L(e,u)}),(function(e){throw A(u),e})):(D(u,r),L(o,u))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===te&&(o=void 0),t.F&&$(o,!0),r){var s=[],f=[];I("Patches").M(e,o,s,f),r(s,f)}return o}v(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(a))}))};var r,a,i=t.produce(e,n,(function(e,t){r=e,a=t}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return[e,r,a]})):[i,r,a]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){y(e)||v(8),m(e)&&(e=H(e));var t=j(this),n=W(this,e,void 0);return n[re].C=!0,M(t),n},t.finishDraft=function(e,t){var n=(e&&e[re]).A;return D(n,t),L(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!ee&&v(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var a=I("Patches").$;return m(e)?a(e,t):this.produce(e,(function(e){return a(e,t)}))},e}(),fe=new se,de=fe.produce,pe=(fe.produceWithPatches.bind(fe),fe.setAutoFreeze.bind(fe),fe.setUseProxies.bind(fe),fe.applyPatches.bind(fe),fe.createDraft.bind(fe),fe.finishDraft.bind(fe),de),he=function(){function e(t){d(this,e);var n=function(){var e=4022871197,t=function(t){for(var n=t.toString(),r=0;r<n.length;r++){var a=.02519603282416938*(e+=n.charCodeAt(r));a-=e=a>>>0,e=(a*=e)>>>0,e+=4294967296*(a-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();this.c=1,this.s0=n(" "),this.s1=n(" "),this.s2=n(" "),this.s0-=n(t),this.s0<0&&(this.s0+=1),this.s1-=n(t),this.s1<0&&(this.s1+=1),this.s2-=n(t),this.s2<0&&(this.s2+=1)}return h(e,[{key:"next",value:function(){var e=2091639*this.s0+2.3283064365386963e-10*this.c;return this.s0=this.s1,this.s1=this.s2,this.s2=e-(this.c=Math.trunc(e))}}]),e}();function ve(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function me(e,t){var n=new he(e),r=n.next.bind(n);return t&&ve(t,n),r.state=function(){return ve(n,{})},r}var ye,ge,be=function(){function e(t){d(this,e),this.state=t||{seed:"0"},this.used=!1}return h(e,[{key:"isUsed",value:function(){return this.used}},{key:"getState",value:function(){return this.state}},{key:"_random",value:function(){this.used=!0;var e=this.state,t=me(e.prngstate?"":e.seed,e.prngstate),n=t();return this.state=s(s({},e),{},{prngstate:t.state()}),n}},{key:"api",value:function(){var e=this._random.bind(this),t={D4:4,D6:6,D8:8,D10:10,D12:12,D20:20},n={},r=function(r){var a=t[r];n[r]=function(t){return void 0===t?Math.floor(e()*a)+1:Array.from({length:t}).map((function(){return Math.floor(e()*a)+1}))}};for(var a in t)r(a);return s(s({},n),{},{Die:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,n=arguments.length>1?arguments[1]:void 0;return void 0===n?Math.floor(e()*t)+1:Array.from({length:n}).map((function(){return Math.floor(e()*t)+1}))},Number:function(){return e()},Shuffle:function(t){for(var n=o(t),r=t.length,a=0,i=Array.from({length:r});r;){var u=Math.trunc(r*e());i[a++]=n[u],n[u]=n[--r]}return i},_private:this})}}],[{key:"seed",value:function(){return Date.now().toString(36).slice(-10)}}]),e}(),ke={name:"random",noClient:function(e){return e.api._private.isUsed()},flush:function(e){return e.api._private.getState()},api:function(e){var t=e.data;return new be(t).api()},setup:function(e){var t=e.game.seed;return void 0===t&&(t=be.seed()),{seed:t}},playerView:function(){}},we=(n(519),"MAKE_MOVE"),xe="GAME_EVENT",Ee="REDO",Pe="RESET",Se="SYNC",_e="UNDO",Te="UPDATE",$e="PATCH",Ce="PLUGIN",Oe="STRIP_TRANSIENTS",Ie=function(e,t,n,r){return{type:we,payload:{type:e,args:t,playerID:n,credentials:r}}},Ne=function(e,t,n,r){return{type:xe,payload:{type:e,args:t,playerID:n,credentials:r}}},De=function(e,t,n,r){return{type:xe,payload:{type:e,args:t,playerID:n,credentials:r},automatic:!0}},Ae=function(e){return{type:Se,state:e.state,log:e.log,initialState:e.initialState,clientOnly:!0}},Me=function(e,t,n,r){return{type:$e,prevStateID:e,stateID:t,patch:n,deltalog:r,clientOnly:!0}},je=function(e,t){return{type:Te,state:e,deltalog:t,clientOnly:!0}},Re=function(e){return{type:Pe,state:e,clientOnly:!0}},Le=function(e,t){return{type:_e,payload:{type:null,args:null,playerID:e,credentials:t}}},ze=function(e,t){return{type:Ee,payload:{type:null,args:null,playerID:e,credentials:t}}},Fe=function(){return{type:Oe}},Be=Object.freeze({__proto__:null,makeMove:Ie,gameEvent:Ne,automaticGameEvent:De,sync:Ae,patch:Me,update:je,reset:Re,undo:Le,redo:ze,plugin:function(e,t,n,r){return{type:Ce,payload:{type:e,args:t,playerID:n,credentials:r}}},stripTransients:Fe}),Ue="INVALID_MOVE",Ve={name:"plugin-immer",fnWrap:function(e){return function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];var o=!1,u=pe(t,(function(t){var r=e.apply(void 0,[t,n].concat(a));if(r!==Ue)return r;o=!0}));return o?Ue:u}}};!function(e){e.MOVE="MOVE",e.GAME_ON_END="GAME_ON_END",e.PHASE_ON_BEGIN="PHASE_ON_BEGIN",e.PHASE_ON_END="PHASE_ON_END",e.TURN_ON_BEGIN="TURN_ON_BEGIN",e.TURN_ON_MOVE="TURN_ON_MOVE",e.TURN_ON_END="TURN_ON_END"}(ye||(ye={})),function(e){e.CalledOutsideHook="Events must be called from moves or the `onBegin`, `onEnd`, and `onMove` hooks.\nThis error probably means you called an event from other game code, like an `endIf` trigger or one of the `turn.order` methods.",e.EndTurnInOnEnd="`endTurn` is disallowed in `onEnd` hooks \u2014 the turn is already ending.",e.MaxTurnEndings="Maximum number of turn endings exceeded for this update.\nThis likely means game code is triggering an infinite loop.",e.PhaseEventInOnEnd="`setPhase` & `endPhase` are disallowed in a phase\u2019s `onEnd` hook \u2014 the phase is already ending.\nIf you\u2019re trying to dynamically choose the next phase when a phase ends, use the phase\u2019s `next` trigger.",e.StageEventInOnEnd="`setStage`, `endStage` & `setActivePlayers` are disallowed in `onEnd` hooks.",e.StageEventInPhaseBegin="`setStage`, `endStage` & `setActivePlayers` are disallowed in a phase\u2019s `onBegin` hook.\nUse `setActivePlayers` in a `turn.onBegin` hook or declare stages with `turn.activePlayers` instead.",e.StageEventInTurnBegin="`setStage` & `endStage` are disallowed in `turn.onBegin`.\nUse `setActivePlayers` or declare stages with `turn.activePlayers` instead."}(ge||(ge={}));var qe=function(){function e(t,n,r){d(this,e),this.flow=t,this.playerID=r,this.dispatch=[],this.initialTurn=n.turn,this.updateTurnContext(n,void 0),this.maxEndedTurnsPerAction=100*n.numPlayers}return h(e,[{key:"api",value:function(){var e,t=this,n={_private:this},r=f(this.flow.eventNames);try{var a=function(){var r=e.value;n[r]=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];t.dispatch.push({type:r,args:n,phase:t.currentPhase,turn:t.currentTurn,calledFrom:t.currentMethod,error:new Error("Events Plugin Error")})}};for(r.s();!(e=r.n()).done;)a()}catch(i){r.e(i)}finally{r.f()}return n}},{key:"isUsed",value:function(){return this.dispatch.length>0}},{key:"updateTurnContext",value:function(e,t){this.currentPhase=e.phase,this.currentTurn=e.turn,this.currentMethod=t}},{key:"unsetCurrentMethod",value:function(){this.currentMethod=void 0}},{key:"update",value:function(e){var t=e,n=function(e,n){var r=e.stack;return s(s({},t),{},{plugins:s(s({},t.plugins),{},{events:s(s({},t.plugins.events),{},{data:{error:n+"\n"+r}})})})};e:for(var r=0;r<this.dispatch.length;r++){var a=this.dispatch[r],i=a.turn!==e.ctx.turn;if(this.currentTurn-this.initialTurn>=this.maxEndedTurnsPerAction)return n(a.error,ge.MaxTurnEndings);if(void 0===a.calledFrom)return n(a.error,ge.CalledOutsideHook);if(e.ctx.gameover)break e;switch(a.type){case"endStage":case"setStage":case"setActivePlayers":switch(a.calledFrom){case ye.TURN_ON_END:case ye.PHASE_ON_END:return n(a.error,ge.StageEventInOnEnd);case ye.PHASE_ON_BEGIN:return n(a.error,ge.StageEventInPhaseBegin);case ye.TURN_ON_BEGIN:if("setActivePlayers"===a.type)break;return n(a.error,ge.StageEventInTurnBegin)}if(i)continue e;break;case"endTurn":if(a.calledFrom===ye.TURN_ON_END||a.calledFrom===ye.PHASE_ON_END)return n(a.error,ge.EndTurnInOnEnd);if(i)continue e;break;case"endPhase":case"setPhase":if(a.calledFrom===ye.PHASE_ON_END)return n(a.error,ge.PhaseEventInOnEnd);if(a.phase!==e.ctx.phase)continue e}var o=De(a.type,a.args,this.playerID);e=this.flow.processEvent(e,o)}return e}}]),e}(),Ge={name:"events",noClient:function(e){return e.api._private.isUsed()},isInvalid:function(e){return e.data.error||!1},fnWrap:function(e,t){return function(n,r){var a=r.events;a&&a._private.updateTurnContext(r,t);for(var i=arguments.length,o=new Array(i>2?i-2:0),u=2;u<i;u++)o[u-2]=arguments[u];return n=e.apply(void 0,[n,r].concat(o)),a&&a._private.unsetCurrentMethod(),n}},dangerouslyFlushRawState:function(e){var t=e.state;return e.api._private.update(t)},api:function(e){var t=e.game,n=e.ctx,r=e.playerID;return new qe(t.flow,n,r).api()}};var We={name:"plugin-serializable",fnWrap:function(e){return function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];var o=e.apply(void 0,[t,n].concat(a));return o}}},He=function(){};function Ke(e){He("INFO: ".concat(e))}function Qe(e){!function(){var e;(e=console).error.apply(e,arguments)}("ERROR:",e)}var Ye=[Ve,ke,{name:"log",flush:function(){return{}},api:function(e){var t=e.data;return{setMetadata:function(e){t.metadata=e}}},setup:function(){return{}}},We],Je=[].concat(Ye,[Ge]),Xe=function(e,t,n){return n.game.plugins.filter((function(e){return void 0!==e.action})).filter((function(e){return e.name===t.payload.type})).forEach((function(n){var r=n.name,a=e.plugins[r]||{data:{}},i=n.action(a.data,t.payload);e=s(s({},e),{},{plugins:s(s({},e.plugins),{},l({},r,s(s({},a),{},{data:i})))})})),e},Ze=function(e){var t=s({},e.ctx),n=e.plugins||{};return Object.entries(n).forEach((function(e){var n=u(e,2),r=n[0],a=n[1].api;t[r]=a})),t},et=function(e,t,n){return[].concat(Ye,o(n),[Ge]).filter((function(e){return void 0!==e.fnWrap})).reduce((function(e,n){return(0,n.fnWrap)(e,t)}),e)},tt=function(e,t){return[].concat(o(Je),o(t.game.plugins)).filter((function(e){return void 0!==e.api})).forEach((function(n){var r=n.name,a=e.plugins[r]||{data:{}},i=n.api({G:e.G,ctx:e.ctx,data:a.data,game:t.game,playerID:t.playerID});e=s(s({},e),{},{plugins:s(s({},e.plugins),{},l({},r,s(s({},a),{},{api:i})))})})),e},nt=function(e,t){return[].concat(o(Je),o(t.game.plugins)).filter((function(e){return void 0!==e.noClient})).map((function(n){var r=n.name,a=e.plugins[r];return!!a&&n.noClient({G:e.G,ctx:e.ctx,game:t.game,api:a.api,data:a.data})})).includes(!0)},rt=function(e,t){var n=function(e,t){return[].concat(Ye,o(t.game.plugins),[Ge]).reverse().forEach((function(n){var r=n.name,a=e.plugins[r]||{data:{}};if(n.flush){var i=n.flush({G:e.G,ctx:e.ctx,game:t.game,api:a.api,data:a.data});e=s(s({},e),{},{plugins:s(s({},e.plugins),{},l({},n.name,{data:i}))})}else if(n.dangerouslyFlushRawState){var o=(e=n.dangerouslyFlushRawState({state:e,game:t.game,api:a.api,data:a.data})).plugins[r].data;e=s(s({},e),{},{plugins:s(s({},e.plugins),{},l({},n.name,{data:o}))})}})),e}(e,t),r=function(e,t){var n=[].concat(o(Je),o(t.game.plugins)).filter((function(e){return void 0!==e.isInvalid})).map((function(n){var r=n.name,a=e.plugins[r],i=n.isInvalid({G:e.G,ctx:e.ctx,game:t.game,data:a&&a.data});return!!i&&{plugin:r,message:i}})).find((function(e){return e}));return n||!1}(n,t);if(!r)return[n];var a=r.plugin,i=r.message;return Qe("".concat(a," plugin declared action invalid:\n").concat(i)),[e,r]},at=function(e,t){var n=e.G,r=e.ctx,a=e.plugins,i=void 0===a?{}:a,u=t.game,c=t.playerID;return[].concat(o(Je),o(u.plugins)).forEach((function(e){var t=e.name,a=e.playerView;if(a){var o=(i[t]||{data:{}}).data,f=a({G:n,ctx:r,game:u,data:o,playerID:c});i=s(s({},i),{},l({},t,{data:f}))}})),i};function it(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.moveLimit&&(t&&(e.minMoves=e.moveLimit),e.maxMoves=e.moveLimit,delete e.moveLimit)}function ot(e,t){var n={},r=[],a=null,i={},u={};if(Array.isArray(t)){var l={};t.forEach((function(e){return l[e]=st.NULL})),n=l}else{if(it(t),t.next&&(a=t.next),t.revert&&(r=[].concat(o(e._prevActivePlayers),[{activePlayers:e.activePlayers,_activePlayersMinMoves:e._activePlayersMinMoves,_activePlayersMaxMoves:e._activePlayersMaxMoves,_activePlayersNumMoves:e._activePlayersNumMoves}])),void 0!==t.currentPlayer&&ut(n,i,u,e.currentPlayer,t.currentPlayer),void 0!==t.others)for(var c=0;c<e.playOrder.length;c++){var f=e.playOrder[c];f!==e.currentPlayer&&ut(n,i,u,f,t.others)}if(void 0!==t.all)for(var d=0;d<e.playOrder.length;d++){ut(n,i,u,e.playOrder[d],t.all)}if(t.value)for(var p in t.value)ut(n,i,u,p,t.value[p]);if(t.minMoves)for(var h in n)void 0===i[h]&&(i[h]=t.minMoves);if(t.maxMoves)for(var v in n)void 0===u[v]&&(u[v]=t.maxMoves)}0===Object.keys(n).length&&(n=null),0===Object.keys(i).length&&(i=null),0===Object.keys(u).length&&(u=null);var m={};for(var y in n)m[y]=0;return s(s({},e),{},{activePlayers:n,_activePlayersMinMoves:i,_activePlayersMaxMoves:u,_activePlayersNumMoves:m,_prevActivePlayers:r,_nextActivePlayers:a})}function ut(e,t,n,r,a){"object"===typeof a&&a!==st.NULL||(a={stage:a}),void 0!==a.stage&&(it(a),e[r]=a.stage,a.minMoves&&(t[r]=a.minMoves),a.maxMoves&&(n[r]=a.maxMoves))}function lt(e,t){return e[t]+""}var ct={first:function(e,t){return 0===t.turn?t.playOrderPos:(t.playOrderPos+1)%t.playOrder.length},next:function(e,t){return(t.playOrderPos+1)%t.playOrder.length}},st={NULL:null};st.NULL,st.NULL,st.NULL,st.NULL;function ft(e){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ft(e)}function dt(){dt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(_){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof f?t:f,i=Object.create(a.prototype),o=new E(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return S()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var u=k(o,n);if(u){if(u===s)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,o),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(_){return{type:"throw",arg:_}}}e.wrap=l;var s={};function f(){}function d(){}function p(){}var h={};u(h,a,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(P([])));m&&m!==t&&n.call(m,a)&&(h=m);var y=p.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(a,i,o,u){var l=c(e[a],e,i);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==ft(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){s.value=e,o(s)}),(function(e){return r("throw",e,o,u)}))}u(l.arg)}var a;this._invoke=function(e,n){function i(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(i,i):i()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function P(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,u(y,"constructor",p),u(p,"constructor",d),d.displayName=u(p,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),u(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new b(l(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),u(y,o,"Generator"),u(y,a,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}function pt(e,t,n,r,a,i,o){try{var u=e[i](o),l=u.value}catch(Qe){return void n(Qe)}u.done?t(l):Promise.resolve(l).then(r,a)}function ht(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){pt(i,r,a,o,u,"next",e)}function u(e){pt(i,r,a,o,u,"throw",e)}o(void 0)}))}}function vt(e,t){return vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vt(e,t)}function mt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vt(e,t)}function yt(e){return yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yt(e)}function gt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function bt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kt(e,t){if(t&&("object"===ft(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bt(e)}function wt(e){var t=gt();return function(){var n,r=yt(e);if(t){var a=yt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return kt(this,n)}}var xt=n(405),Et="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Pt=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",n=e;n--;)t+=Et[64*Math.random()|0];return t};function St(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var _t="function"===typeof Symbol&&Symbol.observable||"@@observable",Tt=function(){return Math.random().toString(36).substring(7).split("").join(".")},$t={INIT:"@@redux/INIT"+Tt(),REPLACE:"@@redux/REPLACE"+Tt(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Tt()}};function Ct(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Ot(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(St(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(St(1));return n(Ot)(e,t)}if("function"!==typeof e)throw new Error(St(2));var a=e,i=t,o=[],u=o,l=!1;function c(){u===o&&(u=o.slice())}function s(){if(l)throw new Error(St(3));return i}function f(e){if("function"!==typeof e)throw new Error(St(4));if(l)throw new Error(St(5));var t=!0;return c(),u.push(e),function(){if(t){if(l)throw new Error(St(6));t=!1,c();var n=u.indexOf(e);u.splice(n,1),o=null}}}function d(e){if(!Ct(e))throw new Error(St(7));if("undefined"===typeof e.type)throw new Error(St(8));if(l)throw new Error(St(9));try{l=!0,i=a(i,e)}finally{l=!1}for(var t=o=u,n=0;n<t.length;n++){(0,t[n])()}return e}function p(e){if("function"!==typeof e)throw new Error(St(10));a=e,d({type:$t.REPLACE})}function h(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(St(11));function n(){e.next&&e.next(s())}return n(),{unsubscribe:t(n)}}})[_t]=function(){return this},e}return d({type:$t.INIT}),(r={dispatch:d,subscribe:f,getState:s,replaceReducer:p})[_t]=h,r}function It(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Nt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(St(15))},a={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(a)}));return r=It.apply(void 0,i)(n.dispatch),s(s({},n),{},{dispatch:r})}}}function Dt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var At,Mt,jt=["fn","arg"],Rt=["transients"];function Lt(e){var t=e.moves,n=e.phases,r=e.endIf,a=e.onEnd,i=e.turn,u=e.events,l=e.plugins;void 0===t&&(t={}),void 0===u&&(u={}),void 0===l&&(l=[]),void 0===n&&(n={}),r||(r=function(){}),a||(a=function(e){return e}),i||(i={});var c=s({},n);""in c&&Qe("cannot specify phase with empty name"),c[""]={};var f={},d=new Set,p=null;Object.keys(t).forEach((function(e){return d.add(e)}));var h=function(e,t){var n=et(e,t,l);return function(e){var t=Ze(e);return n(e.G,t)}},v=function(e){return function(t){var n=Ze(t);return e(t.G,n)}},m={onEnd:h(a,ye.GAME_ON_END),endIf:v(r)};for(var y in c){var g=c[y];if(!0===g.start&&(p=y),void 0!==g.moves)for(var b=0,k=Object.keys(g.moves);b<k.length;b++){var w=k[b];f[y+"."+w]=g.moves[w],d.add(w)}for(var x in void 0===g.endIf&&(g.endIf=function(){}),void 0===g.onBegin&&(g.onBegin=function(e){return e}),void 0===g.onEnd&&(g.onEnd=function(e){return e}),void 0===g.turn&&(g.turn=i),void 0===g.turn.order&&(g.turn.order=ct),void 0===g.turn.onBegin&&(g.turn.onBegin=function(e){return e}),void 0===g.turn.onEnd&&(g.turn.onEnd=function(e){return e}),void 0===g.turn.endIf&&(g.turn.endIf=function(){return!1}),void 0===g.turn.onMove&&(g.turn.onMove=function(e){return e}),void 0===g.turn.stages&&(g.turn.stages={}),it(g.turn,!0),g.turn.stages)for(var E=g.turn.stages[x].moves||{},P=0,S=Object.keys(E);P<S.length;P++){var _=S[P];f[y+"."+x+"."+_]=E[_],d.add(_)}g.wrapped={onBegin:h(g.onBegin,ye.PHASE_ON_BEGIN),onEnd:h(g.onEnd,ye.PHASE_ON_END),endIf:v(g.endIf)},g.turn.wrapped={onMove:h(g.turn.onMove,ye.TURN_ON_MOVE),onBegin:h(g.turn.onBegin,ye.TURN_ON_BEGIN),onEnd:h(g.turn.onEnd,ye.TURN_ON_END),endIf:v(g.turn.endIf)},"function"!==typeof g.next&&function(){var e=g.next;g.next=function(){return e||null}}(),g.wrapped.next=v(g.next)}function T(e){return e.phase?c[e.phase]:c[""]}function $(e){return e}function C(e,t){for(var n=new Set,r=new Set,a=0;a<t.length;a++){var i=t[a],o=i.fn,u=i.arg,l=Dt(i,jt);if(o===B){r.clear();var c=e.ctx.phase;if(n.has(c)){var f=s(s({},e.ctx),{},{phase:null});return s(s({},e),{},{ctx:f})}n.add(c)}var d=[];if(e=o(e,s(s({},l),{},{arg:u,next:d})),o===F)break;var p=R(e);if(p)t.push({fn:F,arg:p,turn:e.ctx.turn,phase:e.ctx.phase,automatic:!0});else{var h=L(e);if(h)t.push({fn:B,arg:h,turn:e.ctx.turn,phase:e.ctx.phase,automatic:!0});else{if([$,M,j].includes(o)){var v=z(e);if(v){t.push({fn:U,arg:v,turn:e.ctx.turn,phase:e.ctx.phase,automatic:!0});continue}}t.push.apply(t,d)}}}return e}function O(e,t){return t.next.push({fn:I}),e}function I(e,t){var n=t.next,r=e.G,a=e.ctx;return r=T(a).wrapped.onBegin(e),n.push({fn:N}),s(s({},e),{},{G:r,ctx:a})}function N(e,t){var n=t.currentPlayer,r=e.ctx,a=T(r);n?(r=s(s({},r),{},{currentPlayer:n}),a.turn.activePlayers&&(r=ot(r,a.turn.activePlayers))):r=function(e,t){var n=e.G,r=e.ctx,a=r.numPlayers,i=Ze(e),u=t.order,l=o(Array.from({length:a})).map((function(e,t){return t+""}));void 0!==u.playOrder&&(l=u.playOrder(n,i));var c=u.first(n,i),f=typeof c;"number"!==f&&Qe("invalid value returned by turn.order.first \u2014 expected number got ".concat(f," \u201c").concat(c,"\u201d."));var d=lt(l,c);return ot(r=s(s({},r),{},{currentPlayer:d,playOrderPos:c,playOrder:l}),t.activePlayers||{})}(e,a.turn);var i=r.turn+1;r=s(s({},r),{},{turn:i,numMoves:0,_prevActivePlayers:[]});var u=a.turn.wrapped.onBegin(s(s({},e),{},{ctx:r}));return s(s({},e),{},{G:u,ctx:r,_undo:[],_redo:[]})}function D(e,t){var n=t.arg,r=t.next,a=T({phase:t.phase}),i=e.ctx;if(n&&n.next){if(!(n.next in c))return Qe("invalid phase: "+n.next),e;i=s(s({},i),{},{phase:n.next})}else i=s(s({},i),{},{phase:a.wrapped.next(e)||null});return e=s(s({},e),{},{ctx:i}),r.push({fn:I}),e}function A(e,t){var n=t.arg,r=t.currentPlayer,a=t.next,i=e,o=i.G,u=i.ctx,l=function(e,t,n,r){var a=n.order,i=e.G,o=e.ctx,u=o.playOrderPos,l=!1;if(r&&!0!==r)"object"!==typeof r&&Qe("invalid argument to endTurn: ".concat(r)),Object.keys(r).forEach((function(e){switch(e){case"remove":t=lt(o.playOrder,u);break;case"next":u=o.playOrder.indexOf(r.next),t=r.next;break;default:Qe("invalid argument to endTurn: ".concat(e))}}));else{var c=Ze(e),f=a.next(i,c),d=typeof f;void 0!==f&&"number"!==d&&Qe("invalid value returned by turn.order.next \u2014 expected number or undefined got ".concat(d," \u201c").concat(f,"\u201d.")),void 0===f?l=!0:(u=f,t=lt(o.playOrder,u))}return{endPhase:l,ctx:o=s(s({},o),{},{playOrderPos:u,currentPlayer:t})}}(e,r,T(u).turn,n),c=l.endPhase;return u=l.ctx,e=s(s({},e),{},{G:o,ctx:u}),c?a.push({fn:B,turn:u.turn,phase:u.phase}):a.push({fn:N,currentPlayer:u.currentPlayer}),e}function M(e,t){var n=t.arg,r=t.playerID;if("string"!==typeof n&&n!==st.NULL||(n={stage:n}),"object"!==typeof n)return e;it(n);var a=e.ctx,i=a,o=i.activePlayers,u=i._activePlayersMinMoves,l=i._activePlayersMaxMoves,c=i._activePlayersNumMoves;return void 0!==n.stage&&(null===o&&(o={}),o[r]=n.stage,c[r]=0,n.minMoves&&(null===u&&(u={}),u[r]=n.minMoves),n.maxMoves&&(null===l&&(l={}),l[r]=n.maxMoves)),a=s(s({},a),{},{activePlayers:o,_activePlayersMinMoves:u,_activePlayersMaxMoves:l,_activePlayersNumMoves:c}),s(s({},e),{},{ctx:a})}function j(e,t){var n=t.arg;return s(s({},e),{},{ctx:ot(e.ctx,n)})}function R(e){return m.endIf(e)}function L(e){return T(e.ctx).wrapped.endIf(e)}function z(e){var t=T(e.ctx),n=e.ctx.numMoves||0;return!!(t.turn.maxMoves&&n>=t.turn.maxMoves)||t.turn.wrapped.endIf(e)}function F(e,t){var n=t.arg;void 0===n&&(n=!0),e=s(s({},e=B(e,{phase:t.phase})),{},{ctx:s(s({},e.ctx),{},{gameover:n})});var r=m.onEnd(e);return s(s({},e),{},{G:r})}function B(e,t){var n=t.arg,r=t.next,a=t.turn,i=t.automatic,u=(e=U(e,{turn:a,force:!0,automatic:!0})).ctx,l=u.phase,c=u.turn;if(r&&r.push({fn:D,arg:n,phase:l}),null===l)return e;var f=T(e.ctx).wrapped.onEnd(e),d=s(s({},e.ctx),{},{phase:null}),p={action:Ne("endPhase",n),_stateID:e._stateID,turn:c,phase:l};i&&(p.automatic=!0);var h=[].concat(o(e.deltalog||[]),[p]);return s(s({},e),{},{G:f,ctx:d,deltalog:h})}function U(e,t){var n=t.arg,r=t.next,a=t.turn,i=t.force,u=t.automatic,l=t.playerID;if(a!==e.ctx.turn)return e;var c=e.ctx,f=c.currentPlayer,d=c.numMoves,p=c.phase,h=c.turn,v=T(e.ctx),m=d||0;if(!i&&v.turn.minMoves&&m<v.turn.minMoves)return Ke("cannot end turn before making ".concat(v.turn.minMoves," moves")),e;var y=v.turn.wrapped.onEnd(e);r&&r.push({fn:A,arg:n,currentPlayer:f});var g=s(s({},e.ctx),{},{activePlayers:null});if(n&&n.remove){l=l||f;var b=g.playOrder.filter((function(e){return e!=l})),k=g.playOrderPos>b.length-1?0:g.playOrderPos;if(g=s(s({},g),{},{playOrder:b,playOrderPos:k}),0===b.length)return r.push({fn:B,turn:h,phase:p}),e}var w={action:Ne("endTurn",n),_stateID:e._stateID,turn:h,phase:p};u&&(w.automatic=!0);var x=[].concat(o(e.deltalog||[]),[w]);return s(s({},e),{},{G:y,ctx:g,deltalog:x,_undo:[],_redo:[]})}function V(e,t){var n=t.arg,r=t.next,a=t.automatic,i=t.playerID;i=i||e.ctx.currentPlayer;var u=e.ctx,l=e._stateID,c=u,f=c.activePlayers,d=c._activePlayersNumMoves,p=c._activePlayersMinMoves,h=c._activePlayersMaxMoves,v=c.phase,m=c.turn,y=null!==f&&i in f,g=T(u);if(!n&&y){var b=g.turn.stages[f[i]];b&&b.next&&(n=b.next)}if(r&&r.push({fn:M,arg:n,playerID:i}),!y)return e;var k=d[i]||0;if(p&&p[i]&&k<p[i])return Ke("cannot end stage before making ".concat(p[i]," moves")),e;delete(f=s({},f))[i],p&&delete(p=s({},p))[i],h&&delete(h=s({},h))[i],u=function(e){var t=e,n=t.activePlayers,r=t._activePlayersMinMoves,a=t._activePlayersMaxMoves,i=t._activePlayersNumMoves,o=t._prevActivePlayers,u=t._nextActivePlayers;if(n&&0===Object.keys(n).length)if(u){var l=e=ot(e,u);n=l.activePlayers,r=l._activePlayersMinMoves,a=l._activePlayersMaxMoves,i=l._activePlayersNumMoves,o=l._prevActivePlayers}else if(o.length>0){var c=o.length-1,f=o[c];n=f.activePlayers,r=f._activePlayersMinMoves,a=f._activePlayersMaxMoves,i=f._activePlayersNumMoves,o=o.slice(0,c)}else n=null,r=null,a=null;return s(s({},e),{},{activePlayers:n,_activePlayersMinMoves:r,_activePlayersMaxMoves:a,_activePlayersNumMoves:i,_prevActivePlayers:o})}(s(s({},u),{},{activePlayers:f,_activePlayersMinMoves:p,_activePlayersMaxMoves:h}));var w={action:Ne("endStage",n),_stateID:l,turn:m,phase:v};a&&(w.automatic=!0);var x=[].concat(o(e.deltalog||[]),[w]);return s(s({},e),{},{ctx:u,deltalog:x})}function q(e,n,r){var a=T(e),i=a.turn.stages,o=e.activePlayers;if(o&&void 0!==o[r]&&o[r]!==st.NULL&&void 0!==i[o[r]]&&void 0!==i[o[r]].moves){var u=i[o[r]].moves;if(n in u)return u[n]}else if(a.moves){if(n in a.moves)return a.moves[n]}else if(n in t)return t[n];return null}var G={endStage:function(e,t){return C(e,[{fn:V,playerID:t}])},setStage:function(e,t,n){return C(e,[{fn:V,arg:n,playerID:t}])},endTurn:function(e,t,n){return C(e,[{fn:U,turn:e.ctx.turn,phase:e.ctx.phase,arg:n}])},pass:function(e,t,n){return C(e,[{fn:U,turn:e.ctx.turn,phase:e.ctx.phase,force:!0,arg:n}])},endPhase:function(e){return C(e,[{fn:B,phase:e.ctx.phase,turn:e.ctx.turn}])},setPhase:function(e,t,n){return C(e,[{fn:B,phase:e.ctx.phase,turn:e.ctx.turn,arg:{next:n}}])},endGame:function(e,t,n){return C(e,[{fn:F,turn:e.ctx.turn,phase:e.ctx.phase,arg:n}])},setActivePlayers:function(e,t,n){return C(e,[{fn:j,arg:n}])}},W=[];return!1!==u.endTurn&&W.push("endTurn"),!1!==u.pass&&W.push("pass"),!1!==u.endPhase&&W.push("endPhase"),!1!==u.setPhase&&W.push("setPhase"),!1!==u.endGame&&W.push("endGame"),!1!==u.setActivePlayers&&W.push("setActivePlayers"),!1!==u.endStage&&W.push("endStage"),!1!==u.setStage&&W.push("setStage"),{ctx:function(e){return{numPlayers:e,turn:0,currentPlayer:"0",playOrder:o(Array.from({length:e})).map((function(e,t){return t+""})),playOrderPos:0,phase:p,activePlayers:null}},init:function(e){return C(e,[{fn:O}])},isPlayerActive:function(e,t,n){return t.activePlayers?n in t.activePlayers:t.currentPlayer===n},eventHandlers:G,eventNames:Object.keys(G),enabledEventNames:W,moveMap:f,moveNames:o(d.values()),processMove:function(e,t){var n=t.playerID,r=t.type,a=e.ctx,i=a.currentPlayer,o=a.activePlayers,u=a._activePlayersMaxMoves,l=q(e.ctx,r,n),c=!l||"function"===typeof l||!0!==l.noLimit,f=e.ctx,d=f.numMoves,p=f._activePlayersNumMoves;c&&(n===i&&d++,o&&p[n]++),e=s(s({},e),{},{ctx:s(s({},e.ctx),{},{numMoves:d,_activePlayersNumMoves:p})}),u&&p[n]>=u[n]&&(e=V(e,{playerID:n,automatic:!0}));var h=T(e.ctx).turn.wrapped.onMove(s(s({},e),{},{ctx:s(s({},e.ctx),{},{playerID:n})}));return C(e=s(s({},e),{},{G:h}),[{fn:$}])},processEvent:function(e,t){var n=t.payload,r=n.type,a=n.playerID,i=n.args;return"function"!==typeof G[r]?e:G[r].apply(G,[e,a].concat(o(Array.isArray(i)?i:[i])))},getMove:q}}function zt(e){if(function(e){return void 0!==e.processMove}(e))return e;if(void 0===e.name&&(e.name="default"),void 0===e.deltaState&&(e.deltaState=!1),void 0===e.disableUndo&&(e.disableUndo=!1),void 0===e.setup&&(e.setup=function(){return{}}),void 0===e.moves&&(e.moves={}),void 0===e.playerView&&(e.playerView=function(e){return e}),void 0===e.plugins&&(e.plugins=[]),e.plugins.forEach((function(e){if(void 0===e.name)throw new Error("Plugin missing name attribute");if(e.name.includes(" "))throw new Error(e.name+": Plugin name must not include spaces")})),e.name.includes(" "))throw new Error(e.name+": Game name must not include spaces");var t=Lt(e);return s(s({},e),{},{flow:t,moveNames:t.moveNames,pluginNames:e.plugins.map((function(e){return e.name})),processMove:function(n,r){var a=t.getMove(n.ctx,r.type,r.playerID);if(Ft(a)&&(a=a.move),a instanceof Function){var i=et(a,ye.MOVE,e.plugins),u=s(s({},Ze(n)),{},{playerID:r.playerID}),l=[];return void 0!==r.args&&(l=Array.isArray(r.args)?r.args:[r.args]),i.apply(void 0,[n.G,u].concat(o(l)))}return Qe("invalid move object: ".concat(r.type)),n.G}})}function Ft(e){return e instanceof Object&&void 0!==e.move}!function(e){e.UnauthorizedAction="update/unauthorized_action",e.MatchNotFound="update/match_not_found",e.PatchFailed="update/patch_failed"}(At||(At={})),function(e){e.StaleStateId="action/stale_state_id",e.UnavailableMove="action/unavailable_move",e.InvalidMove="action/invalid_move",e.InactivePlayer="action/inactive_player",e.GameOver="action/gameover",e.ActionDisabled="action/action_disabled",e.ActionInvalid="action/action_invalid",e.PluginActionInvalid="action/plugin_invalid"}(Mt||(Mt={}));var Bt=function(e){return null!==e.payload.playerID&&void 0!==e.payload.playerID},Ut=function(e,t,n){return!function(e){return void 0!==e.undoable}(n)||(n.undoable instanceof Function?n.undoable(e,t):n.undoable)};function Vt(e,t){if(t.game.disableUndo)return e;var n={G:e.G,ctx:e.ctx,plugins:e.plugins,playerID:t.action.payload.playerID||e.ctx.currentPlayer};return"MAKE_MOVE"===t.action.type&&(n.moveType=t.action.payload.type),s(s({},e),{},{_undo:[].concat(o(e._undo),[n]),_redo:[]})}function qt(e,t,n){var r={action:t,_stateID:e._stateID,turn:e.ctx.turn,phase:e.ctx.phase},a=e.plugins.log.data.metadata;return void 0!==a&&(r.metadata=a),"object"===typeof n&&!0===n.redact&&(r.redact=!0),s(s({},e),{},{deltalog:[r]})}function Gt(e,t,n){var r=u(rt(e,n),2),a=r[0],i=r[1];return i?[a,Ht(t,Mt.PluginActionInvalid,i)]:[a]}function Wt(e){if(!e)return[null,void 0];var t=e.transients;return[Dt(e,Rt),t]}function Ht(e,t,n){var r={type:t,payload:n};return s(s({},e),{},{transients:{error:r}})}var Kt=function(e){return function(t){return function(n){var r=t(n);if(n.type===Oe)return r;var a=u(Wt(e.getState()),2)[1];return"undefined"!==typeof a?(e.dispatch(Fe()),s(s({},r),{},{transients:a})):r}}};function Qt(e){var t=e.game,n=e.isClient;return t=zt(t),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0,a=Wt(e),i=u(a,1),l=i[0];switch(r.type){case Oe:return l;case xe:if(l=s(s({},l),{},{deltalog:[]}),n)return l;if(void 0!==l.ctx.gameover)return Qe("cannot call event after game end"),Ht(l,Mt.GameOver);if(Bt(r)&&!t.flow.isPlayerActive(l.G,l.ctx,r.payload.playerID))return Qe("disallowed event: ".concat(r.payload.type)),Ht(l,Mt.InactivePlayer);l=tt(l,{game:t,isClient:!1,playerID:r.payload.playerID});var c,f=t.flow.processEvent(l,r),d=Gt(f,l,{game:t,isClient:!1}),p=u(d,2);return f=p[0],(c=p[1])?c:s(s({},f=Vt(f,{game:t,action:r})),{},{_stateID:l._stateID+1});case we:var h=l=s(s({},l),{},{deltalog:[]}),v=t.flow.getMove(l.ctx,r.payload.type,r.payload.playerID||l.ctx.currentPlayer);if(null===v)return Qe("disallowed move: ".concat(r.payload.type)),Ht(l,Mt.UnavailableMove);if(n&&!1===v.client)return l;if(void 0!==l.ctx.gameover)return Qe("cannot make move after game end"),Ht(l,Mt.GameOver);if(Bt(r)&&!t.flow.isPlayerActive(l.G,l.ctx,r.payload.playerID))return Qe("disallowed move: ".concat(r.payload.type)),Ht(l,Mt.InactivePlayer);l=tt(l,{game:t,isClient:n,playerID:r.payload.playerID});var m=t.processMove(l,r.payload);if(m===Ue)return Qe("invalid move: ".concat(r.payload.type," args: ").concat(r.payload.args)),Ht(l,Mt.InvalidMove);var y,g=s(s({},l),{},{G:m});if(n&&nt(g,{game:t}))return l;if(l=g,n){var b=Gt(l,h,{game:t,isClient:!0}),k=u(b,2);return l=k[0],k[1]||s(s({},l),{},{_stateID:l._stateID+1})}l=qt(l,r,v);var w=Gt(l=t.flow.processMove(l,r.payload),h,{game:t}),x=u(w,2);return l=x[0],(y=x[1])?y:s(s({},l=Vt(l,{game:t,action:r})),{},{_stateID:l._stateID+1});case Pe:case Te:case Se:return r.state;case _e:if(l=s(s({},l),{},{deltalog:[]}),t.disableUndo)return Qe("Undo is not enabled"),Ht(l,Mt.ActionDisabled);var E=l,P=E.G,S=E.ctx,_=E._undo,T=E._redo,$=E._stateID;if(_.length<2)return Qe("No moves to undo"),Ht(l,Mt.ActionInvalid);var C=_[_.length-1],O=_[_.length-2];if(Bt(r)&&r.payload.playerID!==C.playerID)return Qe("Cannot undo other players' moves"),Ht(l,Mt.ActionInvalid);if(C.moveType){var I=t.flow.getMove(O.ctx,C.moveType,C.playerID);if(!Ut(P,S,I))return Qe("Move cannot be undone"),Ht(l,Mt.ActionInvalid)}return s(s({},l=qt(l,r)),{},{G:O.G,ctx:O.ctx,plugins:O.plugins,_stateID:$+1,_undo:_.slice(0,-1),_redo:[C].concat(o(T))});case Ee:if(l=s(s({},l),{},{deltalog:[]}),t.disableUndo)return Qe("Redo is not enabled"),Ht(l,Mt.ActionDisabled);var N=l,D=N._undo,A=N._redo,M=N._stateID;if(0===A.length)return Qe("No moves to redo"),Ht(l,Mt.ActionInvalid);var j=A[0];return Bt(r)&&r.payload.playerID!==j.playerID?(Qe("Cannot redo other players' moves"),Ht(l,Mt.ActionInvalid)):s(s({},l=qt(l,r)),{},{G:j.G,ctx:j.ctx,plugins:j.plugins,_stateID:M+1,_undo:[].concat(o(D),[j]),_redo:A.slice(1)});case Ce:return Xe(l,r,{game:t});case $e:var R=l,L=JSON.parse(JSON.stringify(R)),z=(0,xt.af)(L,r.patch),F=z.some((function(e){return null!==e}));return F?(Qe("Patch ".concat(JSON.stringify(r.patch)," apply failed")),Ht(R,At.PatchFailed,z)):L;default:return l}}}function Yt(e){var t=e.game,n=e.numPlayers,r=e.setupData;n||(n=2);var a={G:{},ctx:(t=zt(t)).flow.ctx(n),plugins:{}};a=function(e,t){return[].concat(o(Je),o(t.game.plugins)).filter((function(e){return void 0!==e.setup})).forEach((function(n){var r=n.name,a=n.setup({G:e.G,ctx:e.ctx,game:t.game});e=s(s({},e),{},{plugins:s(s({},e.plugins),{},l({},r,{data:a}))})})),e}(a,{game:t}),a=tt(a,{game:t,playerID:void 0});var i=Ze(a);a.G=t.setup(i,r);var c=s(s({},a),{},{_undo:[],_redo:[],_stateID:0});return c=t.flow.init(c),c=u(rt(c,{game:t}),1)[0],t.disableUndo||(c._undo=[{G:c.G,ctx:c.ctx,plugins:c.plugins}]),c}var Jt=function(){function e(t){var n=t.transportDataCallback,r=t.gameName,a=t.playerID,i=t.matchID,o=t.credentials,u=t.numPlayers;d(this,e),this.connectionStatusCallback=function(){},this.isConnected=!1,this.transportDataCallback=n,this.gameName=r||"default",this.playerID=a||null,this.matchID=i||"default",this.credentials=o,this.numPlayers=u||2}return h(e,[{key:"subscribeToConnectionStatus",value:function(e){this.connectionStatusCallback=e}},{key:"setConnectionStatus",value:function(e){this.isConnected=e,this.connectionStatusCallback()}},{key:"notifyClient",value:function(e){this.transportDataCallback(e)}}]),e}(),Xt=function(e){mt(n,e);var t=wt(n);function n(){return d(this,n),t.apply(this,arguments)}return h(n,[{key:"connect",value:function(){}},{key:"disconnect",value:function(){}},{key:"sendAction",value:function(){}},{key:"sendChatMessage",value:function(){}},{key:"requestSync",value:function(){}},{key:"updateCredentials",value:function(){}},{key:"updateMatchID",value:function(){}},{key:"updatePlayerID",value:function(){}}]),n}(Jt),Zt=function(e){return new Xt(e)},en=new(function(){function e(){d(this,e),this.debugPanel=null,this.currentClient=null,this.clients=new Map,this.subscribers=new Map}return h(e,[{key:"register",value:function(e){this.clients.set(e,e),this.mountDebug(e),this.notifySubscribers()}},{key:"unregister",value:function(e){if(this.clients.delete(e),this.currentClient===e){this.unmountDebug();var t,n=f(this.clients);try{for(n.s();!(t=n.n()).done;){var r=u(t.value,1)[0];if(this.debugPanel)break;this.mountDebug(r)}}catch(a){n.e(a)}finally{n.f()}}this.notifySubscribers()}},{key:"subscribe",value:function(e){var t=this,n=Symbol();return this.subscribers.set(n,e),e(this.getState()),function(){t.subscribers.delete(n)}}},{key:"switchPlayerID",value:function(e){if(this.currentClient.multiplayer){var t,n=f(this.clients);try{for(n.s();!(t=n.n()).done;){var r=u(t.value,1)[0];if(r.playerID===e&&!1!==r.debugOpt&&r.multiplayer===this.currentClient.multiplayer)return void this.switchToClient(r)}}catch(a){n.e(a)}finally{n.f()}}this.currentClient.updatePlayerID(e),this.notifySubscribers()}},{key:"switchToClient",value:function(e){e!==this.currentClient&&(this.unmountDebug(),this.mountDebug(e),this.notifySubscribers())}},{key:"notifySubscribers",value:function(){var e=this.getState();this.subscribers.forEach((function(t){t(e)}))}},{key:"getState",value:function(){return{client:this.currentClient,debuggableClients:this.getDebuggableClients()}}},{key:"getDebuggableClients",value:function(){return o(this.clients.values()).filter((function(e){return!1!==e.debugOpt}))}},{key:"mountDebug",value:function(e){if(!1!==e.debugOpt&&null===this.debugPanel&&"undefined"!==typeof document){var t,n=document.body;0,e.debugOpt&&!0!==e.debugOpt&&(t=e.debugOpt.impl||t,n=e.debugOpt.target||n),t&&(this.currentClient=e,this.debugPanel=new t({target:n,props:{clientManager:this}}))}}},{key:"unmountDebug",value:function(){this.debugPanel.$destroy(),this.debugPanel=null,this.currentClient=null}}]),e}());function tn(e,t,n){n||null!==e&&void 0!==e||(e=t.getState().ctx.currentPlayer);return e}function nn(e,t,n,r,a,i){var o,u={},l=f(t);try{var c=function(){var t=o.value;u[t]=function(){for(var o=arguments.length,u=new Array(o),l=0;l<o;l++)u[l]=arguments[l];var c=Be[e](t,u,tn(r,n,i),a);n.dispatch(c)}};for(l.s();!(o=l.n()).done;)c()}catch(s){l.e(s)}finally{l.f()}return u}var rn=nn.bind(null,"makeMove"),an=nn.bind(null,"gameEvent"),on=nn.bind(null,"plugin"),un=function(){function e(t){var n=this,r=t.game,a=t.debug,i=t.numPlayers,u=t.multiplayer,l=t.matchID,c=t.playerID,s=t.credentials,f=t.enhancer;d(this,e),this.game=zt(r),this.playerID=c,this.matchID=l||"default",this.credentials=s,this.multiplayer=u,this.debugOpt=a,this.manager=en,this.gameStateOverride=null,this.subscribers={},this._running=!1,this.reducer=Qt({game:this.game,isClient:void 0!==u}),this.initialState=null,u||(this.initialState=Yt({game:this.game,numPlayers:i})),this.reset=function(){n.store.dispatch(Re(n.initialState))},this.undo=function(){var e=Le(tn(n.playerID,n.store,n.multiplayer),n.credentials);n.store.dispatch(e)},this.redo=function(){var e=ze(tn(n.playerID,n.store,n.multiplayer),n.credentials);n.store.dispatch(e)},this.log=[];var p=Nt(Kt,(function(){return function(e){return function(t){var r=e(t);return n.notifySubscribers(),r}}}),(function(e){return function(t){return function(r){var a=e.getState(),i=t(r);return"clientOnly"in r||r.type===Oe||n.transport.sendAction(a,r),i}}}),(function(e){return function(t){return function(r){var a=t(r),i=e.getState();switch(r.type){case we:case xe:case _e:case Ee:var u=i.deltalog;n.log=[].concat(o(n.log),o(u));break;case Pe:n.log=[];break;case $e:case Te:var l=-1;n.log.length>0&&(l=n.log[n.log.length-1]._stateID);var c=r.deltalog||[];c=c.filter((function(e){return e._stateID>l})),n.log=[].concat(o(n.log),o(c));break;case Se:n.initialState=r.initialState,n.log=r.log||[]}return a}}}));f=void 0!==f?It(p,f):p,this.store=Ot(this.reducer,this.initialState,f),u||(u=Zt),this.transport=u({transportDataCallback:function(e){return n.receiveTransportData(e)},gameKey:r,game:this.game,matchID:l,playerID:c,credentials:s,gameName:this.game.name,numPlayers:i}),this.createDispatchers(),this.chatMessages=[],this.sendChatMessage=function(e){n.transport.sendChatMessage(n.matchID,{id:Pt(7),sender:n.playerID,payload:e})}}return h(e,[{key:"receiveMatchData",value:function(e){this.matchData=e,this.notifySubscribers()}},{key:"receiveChatMessage",value:function(e){this.chatMessages=[].concat(o(this.chatMessages),[e]),this.notifySubscribers()}},{key:"receiveTransportData",value:function(e){if(u(e.args,1)[0]===this.matchID)switch(e.type){case"sync":var t=u(e.args,2)[1],n=Ae(t);this.receiveMatchData(t.filteredMetadata),this.store.dispatch(n);break;case"update":var r=u(e.args,3),a=r[1],i=r[2],o=this.store.getState();if(a._stateID>=o._stateID){var l=je(a,i);this.store.dispatch(l)}break;case"patch":var c=u(e.args,5),s=c[1],f=c[2],d=c[3],p=c[4],h=this.store.getState()._stateID;if(s!==h)break;var v=Me(s,f,d,p);this.store.dispatch(v),this.store.getState()._stateID===h&&this.transport.requestSync();break;case"matchData":var m=u(e.args,2)[1];this.receiveMatchData(m);break;case"chat":var y=u(e.args,2)[1];this.receiveChatMessage(y)}}},{key:"notifySubscribers",value:function(){var e=this;Object.values(this.subscribers).forEach((function(t){return t(e.getState())}))}},{key:"overrideGameState",value:function(e){this.gameStateOverride=e,this.notifySubscribers()}},{key:"start",value:function(){this.transport.connect(),this._running=!0,this.manager.register(this)}},{key:"stop",value:function(){this.transport.disconnect(),this._running=!1,this.manager.unregister(this)}},{key:"subscribe",value:function(e){var t=this,n=Object.keys(this.subscribers).length;return this.subscribers[n]=e,this.transport.subscribeToConnectionStatus((function(){return t.notifySubscribers()})),!this._running&&this.multiplayer||e(this.getState()),function(){delete t.subscribers[n]}}},{key:"getInitialState",value:function(){return this.initialState}},{key:"getState",value:function(){var e=this.store.getState();if(null!==this.gameStateOverride&&(e=this.gameStateOverride),null===e)return e;var t=!0,n=this.game.flow.isPlayerActive(e.G,e.ctx,this.playerID);return this.multiplayer&&!n&&(t=!1),this.multiplayer||null===this.playerID||void 0===this.playerID||n||(t=!1),void 0!==e.ctx.gameover&&(t=!1),this.multiplayer||(e=s(s({},e),{},{G:this.game.playerView(e.G,e.ctx,this.playerID),plugins:at(e,this)})),s(s({},e),{},{log:this.log,isActive:t,isConnected:this.transport.isConnected})}},{key:"createDispatchers",value:function(){this.moves=rn(this.game.moveNames,this.store,this.playerID,this.credentials,this.multiplayer),this.events=an(this.game.flow.enabledEventNames,this.store,this.playerID,this.credentials,this.multiplayer),this.plugins=on(this.game.pluginNames,this.store,this.playerID,this.credentials,this.multiplayer)}},{key:"updatePlayerID",value:function(e){this.playerID=e,this.createDispatchers(),this.transport.updatePlayerID(e),this.notifySubscribers()}},{key:"updateMatchID",value:function(e){this.matchID=e,this.createDispatchers(),this.transport.updateMatchID(e),this.notifySubscribers()}},{key:"updateCredentials",value:function(e){this.credentials=e,this.createDispatchers(),this.transport.updateCredentials(e),this.notifySubscribers()}}]),e}();var ln=JSON.parse,cn=JSON.stringify,sn=Object.keys,fn=String,dn="string",pn={},hn="object",vn=function(e,t){return t},mn=function(e){return e instanceof fn?fn(e):e},yn=function(e,t){return typeof t===dn?new fn(t):t},gn=function e(t,n,r,a){for(var i=[],o=sn(r),u=o.length,l=0;l<u;l++){var c=o[l],s=r[c];if(s instanceof fn){var f=t[s];typeof f!==hn||n.has(f)?r[c]=a.call(r,c,f):(n.add(f),r[c]=pn,i.push({k:c,a:[t,n,f,a]}))}else r[c]!==pn&&(r[c]=a.call(r,c,s))}for(var d=i.length,p=0;p<d;p++){var h=i[p],v=h.k,m=h.a;r[v]=a.call(r,v,e.apply(null,m))}return r},bn=function(e,t,n){var r=fn(t.push(n)-1);return e.set(n,r),r},kn=function(e,t){var n=ln(e,yn).map(mn),r=n[0],a=t||vn,i=typeof r===hn&&r?gn(n,new Set,r,a):r;return a.call({"":i},"",i)},wn=function(e,t,n){for(var r=t&&typeof t===hn?function(e,n){return""===e||-1<t.indexOf(e)?n:void 0}:t||vn,a=new Map,i=[],o=[],u=+bn(a,i,r.call({"":e},"",e)),l=!u;u<i.length;)l=!0,o[u]=cn(i[u++],c,n);return"["+o.join(",")+"]";function c(e,t){if(l)return l=!l,t;var n=r.call(this,e,t);switch(typeof n){case hn:if(null===n)return n;case dn:return a.get(n)||bn(a,i,n)}return n}},xn=(n(878),function(){function e(t){var n=t.enumerate,r=t.seed;d(this,e),this.enumerateFn=n,this.seed=r,this.iterationCounter=0,this._opts={}}return h(e,[{key:"addOpt",value:function(e){var t=e.key,n=e.range,r=e.initial;this._opts[t]={range:n,value:r}}},{key:"getOpt",value:function(e){return this._opts[e].value}},{key:"setOpt",value:function(e,t){e in this._opts&&(this._opts[e].value=t)}},{key:"opts",value:function(){return this._opts}},{key:"enumerate",value:function(e,t,n){return this.enumerateFn(e,t,n).map((function(e){return"payload"in e?e:"move"in e?Ie(e.move,e.args,n):"event"in e?Ne(e.event,e.args,n):void 0}))}},{key:"random",value:function(e){var t;if(void 0!==this.seed){var n=me(this.prngstate?"":this.seed,this.prngstate);t=n(),this.prngstate=n.state()}else t=Math.random();return e?Array.isArray(e)?e[Math.floor(t*e.length)]:Math.floor(t*e):t}}]),e}()),En=function(e){mt(n,e);var t=wt(n);function n(e){var r,a=e.enumerate,i=e.seed,o=e.objectives,u=e.game,l=e.iterations,c=e.playoutDepth,s=e.iterationCallback;return d(this,n),void 0===o&&(o=function(){return{}}),(r=t.call(this,{enumerate:a,seed:i})).objectives=o,r.iterationCallback=s||function(){},r.reducer=Qt({game:u}),r.iterations=l,r.playoutDepth=c,r.addOpt({key:"async",initial:!1}),r.addOpt({key:"iterations",initial:"number"===typeof l?l:1e3,range:{min:1,max:2e3}}),r.addOpt({key:"playoutDepth",initial:"number"===typeof c?c:50,range:{min:1,max:100}}),r}return h(n,[{key:"createNode",value:function(e){var t=e.state,n=e.parentAction,r=e.parent,a=e.playerID,i=t.G,u=t.ctx,l=[],c=[];if(void 0!==a)l=this.enumerate(i,u,a),c=this.objectives(i,u,a);else if(u.activePlayers)for(var s in u.activePlayers){var f;(f=l).push.apply(f,o(this.enumerate(i,u,s))),c.push(this.objectives(i,u,s))}else l=this.enumerate(i,u,u.currentPlayer),c=this.objectives(i,u,u.currentPlayer);return{state:t,parent:r,parentAction:n,actions:l,objectives:c,children:[],visits:0,value:0}}},{key:"select",value:function(e){if(e.actions.length>0)return e;if(0===e.children.length)return e;var t,n=null,r=0,a=f(e.children);try{for(a.s();!(t=a.n()).done;){var i=t.value,o=i.visits+Number.EPSILON,u=i.value/o+Math.sqrt(2*Math.log(e.visits)/o);(null==n||u>r)&&(r=u,n=i)}}catch(l){a.e(l)}finally{a.f()}return this.select(n)}},{key:"expand",value:function(e){var t=e.actions;if(0===t.length||void 0!==e.state.ctx.gameover)return e;var n=this.random(t.length),r=t[n];e.actions.splice(n,1);var a=this.reducer(e.state,r),i=this.createNode({state:a,parentAction:r,parent:e});return e.children.push(i),i}},{key:"playout",value:function(e){var t=this,n=e.state,r=this.getOpt("playoutDepth");"function"===typeof this.playoutDepth&&(r=this.playoutDepth(n.G,n.ctx));for(var a=function(e){var r=n,a=r.G,i=r.ctx,o=i.currentPlayer;i.activePlayers&&(o=Object.keys(i.activePlayers)[0]);var u=t.enumerate(a,i,o),l=t.objectives(a,i,o),c=Object.keys(l).reduce((function(e,t){var n=l[t];return n.checker(a,i)?e+n.weight:e}),0);if(c>0)return{v:{score:c}};if(!u||0===u.length)return{v:void 0};var s=t.random(u.length),f=t.reducer(n,u[s]);n=f},i=0;i<r&&void 0===n.ctx.gameover;i++){var o=a();if("object"===typeof o)return o.v}return n.ctx.gameover}},{key:"backpropagate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.visits++,void 0!==t.score&&(e.value+=t.score),!0===t.draw&&(e.value+=.5),e.parentAction&&t.winner===e.parentAction.payload.playerID&&e.value++,e.parent&&this.backpropagate(e.parent,t)}},{key:"play",value:function(e,t){var n=this,r=this.createNode({state:e,playerID:t}),a=this.getOpt("iterations");"function"===typeof this.iterations&&(a=this.iterations(e.G,e.ctx));var i=function(){var e,t=null,n=f(r.children);try{for(n.s();!(e=n.n()).done;){var a=e.value;(null==t||a.visits>t.visits)&&(t=a)}}catch(i){n.e(i)}finally{n.f()}return{action:t&&t.parentAction,metadata:r}};return new Promise((function(e){var t=function(){for(var e=0;e<25&&n.iterationCounter<a;e++){var t=n.select(r),i=n.expand(t),o=n.playout(i);n.backpropagate(i,o),n.iterationCounter++}n.iterationCallback({iterationCounter:n.iterationCounter,numIterations:a,metadata:r})};if(n.iterationCounter=0,n.getOpt("async")){!function r(){n.iterationCounter<a?(t(),setImmediate(r)):e(i())}()}else{for(;n.iterationCounter<a;)t();e(i())}}))}}]),n}(xn),Pn=function(e){mt(n,e);var t=wt(n);function n(){return d(this,n),t.apply(this,arguments)}return h(n,[{key:"play",value:function(e,t){var n=e.G,r=e.ctx,a=this.enumerate(n,r,t);return Promise.resolve({action:this.random(a)})}}]),n}(xn);function Sn(e,t){return _n.apply(this,arguments)}function _n(){return _n=ht(dt().mark((function e(t,n){var r,a,i,o,u,l;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.store.getState(),a=r.ctx.currentPlayer,r.ctx.activePlayers&&(a=Object.keys(r.ctx.activePlayers)[0]),e.next=5,n.play(r,a);case 5:if(i=e.sent,o=i.action,u=i.metadata,!o){e.next=12;break}return l=s(s({},o),{},{payload:s(s({},o.payload),{},{metadata:u})}),t.store.dispatch(l),e.abrupt("return",l);case 12:case"end":return e.stop()}}),e)}))),_n.apply(this,arguments)}function Tn(e,t,n){return Tn=gt()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&vt(a,n.prototype),a},Tn.apply(null,arguments)}function $n(e){var t="function"===typeof Map?new Map:void 0;return $n=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Tn(e,arguments,yt(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),vt(n,e)},$n(e)}var Cn,On=function(e,t){if(!e||"string"!==typeof e)throw new Error("Expected ".concat(t,' string, got "').concat(e,'".'))},In=function(e){return On(e,"game name")},Nn=function(e){return On(e,"match ID")},Dn=function(e,t){if(!e)throw new Error("Expected body, got \u201c".concat(e,"\u201d."));for(var n in t){var r=t[n],a=Array.isArray(r)?r:[r],i=e[n];if(!a.includes(typeof i)){var o=a.join("|");throw new TypeError("Expected body.".concat(n," to be of type ").concat(o,", got \u201c").concat(i,"\u201d."))}}},An=function(e){mt(n,e);var t=wt(n);function n(e,r){var a;return d(this,n),(a=t.call(this,e)).details=r,a}return h(n)}($n(Error)),Mn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.server,r=void 0===n?"":n;d(this,e),this.server=r.replace(/\/$/,"")}return h(e,[{key:"request",value:function(){var e=ht(dt().mark((function e(t,n){var r,a;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.server+t,n);case 2:if((r=e.sent).ok){e.next=22;break}return e.prev=4,e.next=7,r.clone().json();case 7:a=e.sent,e.next=21;break;case 10:return e.prev=10,e.t0=e.catch(4),e.prev=12,e.next=15,r.text();case 15:a=e.sent,e.next=21;break;case 18:e.prev=18,e.t1=e.catch(12),a=e.t1.message;case 21:throw new An("HTTP status ".concat(r.status),a);case 22:return e.abrupt("return",r.json());case 23:case"end":return e.stop()}}),e,this,[[4,10],[12,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=ht(dt().mark((function e(t,n){var r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"post",body:JSON.stringify(n.body),headers:{"Content-Type":"application/json"}},n.init&&(r=s(s(s({},r),n.init),{},{headers:s(s({},r.headers),n.init.headers)})),e.abrupt("return",this.request(t,r));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"listGames",value:function(){var e=ht(dt().mark((function e(t){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request("/games",t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"listMatches",value:function(){var e=ht(dt().mark((function e(t,n,r){var a,i,o,u,l;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return In(t),a="",n&&(i=[],o=n.isGameover,u=n.updatedBefore,l=n.updatedAfter,void 0!==o&&i.push("isGameover=".concat(o)),u&&i.push("updatedBefore=".concat(u)),l&&i.push("updatedAfter=".concat(l)),i.length>0&&(a="?"+i.join("&"))),e.abrupt("return",this.request("/games/".concat(t).concat(a),r));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getMatch",value:function(){var e=ht(dt().mark((function e(t,n,r){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return In(t),Nn(n),e.abrupt("return",this.request("/games/".concat(t,"/").concat(n),r));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"createMatch",value:function(){var e=ht(dt().mark((function e(t,n,r){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return In(t),Dn(n,{numPlayers:"number"}),e.abrupt("return",this.post("/games/".concat(t,"/create"),{body:n,init:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"joinMatch",value:function(){var e=ht(dt().mark((function e(t,n,r,a){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return In(t),Nn(n),Dn(r,{playerID:["string","undefined"],playerName:"string"}),e.abrupt("return",this.post("/games/".concat(t,"/").concat(n,"/join"),{body:r,init:a}));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"leaveMatch",value:function(){var e=ht(dt().mark((function e(t,n,r,a){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return In(t),Nn(n),Dn(r,{playerID:"string",credentials:"string"}),e.next=5,this.post("/games/".concat(t,"/").concat(n,"/leave"),{body:r,init:a});case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"updatePlayer",value:function(){var e=ht(dt().mark((function e(t,n,r,a){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return In(t),Nn(n),Dn(r,{playerID:"string",credentials:"string"}),e.next=5,this.post("/games/".concat(t,"/").concat(n,"/update"),{body:r,init:a});case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"playAgain",value:function(){var e=ht(dt().mark((function e(t,n,r,a){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return In(t),Nn(n),Dn(r,{playerID:"string",credentials:"string"}),e.abrupt("return",this.post("/games/".concat(t,"/").concat(n,"/playAgain"),{body:r,init:a}));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()}]),e}(),jn=n(7),Rn=n.n(jn),Ln=n(808);function zn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=yt(e)););return e}function Fn(){return Fn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=zn(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},Fn.apply(this,arguments)}function Bn(e){return e.type()===Cn.SYNC}!function(e){e[e.SYNC=0]="SYNC",e[e.ASYNC=1]="ASYNC"}(Cn||(Cn={}));var Un=function(){function e(){d(this,e)}return h(e,[{key:"type",value:function(){return Cn.SYNC}},{key:"connect",value:function(){}},{key:"createMatch",value:function(e,t){if(this.createGame)return console.warn("The database connector does not implement a createMatch method.","\nUsing the deprecated createGame method instead."),this.createGame(e,t);console.error("The database connector does not implement a createMatch method.")}},{key:"listMatches",value:function(e){if(this.listGames)return console.warn("The database connector does not implement a listMatches method.","\nUsing the deprecated listGames method instead."),this.listGames(e);console.error("The database connector does not implement a listMatches method.")}}]),e}(),Vn=function(e){var t=e.game,n=e.numPlayers,r=e.setupData,a=e.unlisted;n&&"number"===typeof n||(n=2);var i=t.validateSetupData&&t.validateSetupData(r,n);if(void 0!==i)return{setupDataError:i};var o=function(e){var t=e.game,n=e.unlisted,r=e.setupData,a=e.numPlayers,i={gameName:t.name,unlisted:!!n,players:{},createdAt:Date.now(),updatedAt:Date.now()};void 0!==r&&(i.setupData=r);for(var o=0;o<a;o++)i.players[o]={id:o};return i}({game:t,numPlayers:n,setupData:r,unlisted:a});return{metadata:o,initialState:Yt({game:t,numPlayers:n,setupData:r})}},qn=["credentials"],Gn=["credentials"],Wn=["deltalog"],Hn=function(e){return Object.values(e.players).map((function(e){e.credentials;return Dt(e,qn)}))},Kn=function(e){var t=e.payload,n=(t.credentials,Dt(t,Gn));return s(s({},e),{},{payload:n})},Qn=function(){function e(t,n,r,a){d(this,e),this.game=zt(t),this.storageAPI=n,this.transportAPI=r,this.subscribeCallback=function(){},this.auth=a}return h(e,[{key:"subscribe",value:function(e){this.subscribeCallback=e}},{key:"onUpdate",value:function(){var e=ht(dt().mark((function e(t,n,r,a){var i,o,u,l,c,f,d,p,h,v,m,y,g,b,k,w,x,E,P,S;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.payload){e.next=2;break}return e.abrupt("return",{error:"missing action or action payload"});case 2:if(!Bn(this.storageAPI)){e.next=7;break}o=this.storageAPI.fetch(r,{metadata:!0}),i=o.metadata,e.next=11;break;case 7:return e.next=9,this.storageAPI.fetch(r,{metadata:!0});case 9:u=e.sent,i=u.metadata;case 11:if(!this.auth){e.next=17;break}return e.next=14,this.auth.authenticateCredentials({playerID:a,credentials:t.payload.credentials,metadata:i});case 14:if(e.sent){e.next=17;break}return e.abrupt("return",{error:"unauthorized action"});case 17:if(l=Kn(t),c=r,!Bn(this.storageAPI)){e.next=24;break}d=this.storageAPI.fetch(c,{state:!0}),f=d.state,e.next=28;break;case 24:return e.next=26,this.storageAPI.fetch(c,{state:!0});case 26:p=e.sent,f=p.state;case 28:if(void 0!==f){e.next=31;break}return Qe("game not found, matchID=[".concat(c,"]")),e.abrupt("return",{error:"game not found"});case 31:if(void 0===f.ctx.gameover){e.next=34;break}return Qe("game over - matchID=[".concat(c,"] - playerID=[").concat(a,"]")+" - action[".concat(l.payload.type,"]")),e.abrupt("return");case 34:if(h=Qt({game:this.game}),v=Nt(Kt),m=Ot(h,f,v),l.type!=_e&&l.type!=Ee){e.next=43;break}if(y=null!==f.ctx.activePlayers,g=f.ctx.currentPlayer===a,!(!y&&!g||y&&(void 0===f.ctx.activePlayers[a]||Object.keys(f.ctx.activePlayers).length>1))){e.next=43;break}return Qe("playerID=[".concat(a,"] cannot undo / redo right now")),e.abrupt("return");case 43:if(this.game.flow.isPlayerActive(f.G,f.ctx,a)){e.next=46;break}return Qe("player not active - playerID=[".concat(a,"]")+" - action[".concat(l.payload.type,"]")),e.abrupt("return");case 46:if(b=l.type==we?this.game.flow.getMove(f.ctx,l.payload.type,a):null,l.type!=we||b){e.next=50;break}return Qe("move not processed - canPlayerMakeMove=false - playerID=[".concat(a,"]")+" - action[".concat(l.payload.type,"]")),e.abrupt("return");case 50:if(f._stateID===n||b&&Ft(b)&&b.ignoreStaleStateID){e.next=53;break}return Qe("invalid stateID, was=[".concat(n,"], expected=[").concat(f._stateID,"]")+" - playerID=[".concat(a,"] - action[").concat(l.payload.type,"]")),e.abrupt("return");case 53:if(k=m.getState(),m.dispatch(l),f=m.getState(),this.subscribeCallback({state:f,action:l,matchID:r}),this.game.deltaState?this.transportAPI.sendAll({type:"patch",args:[r,n,k,f]}):this.transportAPI.sendAll({type:"update",args:[r,f]}),x=(w=f).deltalog,E=Dt(w,Wn),!i||void 0!==i.gameover&&null!==i.gameover||(P=s(s({},i),{},{updatedAt:Date.now()}),void 0!==f.ctx.gameover&&(P.gameover=f.ctx.gameover)),!Bn(this.storageAPI)){e.next=65;break}this.storageAPI.setState(c,E,x),P&&this.storageAPI.setMetadata(c,P),e.next=69;break;case 65:return S=[this.storageAPI.setState(c,E,x)],P&&S.push(this.storageAPI.setMetadata(c,P)),e.next=69,Promise.all(S);case 69:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"onSync",value:function(){var e=ht(dt().mark((function e(t,n,r){var a,i,o,u,l,c,s,f,d,p,h,v=arguments;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=v.length>3&&void 0!==v[3]?v[3]:2,i=t,o={state:!0,metadata:!0,log:!0,initialState:!0},!Bn(this.storageAPI)){e.next=7;break}e.t0=this.storageAPI.fetch(i,o),e.next=10;break;case 7:return e.next=9,this.storageAPI.fetch(i,o);case 9:e.t0=e.sent;case 10:if(u=e.t0,l=u.state,c=u.initialState,s=u.log,f=u.metadata,!this.auth||void 0===n||null===n){e.next=18;break}return e.next=15,this.auth.authenticateCredentials({playerID:n,credentials:r,metadata:f});case 15:if(e.sent){e.next=18;break}return e.abrupt("return",{error:"unauthorized"});case 18:if(void 0!==l){e.next=31;break}if(!("setupDataError"in(d=Vn({game:this.game,unlisted:!0,numPlayers:a,setupData:void 0})))){e.next=22;break}return e.abrupt("return",{error:"game requires setupData"});case 22:if(c=l=d.initialState,f=d.metadata,this.subscribeCallback({state:l,matchID:t}),!Bn(this.storageAPI)){e.next=29;break}this.storageAPI.createMatch(i,{initialState:c,metadata:f}),e.next=31;break;case 29:return e.next=31,this.storageAPI.createMatch(i,{initialState:c,metadata:f});case 31:return p=f?Hn(f):void 0,h={state:l,log:s,filteredMetadata:p,initialState:c},this.transportAPI.send({playerID:n,type:"sync",args:[t,h]}),e.abrupt("return");case 35:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"onConnectionChange",value:function(){var e=ht(dt().mark((function e(t,n,r,a){var i,o,u,l,c;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t,void 0!==n&&null!==n){e.next=3;break}return e.abrupt("return");case 3:if(!Bn(this.storageAPI)){e.next=8;break}u=this.storageAPI.fetch(i,{metadata:!0}),o=u.metadata,e.next=12;break;case 8:return e.next=10,this.storageAPI.fetch(i,{metadata:!0});case 10:l=e.sent,o=l.metadata;case 12:if(void 0!==o){e.next=15;break}return Qe("metadata not found for matchID=[".concat(i,"]")),e.abrupt("return",{error:"metadata not found"});case 15:if(void 0!==o.players[n]){e.next=18;break}return Qe("Player not in the match, matchID=[".concat(i,"] playerID=[").concat(n,"]")),e.abrupt("return",{error:"player not in the match"});case 18:if(!this.auth){e.next=24;break}return e.next=21,this.auth.authenticateCredentials({playerID:n,credentials:r,metadata:o});case 21:if(e.sent){e.next=24;break}return e.abrupt("return",{error:"unauthorized"});case 24:if(o.players[n].isConnected=a,c=Hn(o),this.transportAPI.sendAll({type:"matchData",args:[t,c]}),!Bn(this.storageAPI)){e.next=31;break}this.storageAPI.setMetadata(i,o),e.next=33;break;case 31:return e.next=33,this.storageAPI.setMetadata(i,o);case 33:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"onChatMessage",value:function(){var e=ht(dt().mark((function e(t,n,r){var a,i,o;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!this.auth){e.next=13;break}return e.next=4,this.storageAPI.fetch(a,{metadata:!0});case 4:if(i=e.sent,o=i.metadata,n&&"string"===typeof n.sender){e.next=8;break}return e.abrupt("return",{error:"unauthorized"});case 8:return e.next=10,this.auth.authenticateCredentials({playerID:n.sender,credentials:r,metadata:o});case 10:if(e.sent){e.next=13;break}return e.abrupt("return",{error:"unauthorized"});case 13:this.transportAPI.sendAll({type:"chat",args:[t,n]});case 14:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),e}(),Yn=["redact"],Jn=function(e,t,n){return s(s({},n),{},{G:e.playerView(n.G,n.ctx,t),plugins:at(n,{playerID:t,game:e}),deltalog:void 0,_undo:[],_redo:[]})};function Xn(e,t){return void 0===e?e:e.map((function(e){if(null!==t&&+t===+e.action.payload.playerID)return e;if(!0!==e.redact)return e;var n=s(s({},e.action.payload),{},{args:null}),r=s(s({},e),{},{action:s(s({},e.action),{},{payload:n})});r.redact;return Dt(r,Yn)}))}var Zn=Object.create(null);Zn.open="0",Zn.close="1",Zn.ping="2",Zn.pong="3",Zn.message="4",Zn.upgrade="5",Zn.noop="6";var er=Object.create(null);Object.keys(Zn).forEach((function(e){er[Zn[e]]=e}));for(var tr={type:"error",data:"parser error"},nr="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),rr="function"===typeof ArrayBuffer,ar=function(e,t){var n=new FileReader;return n.onload=function(){var e=n.result.split(",")[1];t("b"+e)},n.readAsDataURL(e)},ir=function(e,t,n){var r,a=e.type,i=e.data;return nr&&i instanceof Blob?t?n(i):ar(i,n):rr&&(i instanceof ArrayBuffer||(r=i,"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer))?t?n(i):ar(new Blob([i]),n):n(Zn[a]+(i||""))},or="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ur="undefined"===typeof Uint8Array?[]:new Uint8Array(256),lr=0;lr<or.length;lr++)ur[or.charCodeAt(lr)]=lr;var cr="function"===typeof ArrayBuffer,sr=function(e,t){if(cr){var n=function(e){var t,n,r,a,i,o=.75*e.length,u=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var c=new ArrayBuffer(o),s=new Uint8Array(c);for(t=0;t<u;t+=4)n=ur[e.charCodeAt(t)],r=ur[e.charCodeAt(t+1)],a=ur[e.charCodeAt(t+2)],i=ur[e.charCodeAt(t+3)],s[l++]=n<<2|r>>4,s[l++]=(15&r)<<4|a>>2,s[l++]=(3&a)<<6|63&i;return c}(e);return fr(n,t)}return{base64:!0,data:e}},fr=function(e,t){return"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e},dr=function(e,t){if("string"!==typeof e)return{type:"message",data:fr(e,t)};var n=e.charAt(0);return"b"===n?{type:"message",data:sr(e.substring(1),t)}:er[n]?e.length>1?{type:er[n],data:e.substring(1)}:{type:er[n]}:tr},pr=String.fromCharCode(30);function hr(e){if(e)return function(e){for(var t in hr.prototype)e[t]=hr.prototype[t];return e}(e)}hr.prototype.on=hr.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},hr.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},hr.prototype.off=hr.prototype.removeListener=hr.prototype.removeAllListeners=hr.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<r.length;a++)if((n=r[a])===t||n.fn===t){r.splice(a,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},hr.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var a=(n=n.slice(0)).length;r<a;++r)n[r].apply(this,t)}return this},hr.prototype.emitReserved=hr.prototype.emit,hr.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},hr.prototype.hasListeners=function(e){return!!this.listeners(e).length};var vr="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function mr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t}),{})}var yr=setTimeout,gr=clearTimeout;function br(e,t){t.useNativeTimers?(e.setTimeoutFn=yr.bind(vr),e.clearTimeoutFn=gr.bind(vr)):(e.setTimeoutFn=setTimeout.bind(vr),e.clearTimeoutFn=clearTimeout.bind(vr))}var kr,wr=function(e){mt(n,e);var t=wt(n);function n(e,r,a){var i;return d(this,n),(i=t.call(this,e)).description=r,i.context=a,i.type="TransportError",i}return h(n)}($n(Error)),xr=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),(r=t.call(this)).writable=!1,br(bt(r),e),r.opts=e,r.query=e.query,r.readyState="",r.socket=e.socket,r}return h(n,[{key:"onError",value:function(e,t,r){return Fn(yt(n.prototype),"emitReserved",this).call(this,"error",new wr(e,t,r)),this}},{key:"open",value:function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(e){"open"===this.readyState&&this.write(e)}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,Fn(yt(n.prototype),"emitReserved",this).call(this,"open")}},{key:"onData",value:function(e){var t=dr(e,this.socket.binaryType);this.onPacket(t)}},{key:"onPacket",value:function(e){Fn(yt(n.prototype),"emitReserved",this).call(this,"packet",e)}},{key:"onClose",value:function(e){this.readyState="closed",Fn(yt(n.prototype),"emitReserved",this).call(this,"close",e)}}]),n}(hr),Er="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Pr={},Sr=0,_r=0;function Tr(e){var t="";do{t=Er[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function $r(){var e=Tr(+new Date);return e!==kr?(Sr=0,kr=e):e+"."+Tr(Sr++)}for(;_r<64;_r++)Pr[Er[_r]]=_r;function Cr(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function Or(e){for(var t={},n=e.split("&"),r=0,a=n.length;r<a;r++){var i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}var Ir=!1;try{Ir="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Ss){}var Nr=Ir;function Dr(e){var t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||Nr))return new XMLHttpRequest}catch(n){}if(!t)try{return new(vr[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}function Ar(){}var Mr=null!=new Dr({xdomain:!1}).responseType,jr=function(e){mt(n,e);var t=wt(n);function n(e){var r;if(d(this,n),(r=t.call(this,e)).polling=!1,"undefined"!==typeof location){var a="https:"===location.protocol,i=location.port;i||(i=a?"443":"80"),r.xd="undefined"!==typeof location&&e.hostname!==location.hostname||i!==e.port,r.xs=e.secure!==a}var o=e&&e.forceBase64;return r.supportsBinary=Mr&&!o,r}return h(n,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(e){var t=this;this.readyState="pausing";var n=function(){t.readyState="paused",e()};if(this.polling||!this.writable){var r=0;this.polling&&(r++,this.once("pollComplete",(function(){--r||n()}))),this.writable||(r++,this.once("drain",(function(){--r||n()})))}else n()}},{key:"poll",value:function(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}},{key:"onData",value:function(e){var t=this;(function(e,t){for(var n=e.split(pr),r=[],a=0;a<n.length;a++){var i=dr(n[a],t);if(r.push(i),"error"===i.type)break}return r})(e,this.socket.binaryType).forEach((function(e){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose({description:"transport closed by the server"}),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}},{key:"doClose",value:function(){var e=this,t=function(){e.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}},{key:"write",value:function(e){var t=this;this.writable=!1,function(e,t){var n=e.length,r=new Array(n),a=0;e.forEach((function(e,i){ir(e,!1,(function(e){r[i]=e,++a===n&&t(r.join(pr))}))}))}(e,(function(e){t.doWrite(e,(function(){t.writable=!0,t.emitReserved("drain")}))}))}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"https":"http",n="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=$r()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);var r=Cr(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}},{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new Rr(this.uri(),e)}},{key:"doWrite",value:function(e,t){var n=this,r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(function(e,t){n.onError("xhr post error",e,t)}))}},{key:"doPoll",value:function(){var e=this,t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(function(t,n){e.onError("xhr poll error",t,n)})),this.pollXhr=t}}]),n}(xr),Rr=function(e){mt(n,e);var t=wt(n);function n(e,r){var a;return d(this,n),br(bt(a=t.call(this)),r),a.opts=r,a.method=r.method||"GET",a.uri=e,a.async=!1!==r.async,a.data=void 0!==r.data?r.data:null,a.create(),a}return h(n,[{key:"create",value:function(){var e=this,t=mr(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;var r=this.xhr=new Dr(t);try{r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var a in r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(a)&&r.setRequestHeader(a,this.opts.extraHeaders[a])}catch(i){}if("POST"===this.method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}try{r.setRequestHeader("Accept","*/*")}catch(i){}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=function(){4===r.readyState&&(200===r.status||1223===r.status?e.onLoad():e.setTimeoutFn((function(){e.onError("number"===typeof r.status?r.status:0)}),0))},r.send(this.data)}catch(i){return void this.setTimeoutFn((function(){e.onError(i)}),0)}"undefined"!==typeof document&&(this.index=n.requestsCount++,n.requests[this.index]=this)}},{key:"onError",value:function(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}},{key:"cleanup",value:function(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=Ar,e)try{this.xhr.abort()}catch(t){}"undefined"!==typeof document&&delete n.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}},{key:"abort",value:function(){this.cleanup()}}]),n}(hr);if(Rr.requestsCount=0,Rr.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",Lr);else if("function"===typeof addEventListener){addEventListener("onpagehide"in vr?"pagehide":"unload",Lr,!1)}function Lr(){for(var e in Rr.requests)Rr.requests.hasOwnProperty(e)&&Rr.requests[e].abort()}var zr="function"===typeof Promise&&"function"===typeof Promise.resolve?function(e){return Promise.resolve().then(e)}:function(e,t){return t(e,0)},Fr=vr.WebSocket||vr.MozWebSocket,Br="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),Ur=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).supportsBinary=!e.forceBase64,r}return h(n,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){if(this.check()){var e=this.uri(),t=this.opts.protocols,n=Br?{}:mr(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Br?new Fr(e,t,n):t?new Fr(e,t):new Fr(e)}catch(Ss){return this.emitReserved("error",Ss)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}}},{key:"addEventListeners",value:function(){var e=this;this.ws.onopen=function(){e.opts.autoUnref&&e.ws._socket.unref(),e.onOpen()},this.ws.onclose=function(t){return e.onClose({description:"websocket connection closed",context:t})},this.ws.onmessage=function(t){return e.onData(t.data)},this.ws.onerror=function(t){return e.onError("websocket error",t)}}},{key:"write",value:function(e){var t=this;this.writable=!1;for(var n=function(n){var r=e[n],a=n===e.length-1;ir(r,t.supportsBinary,(function(e){try{t.ws.send(e)}catch(n){}a&&zr((function(){t.writable=!0,t.emitReserved("drain")}),t.setTimeoutFn)}))},r=0;r<e.length;r++)n(r)}},{key:"doClose",value:function(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"wss":"ws",n="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=$r()),this.supportsBinary||(e.b64=1);var r=Cr(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}},{key:"check",value:function(){return!!Fr}}]),n}(xr),Vr={websocket:Ur,polling:jr},qr=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Gr=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Wr(e){var t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));for(var a=qr.exec(e||""),i={},o=14;o--;)i[Gr[o]]=a[o]||"";return-1!=n&&-1!=r&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=function(e,t){var n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.substr(0,1)&&0!==t.length||r.splice(0,1);"/"==t.substr(t.length-1,1)&&r.splice(r.length-1,1);return r}(0,i.path),i.queryKey=function(e,t){var n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,i.query),i}var Hr=function(e){mt(n,e);var t=wt(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d(this,n),r=t.call(this),e&&"object"===typeof e&&(a=e,e=null),e?(e=Wr(e),a.hostname=e.host,a.secure="https"===e.protocol||"wss"===e.protocol,a.port=e.port,e.query&&(a.query=e.query)):a.host&&(a.hostname=Wr(a.host).host),br(bt(r),a),r.secure=null!=a.secure?a.secure:"undefined"!==typeof location&&"https:"===location.protocol,a.hostname&&!a.port&&(a.port=r.secure?"443":"80"),r.hostname=a.hostname||("undefined"!==typeof location?location.hostname:"localhost"),r.port=a.port||("undefined"!==typeof location&&location.port?location.port:r.secure?"443":"80"),r.transports=a.transports||["polling","websocket"],r.readyState="",r.writeBuffer=[],r.prevBufferLen=0,r.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},a),r.opts.path=r.opts.path.replace(/\/$/,"")+"/","string"===typeof r.opts.query&&(r.opts.query=Or(r.opts.query)),r.id=null,r.upgrades=null,r.pingInterval=null,r.pingTimeout=null,r.pingTimeoutTimer=null,"function"===typeof addEventListener&&(r.opts.closeOnBeforeunload&&addEventListener("beforeunload",(function(){r.transport&&(r.transport.removeAllListeners(),r.transport.close())}),!1),"localhost"!==r.hostname&&(r.offlineEventListener=function(){r.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",r.offlineEventListener,!1))),r.open(),r}return h(n,[{key:"createTransport",value:function(e){var t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);var n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Vr[e](n)}},{key:"open",value:function(){var e,t=this;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((function(){t.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(r){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}},{key:"setTransport",value:function(e){var t=this;this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(function(e){return t.onClose("transport close",e)}))}},{key:"probe",value:function(e){var t=this,r=this.createTransport(e),a=!1;n.priorWebsocketSuccess=!1;var i=function(){a||(r.send([{type:"ping",data:"probe"}]),r.once("packet",(function(e){if(!a)if("pong"===e.type&&"probe"===e.data){if(t.upgrading=!0,t.emitReserved("upgrading",r),!r)return;n.priorWebsocketSuccess="websocket"===r.name,t.transport.pause((function(){a||"closed"!==t.readyState&&(f(),t.setTransport(r),r.send([{type:"upgrade"}]),t.emitReserved("upgrade",r),r=null,t.upgrading=!1,t.flush())}))}else{var i=new Error("probe error");i.transport=r.name,t.emitReserved("upgradeError",i)}})))};function o(){a||(a=!0,f(),r.close(),r=null)}var u=function(e){var n=new Error("probe error: "+e);n.transport=r.name,o(),t.emitReserved("upgradeError",n)};function l(){u("transport closed")}function c(){u("socket closed")}function s(e){r&&e.name!==r.name&&o()}var f=function(){r.removeListener("open",i),r.removeListener("error",u),r.removeListener("close",l),t.off("close",c),t.off("upgrading",s)};r.once("open",i),r.once("error",u),r.once("close",l),this.once("close",c),this.once("upgrading",s),r.open()}},{key:"onOpen",value:function(){if(this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause)for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},{key:"onPacket",value:function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}},{key:"onHandshake",value:function(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var e=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((function(){e.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}},{key:"flush",value:function(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){var e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}},{key:"getWritablePackets",value:function(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;for(var e,t=1,n=0;n<this.writeBuffer.length;n++){var r=this.writeBuffer[n].data;if(r&&(t+="string"===typeof(e=r)?function(e){for(var t=0,n=0,r=0,a=e.length;r<a;r++)(t=e.charCodeAt(r))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}},{key:"write",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"send",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"sendPacket",value:function(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var a={type:e,data:t,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),r&&this.once("flush",r),this.flush()}}},{key:"close",value:function(){var e=this,t=function(){e.onClose("forced close"),e.transport.close()},n=function n(){e.off("upgrade",n),e.off("upgradeError",n),t()},r=function(){e.once("upgrade",n),e.once("upgradeError",n)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){e.upgrading?r():t()})):this.upgrading?r():t()),this}},{key:"onError",value:function(e){n.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}},{key:"onClose",value:function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}]),n}(hr);Hr.protocol=4;Hr.protocol;var Kr="function"===typeof ArrayBuffer,Qr=Object.prototype.toString,Yr="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Qr.call(Blob),Jr="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===Qr.call(File);function Xr(e){return Kr&&(e instanceof ArrayBuffer||function(e){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))||Yr&&e instanceof Blob||Jr&&e instanceof File}function Zr(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(var n=0,r=e.length;n<r;n++)if(Zr(e[n]))return!0;return!1}if(Xr(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return Zr(e.toJSON(),!0);for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&Zr(e[a]))return!0;return!1}function ea(e){var t=[],n=e.data,r=e;return r.data=ta(n,t),r.attachments=t.length,{packet:r,buffers:t}}function ta(e,t){if(!e)return e;if(Xr(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){for(var r=new Array(e.length),a=0;a<e.length;a++)r[a]=ta(e[a],t);return r}if("object"===typeof e&&!(e instanceof Date)){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=ta(e[o],t));return i}return e}function na(e,t){return e.data=ra(e.data,t),e.attachments=void 0,e}function ra(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]=ra(e[n],t);else if("object"===typeof e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=ra(e[r],t));return e}var aa,ia=5;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(aa||(aa={}));var oa=function(){function e(t){d(this,e),this.replacer=t}return h(e,[{key:"encode",value:function(e){return e.type!==aa.EVENT&&e.type!==aa.ACK||!Zr(e)?[this.encodeAsString(e)]:(e.type=e.type===aa.EVENT?aa.BINARY_EVENT:aa.BINARY_ACK,this.encodeAsBinary(e))}},{key:"encodeAsString",value:function(e){var t=""+e.type;return e.type!==aa.BINARY_EVENT&&e.type!==aa.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}},{key:"encodeAsBinary",value:function(e){var t=ea(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}]),e}(),ua=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),(r=t.call(this)).reviver=e,r}return h(n,[{key:"add",value:function(e){var t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");(t=this.decodeString(e)).type===aa.BINARY_EVENT||t.type===aa.BINARY_ACK?(this.reconstructor=new la(t),0===t.attachments&&Fn(yt(n.prototype),"emitReserved",this).call(this,"decoded",t)):Fn(yt(n.prototype),"emitReserved",this).call(this,"decoded",t)}else{if(!Xr(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,Fn(yt(n.prototype),"emitReserved",this).call(this,"decoded",t))}}},{key:"decodeString",value:function(e){var t=0,r={type:Number(e.charAt(0))};if(void 0===aa[r.type])throw new Error("unknown packet type "+r.type);if(r.type===aa.BINARY_EVENT||r.type===aa.BINARY_ACK){for(var a=t+1;"-"!==e.charAt(++t)&&t!=e.length;);var i=e.substring(a,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(i)}if("/"===e.charAt(t+1)){for(var o=t+1;++t;){if(","===e.charAt(t))break;if(t===e.length)break}r.nsp=e.substring(o,t)}else r.nsp="/";var u=e.charAt(t+1);if(""!==u&&Number(u)==u){for(var l=t+1;++t;){var c=e.charAt(t);if(null==c||Number(c)!=c){--t;break}if(t===e.length)break}r.id=Number(e.substring(l,t+1))}if(e.charAt(++t)){var s=this.tryParse(e.substr(t));if(!n.isPayloadValid(r.type,s))throw new Error("invalid payload");r.data=s}return r}},{key:"tryParse",value:function(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}},{key:"destroy",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:"isPayloadValid",value:function(e,t){switch(e){case aa.CONNECT:return"object"===typeof t;case aa.DISCONNECT:return void 0===t;case aa.CONNECT_ERROR:return"string"===typeof t||"object"===typeof t;case aa.EVENT:case aa.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case aa.ACK:case aa.BINARY_ACK:return Array.isArray(t)}}}]),n}(hr),la=function(){function e(t){d(this,e),this.packet=t,this.buffers=[],this.reconPack=t}return h(e,[{key:"takeBinaryData",value:function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=na(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),e}();function ca(e,t,n){return e.on(t,n),function(){e.off(t,n)}}var sa=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),fa=function(e){mt(n,e);var t=wt(n);function n(e,r,a){var i;return d(this,n),(i=t.call(this)).connected=!1,i.receiveBuffer=[],i.sendBuffer=[],i.ids=0,i.acks={},i.flags={},i.io=e,i.nsp=r,a&&a.auth&&(i.auth=a.auth),i.io._autoConnect&&i.open(),i}return h(n,[{key:"disconnected",get:function(){return!this.connected}},{key:"subEvents",value:function(){if(!this.subs){var e=this.io;this.subs=[ca(e,"open",this.onopen.bind(this)),ca(e,"packet",this.onpacket.bind(this)),ca(e,"error",this.onerror.bind(this)),ca(e,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}},{key:"emit",value:function(e){if(sa.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.unshift(e);var a={type:aa.EVENT,data:n,options:{}};if(a.options.compress=!1!==this.flags.compress,"function"===typeof n[n.length-1]){var i=this.ids++,o=n.pop();this._registerAckCallback(i,o),a.id=i}var u=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,l=this.flags.volatile&&(!u||!this.connected);return l||(this.connected?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}},{key:"_registerAckCallback",value:function(e,t){var n=this,r=this.flags.timeout;if(void 0!==r){var a=this.io.setTimeoutFn((function(){delete n.acks[e];for(var r=0;r<n.sendBuffer.length;r++)n.sendBuffer[r].id===e&&n.sendBuffer.splice(r,1);t.call(n,new Error("operation has timed out"))}),r);this.acks[e]=function(){n.io.clearTimeoutFn(a);for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t.apply(n,[null].concat(r))}}else this.acks[e]=t}},{key:"packet",value:function(e){e.nsp=this.nsp,this.io._packet(e)}},{key:"onopen",value:function(){var e=this;"function"==typeof this.auth?this.auth((function(t){e.packet({type:aa.CONNECT,data:t})})):this.packet({type:aa.CONNECT,data:this.auth})}},{key:"onerror",value:function(e){this.connected||this.emitReserved("connect_error",e)}},{key:"onclose",value:function(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}},{key:"onpacket",value:function(e){if(e.nsp===this.nsp)switch(e.type){case aa.CONNECT:if(e.data&&e.data.sid){var t=e.data.sid;this.onconnect(t)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case aa.EVENT:case aa.BINARY_EVENT:this.onevent(e);break;case aa.ACK:case aa.BINARY_ACK:this.onack(e);break;case aa.DISCONNECT:this.ondisconnect();break;case aa.CONNECT_ERROR:this.destroy();var n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n)}}},{key:"onevent",value:function(e){var t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}},{key:"emitEvent",value:function(e){if(this._anyListeners&&this._anyListeners.length){var t,r=f(this._anyListeners.slice());try{for(r.s();!(t=r.n()).done;){t.value.apply(this,e)}}catch(Ss){r.e(Ss)}finally{r.f()}}Fn(yt(n.prototype),"emit",this).apply(this,e)}},{key:"ack",value:function(e){var t=this,n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];t.packet({type:aa.ACK,id:e,data:a})}}}},{key:"onack",value:function(e){var t=this.acks[e.id];"function"===typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}},{key:"onconnect",value:function(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}},{key:"emitBuffered",value:function(){var e=this;this.receiveBuffer.forEach((function(t){return e.emitEvent(t)})),this.receiveBuffer=[],this.sendBuffer.forEach((function(t){e.notifyOutgoingListeners(t),e.packet(t)})),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach((function(e){return e()})),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&this.packet({type:aa.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(e){return this.flags.compress=e,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"timeout",value:function(e){return this.flags.timeout=e,this}},{key:"onAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}},{key:"prependAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}},{key:"offAny",value:function(e){if(!this._anyListeners)return this;if(e){for(var t=this._anyListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}},{key:"onAnyOutgoing",value:function(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}},{key:"prependAnyOutgoing",value:function(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}},{key:"offAnyOutgoing",value:function(e){if(!this._anyOutgoingListeners)return this;if(e){for(var t=this._anyOutgoingListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}},{key:"listenersAnyOutgoing",value:function(){return this._anyOutgoingListeners||[]}},{key:"notifyOutgoingListeners",value:function(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){var t,n=f(this._anyOutgoingListeners.slice());try{for(n.s();!(t=n.n()).done;){t.value.apply(this,e.data)}}catch(Ss){n.e(Ss)}finally{n.f()}}}}]),n}(hr);function da(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}da.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},da.prototype.reset=function(){this.attempts=0},da.prototype.setMin=function(e){this.ms=e},da.prototype.setMax=function(e){this.max=e},da.prototype.setJitter=function(e){this.jitter=e};var pa=function(t){mt(r,t);var n=wt(r);function r(t,a){var i,o;d(this,r),(i=n.call(this)).nsps={},i.subs=[],t&&"object"===typeof t&&(a=t,t=void 0),(a=a||{}).path=a.path||"/socket.io",i.opts=a,br(bt(i),a),i.reconnection(!1!==a.reconnection),i.reconnectionAttempts(a.reconnectionAttempts||1/0),i.reconnectionDelay(a.reconnectionDelay||1e3),i.reconnectionDelayMax(a.reconnectionDelayMax||5e3),i.randomizationFactor(null!==(o=a.randomizationFactor)&&void 0!==o?o:.5),i.backoff=new da({min:i.reconnectionDelay(),max:i.reconnectionDelayMax(),jitter:i.randomizationFactor()}),i.timeout(null==a.timeout?2e4:a.timeout),i._readyState="closed",i.uri=t;var u=a.parser||e;return i.encoder=new u.Encoder,i.decoder=new u.Decoder,i._autoConnect=!1!==a.autoConnect,i._autoConnect&&i.open(),i}return h(r,[{key:"reconnection",value:function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}},{key:"reconnectionAttempts",value:function(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}},{key:"reconnectionDelay",value:function(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}},{key:"randomizationFactor",value:function(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}},{key:"reconnectionDelayMax",value:function(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}},{key:"timeout",value:function(e){return arguments.length?(this._timeout=e,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(e){var t=this;if(~this._readyState.indexOf("open"))return this;this.engine=new Hr(this.uri,this.opts);var n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;var a=ca(n,"open",(function(){r.onopen(),e&&e()})),i=ca(n,"error",(function(n){r.cleanup(),r._readyState="closed",t.emitReserved("error",n),e?e(n):r.maybeReconnectOnOpen()}));if(!1!==this._timeout){var o=this._timeout;0===o&&a();var u=this.setTimeoutFn((function(){a(),n.close(),n.emit("error",new Error("timeout"))}),o);this.opts.autoUnref&&u.unref(),this.subs.push((function(){clearTimeout(u)}))}return this.subs.push(a),this.subs.push(i),this}},{key:"connect",value:function(e){return this.open(e)}},{key:"onopen",value:function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var e=this.engine;this.subs.push(ca(e,"ping",this.onping.bind(this)),ca(e,"data",this.ondata.bind(this)),ca(e,"error",this.onerror.bind(this)),ca(e,"close",this.onclose.bind(this)),ca(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error")}}},{key:"ondecoded",value:function(e){this.emitReserved("packet",e)}},{key:"onerror",value:function(e){this.emitReserved("error",e)}},{key:"socket",value:function(e,t){var n=this.nsps[e];return n||(n=new fa(this,e,t),this.nsps[e]=n),n}},{key:"_destroy",value:function(e){for(var t=0,n=Object.keys(this.nsps);t<n.length;t++){var r=n[t];if(this.nsps[r].active)return}this._close()}},{key:"_packet",value:function(e){for(var t=this.encoder.encode(e),n=0;n<t.length;n++)this.engine.write(t[n],e.options)}},{key:"cleanup",value:function(){this.subs.forEach((function(e){return e()})),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var e=this;if(this._reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var n=this.backoff.duration();this._reconnecting=!0;var r=this.setTimeoutFn((function(){t.skipReconnect||(e.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((function(n){n?(t._reconnecting=!1,t.reconnect(),e.emitReserved("reconnect_error",n)):t.onreconnect()})))}),n);this.opts.autoUnref&&r.unref(),this.subs.push((function(){clearTimeout(r)}))}}},{key:"onreconnect",value:function(){var e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}]),r}(hr),ha={};function va(e,t){"object"===typeof e&&(t=e,e=void 0);var n,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=Wr(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var a=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+t,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),a=r.source,i=r.id,o=r.path,u=ha[i]&&o in ha[i].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||u?n=new pa(a,t):(ha[i]||(ha[i]=new pa(a,t)),n=ha[i]),r.query&&!t.query&&(t.query=r.queryKey),n.socket(r.path,t)}Object.assign(va,{Manager:pa,Socket:fa,io:va,connect:va});var ma=["playerID"],ya=["master"],ga=["socket","socketOpts","server"],ba=function(e){mt(n,e);var t=wt(n);function n(){var e;return d(this,n),(e=t.call(this)).state=new Map,e.initial=new Map,e.metadata=new Map,e.log=new Map,e}return h(n,[{key:"createMatch",value:function(e,t){this.initial.set(e,t.initialState),this.setState(e,t.initialState),this.setMetadata(e,t.metadata)}},{key:"setMetadata",value:function(e,t){this.metadata.set(e,t)}},{key:"setState",value:function(e,t,n){if(n&&n.length>0){var r=this.log.get(e)||[];this.log.set(e,[].concat(o(r),o(n)))}this.state.set(e,t)}},{key:"fetch",value:function(e,t){var n={};return t.state&&(n.state=this.state.get(e)),t.metadata&&(n.metadata=this.metadata.get(e)),t.log&&(n.log=this.log.get(e)||[]),t.initialState&&(n.initialState=this.initial.get(e)),n}},{key:"wipe",value:function(e){this.state.delete(e),this.metadata.delete(e)}},{key:"listMatches",value:function(e){return o(this.metadata.entries()).filter((function(t){var n=u(t,2)[1];if(!e)return!0;if(void 0!==e.gameName&&n.gameName!==e.gameName)return!1;if(void 0!==e.where){if(void 0!==e.where.isGameover)if(void 0!==n.gameover!==e.where.isGameover)return!1;if(void 0!==e.where.updatedBefore&&n.updatedAt>=e.where.updatedBefore)return!1;if(void 0!==e.where.updatedAfter&&n.updatedAt<=e.where.updatedAfter)return!1}return!0})).map((function(e){return u(e,1)[0]}))}}]),n}(Un),ka=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),(r=t.call(this)).key=e,(JSON.parse(localStorage.getItem(r.key))||[]).forEach((function(e){var t;return(t=r).set.apply(t,o(e))})),r}return h(n,[{key:"sync",value:function(){var e=o(this.entries());localStorage.setItem(this.key,JSON.stringify(e))}},{key:"set",value:function(e,t){return Fn(yt(n.prototype),"set",this).call(this,e,t),this.sync(),this}},{key:"delete",value:function(e){var t=Fn(yt(n.prototype),"delete",this).call(this,e);return this.sync(),t}}]),n}($n(Map)),wa=function(e){mt(n,e);var t=wt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"bgio";d(this,n);var a=function(e){return new ka("".concat(r,"_").concat(e))};return(e=t.call(this)).state=a("state"),e.initial=a("initial"),e.metadata=a("metadata"),e.log=a("log"),e}return h(n)}(ba);var xa=function(e){mt(n,e);var t=wt(n);function n(e){var r,a=e.game,i=e.bots,o=e.storageKey,l=e.persist;d(this,n);var c={},f={};if(a&&a.ai&&i)for(var p in i){var h=i[p];f[p]=new h({game:a,enumerate:a.ai.enumerate,seed:a.seed})}var v=function(e){var t=e.playerID,n=Dt(e,ma),r=c[t];void 0!==r&&r(m(t,n))},m=function(e){return function(t,n){switch(n.type){case"patch":var r=u(n.args,4),a=r[0],i=r[1],o=r[2],l=r[3],c=Xn(l.deltalog,t),f=Jn(e,t,l),d=l._stateID,p=Jn(e,t,o);return{type:"patch",args:[a,i,d,(0,xt.rh)(p,f),c]};case"update":var h=u(n.args,2),v=h[0],m=h[1],y=Xn(m.deltalog,t);return{type:"update",args:[v,Jn(e,t,m),y]};case"sync":var g=u(n.args,2),b=g[0],k=g[1],w=Jn(e,t,k.state),x=Xn(k.log,t);return{type:"sync",args:[b,s(s({},k),{},{state:w,log:x})]};default:return n}}}(a),y={send:v,sendAll:function(e){for(var t in c)v(s({playerID:t},e))}},g=l?new wa(o):new ba;return(r=t.call(this,a,g,y)).connect=function(e,t){c[e]=t},r.subscribe((function(e){var t=e.state,n=e.matchID;if(i){var a=function(e,t){if(void 0!==e.ctx.gameover)return null;if(e.ctx.activePlayers)for(var n=0,r=Object.keys(t);n<r.length;n++){var a=r[n];if(a in e.ctx.activePlayers)return a}else if(e.ctx.currentPlayer in t)return e.ctx.currentPlayer;return null}(t,f);null!==a&&setTimeout(ht(dt().mark((function e(){var i;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f[a].play(t,a);case 2:return i=e.sent,e.next=5,r.onUpdate(i.action,t._stateID,n,i.action.payload.playerID);case 5:case"end":return e.stop()}}),e)}))),100)}})),r}return h(n)}(Qn),Ea=function(e){mt(n,e);var t=wt(n);function n(e){var r,a=e.master,i=Dt(e,ya);return d(this,n),(r=t.call(this,i)).master=a,r}return h(n,[{key:"sendChatMessage",value:function(e,t){var n,r=[e,t,this.credentials];(n=this.master).onChatMessage.apply(n,r)}},{key:"sendAction",value:function(e,t){this.master.onUpdate(t,e._stateID,this.matchID,this.playerID)}},{key:"requestSync",value:function(){this.master.onSync(this.matchID,this.playerID,this.credentials,this.numPlayers)}},{key:"connect",value:function(){var e=this;this.setConnectionStatus(!0),this.master.connect(this.playerID,(function(t){return e.notifyClient(t)})),this.requestSync()}},{key:"disconnect",value:function(){this.setConnectionStatus(!1)}},{key:"updateMatchID",value:function(e){this.matchID=e,this.connect()}},{key:"updatePlayerID",value:function(e){this.playerID=e,this.connect()}},{key:"updateCredentials",value:function(e){this.credentials=e,this.connect()}}]),n}(Jt),Pa=new Map;var Sa=va,_a=function(e){mt(n,e);var t=wt(n);function n(e){var r,a=e.socket,i=e.socketOpts,o=e.server,u=Dt(e,ga);return d(this,n),(r=t.call(this,u)).server=o,r.socket=a,r.socketOpts=i,r}return h(n,[{key:"sendAction",value:function(e,t){var n,r=[t,e._stateID,this.matchID,this.playerID];(n=this.socket).emit.apply(n,["update"].concat(r))}},{key:"sendChatMessage",value:function(e,t){var n,r=[e,t,this.credentials];(n=this.socket).emit.apply(n,["chat"].concat(r))}},{key:"connect",value:function(){var e=this;if(!this.socket)if(this.server){var t=this.server;-1==t.search(/^https?:\/\//)&&(t="http://"+this.server),"/"!=t.slice(-1)&&(t+="/"),this.socket=Sa(t+this.gameName,this.socketOpts)}else this.socket=Sa("/"+this.gameName,this.socketOpts);this.socket.on("patch",(function(t,n,r,a,i){e.notifyClient({type:"patch",args:[t,n,r,a,i]})})),this.socket.on("update",(function(t,n,r){e.notifyClient({type:"update",args:[t,n,r]})})),this.socket.on("sync",(function(t,n){e.notifyClient({type:"sync",args:[t,n]})})),this.socket.on("matchData",(function(t,n){e.notifyClient({type:"matchData",args:[t,n]})})),this.socket.on("chat",(function(t,n){e.notifyClient({type:"chat",args:[t,n]})})),this.socket.on("connect",(function(){e.requestSync(),e.setConnectionStatus(!0)})),this.socket.on("disconnect",(function(){e.setConnectionStatus(!1)}))}},{key:"disconnect",value:function(){this.socket.close(),this.socket=null,this.setConnectionStatus(!1)}},{key:"requestSync",value:function(){if(this.socket){var e,t=[this.matchID,this.playerID,this.credentials,this.numPlayers];(e=this.socket).emit.apply(e,["sync"].concat(t))}}},{key:"updateMatchID",value:function(e){this.matchID=e,this.requestSync()}},{key:"updatePlayerID",value:function(e){this.playerID=e,this.requestSync()}},{key:"updateCredentials",value:function(e){this.credentials=e,this.requestSync()}}]),n}(Jt);function Ta(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.server,n=e.socketOpts;return function(e){return new _a(s({server:t,socketOpts:n},e))}}function $a(e){var n,r=e.game,a=e.numPlayers,i=e.board,o=e.multiplayer,u=e.enhancer,l=e.loading,c=e.debug;if(void 0===l){l=function(){return t.createElement("div",{className:"bgio-loading"},"connecting...")}}return n=function(e){mt(f,e);var n=wt(f);function f(e){var t;return d(this,f),t=n.call(this,e),void 0===c&&(c=e.debug),t.client=function(e){return new un(e)}({game:r,debug:c,numPlayers:a,multiplayer:o,matchID:e.matchID,playerID:e.playerID,credentials:e.credentials,enhancer:u}),t}return h(f,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribe=this.client.subscribe((function(){return e.forceUpdate()})),this.client.start()}},{key:"componentWillUnmount",value:function(){this.client.stop(),this.unsubscribe()}},{key:"componentDidUpdate",value:function(e){this.props.matchID!=e.matchID&&this.client.updateMatchID(this.props.matchID),this.props.playerID!=e.playerID&&this.client.updatePlayerID(this.props.playerID),this.props.credentials!=e.credentials&&this.client.updateCredentials(this.props.credentials)}},{key:"render",value:function(){var e=this.client.getState();if(null===e)return t.createElement(l);var n=null;return i&&(n=t.createElement(i,s(s(s({},e),this.props),{},{isMultiplayer:!!o,moves:this.client.moves,events:this.client.events,matchID:this.client.matchID,playerID:this.client.playerID,reset:this.client.reset,undo:this.client.undo,redo:this.client.redo,log:this.client.log,matchData:this.client.matchData,sendChatMessage:this.client.sendChatMessage,chatMessages:this.client.chatMessages}))),t.createElement("div",{className:"bgio-client"},n)}}]),f}(t.Component),n.propTypes={matchID:Rn().string,playerID:Rn().string,credentials:Rn().string,debug:Rn().any},n.defaultProps={matchID:"default",playerID:null,credentials:null,debug:!0},n}var Ca=function(){function e(t){var n=t.server,r=t.gameComponents,a=t.playerName,i=t.playerCredentials;d(this,e),this.client=new Mn({server:n}),this.gameComponents=r,this.playerName=a||"Visitor",this.playerCredentials=i,this.matches=[]}return h(e,[{key:"refresh",value:function(){var e=ht(dt().mark((function e(){var t,n,r,a,i,u,l;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.matches=[],e.next=4,this.client.listGames();case 4:t=e.sent,n=f(t),e.prev=6,n.s();case 8:if((r=n.n()).done){e.next=19;break}if(i=r.value,this._getGameComponents(i)){e.next=12;break}return e.abrupt("continue",17);case 12:return e.next=14,this.client.listMatches(i);case 14:u=e.sent,l=u.matches,(a=this.matches).push.apply(a,o(l));case 17:e.next=8;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(6),n.e(e.t0);case 24:return e.prev=24,n.f(),e.finish(24);case 27:e.next=32;break;case 29:throw e.prev=29,e.t1=e.catch(0),new Error("failed to retrieve list of matches ("+e.t1+")");case 32:case"end":return e.stop()}}),e,this,[[0,29],[6,21,24,27]])})));return function(){return e.apply(this,arguments)}}()},{key:"_getMatchInstance",value:function(e){var t,n=f(this.matches);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.matchID===e)return r}}catch(Ss){n.e(Ss)}finally{n.f()}}},{key:"_getGameComponents",value:function(e){var t,n=f(this.gameComponents);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.game.name===e)return r}}catch(Ss){n.e(Ss)}finally{n.f()}}},{key:"_findPlayer",value:function(e){var t,n=f(this.matches);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.players.some((function(t){return t.name===e})))return r}}catch(Ss){n.e(Ss)}finally{n.f()}}},{key:"join",value:function(){var e=ht(dt().mark((function e(t,n,r){var a,i;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(a=this._findPlayer(this.playerName))){e.next=4;break}throw new Error("player has already joined "+a.matchID);case 4:if(a=this._getMatchInstance(n)){e.next=7;break}throw new Error("game instance "+n+" not found");case 7:return e.next=9,this.client.joinMatch(t,n,{playerID:r,playerName:this.playerName});case 9:i=e.sent,a.players[Number.parseInt(r)].name=this.playerName,this.playerCredentials=i.playerCredentials,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(0),new Error("failed to join match "+n+" ("+e.t0+")");case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"leave",value:function(){var e=ht(dt().mark((function e(t,n){var r,a,i,o;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=this._getMatchInstance(n)){e.next=4;break}throw new Error("match instance not found");case 4:a=f(r.players),e.prev=5,a.s();case 7:if((i=a.n()).done){e.next=17;break}if((o=i.value).name!==this.playerName){e.next=15;break}return e.next=12,this.client.leaveMatch(t,n,{playerID:o.id.toString(),credentials:this.playerCredentials});case 12:return delete o.name,delete this.playerCredentials,e.abrupt("return");case 15:e.next=7;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(5),a.e(e.t0);case 22:return e.prev=22,a.f(),e.finish(22);case 25:throw new Error("player not found in match");case 28:throw e.prev=28,e.t1=e.catch(0),new Error("failed to leave match "+n+" ("+e.t1+")");case 31:case"end":return e.stop()}}),e,this,[[0,28],[5,19,22,25]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=ht(dt().mark((function e(){var t;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._findPlayer(this.playerName))){e.next=4;break}return e.next=4,this.leave(t.gameName,t.matchID);case 4:this.matches=[],this.playerName="Visitor";case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=ht(dt().mark((function e(t,n){var r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=this._getGameComponents(t)){e.next=4;break}throw new Error("game not found");case 4:if(!(n<r.game.minPlayers||n>r.game.maxPlayers)){e.next=6;break}throw new Error("invalid number of players "+n);case 6:return e.next=8,this.client.createMatch(t,{numPlayers:n});case 8:e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(0),new Error("failed to create match for "+t+" ("+e.t0+")");case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();var Oa=function(e){mt(r,e);var n=wt(r);function r(){var e;return d(this,r),(e=n.apply(this,arguments)).state={playerName:e.props.playerName,nameErrorMsg:""},e.onClickEnter=function(){""!==e.state.playerName&&e.props.onEnter(e.state.playerName)},e.onKeyPress=function(t){"Enter"===t.key&&e.onClickEnter()},e.onChangePlayerName=function(t){var n=t.target.value.trim();e.setState({playerName:n,nameErrorMsg:n.length>0?"":"empty player name"})},e}return h(r,[{key:"render",value:function(){return t.createElement("div",null,t.createElement("p",{className:"phase-title"},"Choose a player name:"),t.createElement("input",{type:"text",value:this.state.playerName,onChange:this.onChangePlayerName,onKeyPress:this.onKeyPress}),t.createElement("span",{className:"buttons"},t.createElement("button",{className:"buttons",onClick:this.onClickEnter},"Enter")),t.createElement("br",null),t.createElement("span",{className:"error-msg"},this.state.nameErrorMsg,t.createElement("br",null)))}}]),r}(t.Component);Oa.defaultProps={playerName:""};var Ia,Na=function(e){mt(r,e);var n=wt(r);function r(){var e;return d(this,r),(e=n.apply(this,arguments))._createSeat=function(e){return e.name||"[free]"},e._createButtonJoin=function(n,r){return t.createElement("button",{key:"button-join-"+n.matchID,onClick:function(){return e.props.onClickJoin(n.gameName,n.matchID,""+r)}},"Join")},e._createButtonLeave=function(n){return t.createElement("button",{key:"button-leave-"+n.matchID,onClick:function(){return e.props.onClickLeave(n.gameName,n.matchID)}},"Leave")},e._createButtonPlay=function(n,r){return t.createElement("button",{key:"button-play-"+n.matchID,onClick:function(){return e.props.onClickPlay(n.gameName,{matchID:n.matchID,playerID:""+r,numPlayers:n.players.length})}},"Play")},e._createButtonSpectate=function(n){return t.createElement("button",{key:"button-spectate-"+n.matchID,onClick:function(){return e.props.onClickPlay(n.gameName,{matchID:n.matchID,numPlayers:n.players.length})}},"Spectate")},e._createInstanceButtons=function(n){var r=n.players.find((function(t){return t.name===e.props.playerName})),a=n.players.find((function(e){return!e.name}));return r&&a?e._createButtonLeave(n):a?e._createButtonJoin(n,a.id):r?t.createElement("div",null,[e._createButtonPlay(n,r.id),e._createButtonLeave(n)]):e._createButtonSpectate(n)},e}return h(r,[{key:"render",value:function(){var e=this,n=this.props.match,r="OPEN";return n.players.some((function(e){return!e.name}))||(r="RUNNING"),t.createElement("tr",{key:"line-"+n.matchID},t.createElement("td",{key:"cell-name-"+n.matchID},n.gameName),t.createElement("td",{key:"cell-status-"+n.matchID},r),t.createElement("td",{key:"cell-seats-"+n.matchID},n.players.map((function(t){return e._createSeat(t)})).join(", ")),t.createElement("td",{key:"cell-buttons-"+n.matchID},this._createInstanceButtons(n)))}}]),r}(t.Component),Da=function(e){mt(r,e);var n=wt(r);function r(e){var a;d(this,r),(a=n.call(this,e)).state={selectedGame:0,numPlayers:2},a._createGameNameOption=function(e,n){return t.createElement("option",{key:"name-option-"+n,value:n},e.game.name)},a._createNumPlayersOption=function(e){return t.createElement("option",{key:"num-option-"+e,value:e},e)},a._createNumPlayersRange=function(e){return Array.from({length:e.maxPlayers+1}).map((function(e,t){return t})).slice(e.minPlayers)},a.onChangeNumPlayers=function(e){a.setState({numPlayers:Number.parseInt(e.target.value)})},a.onChangeSelectedGame=function(e){var t=Number.parseInt(e.target.value);a.setState({selectedGame:t,numPlayers:a.props.games[t].game.minPlayers})},a.onClickCreate=function(){a.props.createMatch(a.props.games[a.state.selectedGame].game.name,a.state.numPlayers)};var i,o=f(e.games);try{for(o.s();!(i=o.n()).done;){var u=i.value.game;u.minPlayers||(u.minPlayers=1),u.maxPlayers||(u.maxPlayers=4),console.assert(u.maxPlayers>=u.minPlayers)}}catch(Ss){o.e(Ss)}finally{o.f()}return a.state={selectedGame:0,numPlayers:e.games[0].game.minPlayers},a}return h(r,[{key:"render",value:function(){var e=this;return t.createElement("div",null,t.createElement("select",{value:this.state.selectedGame,onChange:function(t){return e.onChangeSelectedGame(t)}},this.props.games.map((function(t,n){return e._createGameNameOption(t,n)}))),t.createElement("span",null,"Players:"),t.createElement("select",{value:this.state.numPlayers,onChange:this.onChangeNumPlayers},this._createNumPlayersRange(this.props.games[this.state.selectedGame].game).map((function(t){return e._createNumPlayersOption(t)}))),t.createElement("span",{className:"buttons"},t.createElement("button",{onClick:this.onClickCreate},"Create")))}}]),r}(t.Component);!function(e){e.ENTER="enter",e.PLAY="play",e.LIST="list"}(Ia||(Ia={}));var Aa=function(e){mt(r,e);var n=wt(r);function r(e){var a;return d(this,r),(a=n.call(this,e)).state={phase:Ia.ENTER,playerName:"Visitor",runningMatch:null,errorMsg:"",credentialStore:{}},a._createConnection=function(e){var t,n=a.state.playerName;a.connection=(t={server:e.lobbyServer,gameComponents:e.gameComponents,playerName:n,playerCredentials:a.state.credentialStore[n]},new Ca(t))},a._updateCredentials=function(e,t){a.setState((function(n){var r=Object.assign({},n.credentialStore);return r[e]=t,{credentialStore:r}}))},a._updateConnection=ht(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.connection.refresh();case 2:a.forceUpdate();case 3:case"end":return e.stop()}}),e)}))),a._enterLobby=function(e){a._startRefreshInterval(),a.setState({playerName:e,phase:Ia.LIST})},a._exitLobby=ht(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a._clearRefreshInterval(),e.next=3,a.connection.disconnect();case 3:a.setState({phase:Ia.ENTER,errorMsg:""});case 4:case"end":return e.stop()}}),e)}))),a._createMatch=function(){var e=ht(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.connection.create(t,n);case 3:return e.next=5,a.connection.refresh();case 5:a.setState({}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a.setState({errorMsg:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),a._joinMatch=function(){var e=ht(dt().mark((function e(t,n,r){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.connection.join(t,n,r);case 3:return e.next=5,a.connection.refresh();case 5:a._updateCredentials(a.connection.playerName,a.connection.playerCredentials),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a.setState({errorMsg:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,r){return e.apply(this,arguments)}}(),a._leaveMatch=function(){var e=ht(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.connection.leave(t,n);case 3:return e.next=5,a.connection.refresh();case 5:a._updateCredentials(a.connection.playerName,a.connection.playerCredentials),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a.setState({errorMsg:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),a._startMatch=function(e,t){var n=a.connection._getGameComponents(e);if(n){var r=void 0;if(t.numPlayers>1&&(r=a.props.gameServer?Ta({server:a.props.gameServer}):Ta()),1==t.numPlayers){for(var i=n.game.maxPlayers,o={},u=1;u<i;u++)o[u+""]=En;r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bots,n=e.persist,r=e.storageKey;return function(e){var a,i=e.gameKey,o=e.game,u=Pa.get(i);return u&&u.bots===t&&u.storageKey===r&&u.persist===n&&(a=u.master),a||(a=new xa({game:o,bots:t,persist:n,storageKey:r}),Pa.set(i,{master:a,bots:t,persist:n,storageKey:r})),new Ea(s({master:a},e))}}({bots:o})}var l={app:a.props.clientFactory({game:n.game,board:n.board,debug:a.props.debug,multiplayer:r}),matchID:t.matchID,playerID:t.numPlayers>1?t.playerID:"0",credentials:a.connection.playerCredentials};a._clearRefreshInterval(),a.setState({phase:Ia.PLAY,runningMatch:l})}else a.setState({errorMsg:"game "+e+" not supported"})},a._exitMatch=function(){a._startRefreshInterval(),a.setState({phase:Ia.LIST,runningMatch:null})},a._getPhaseVisibility=function(e){return a.state.phase!==e?"hidden":"phase"},a.renderMatches=function(e,n){return e.map((function(e){var r=e.matchID,i=e.gameName,o=e.players;return t.createElement(Na,{key:"instance-"+r,match:{matchID:r,gameName:i,players:Object.values(o)},playerName:n,onClickJoin:a._joinMatch,onClickLeave:a._leaveMatch,onClickPlay:a._startMatch})}))},a._createConnection(a.props),a}return h(r,[{key:"componentDidMount",value:function(){var e=Ln.ZP.load("lobbyState")||{};e.phase&&e.phase===Ia.PLAY&&(e.phase=Ia.LIST),e.phase&&e.phase!==Ia.ENTER&&this._startRefreshInterval(),this.setState({phase:e.phase||Ia.ENTER,playerName:e.playerName||"Visitor",credentialStore:e.credentialStore||{}})}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.playerName,r=this.state.credentialStore[n];if(t.phase!==this.state.phase||t.credentialStore[n]!==r||t.playerName!==n){this._createConnection(this.props),this._updateConnection();var a={phase:this.state.phase,playerName:n,credentialStore:this.state.credentialStore};Ln.ZP.save("lobbyState",a,{path:"/"})}e.refreshInterval!==this.props.refreshInterval&&this._startRefreshInterval()}},{key:"componentWillUnmount",value:function(){this._clearRefreshInterval()}},{key:"_startRefreshInterval",value:function(){this._clearRefreshInterval(),this._currentInterval=setInterval(this._updateConnection,this.props.refreshInterval)}},{key:"_clearRefreshInterval",value:function(){clearInterval(this._currentInterval)}},{key:"render",value:function(){var e=this.props,n=e.gameComponents,r=e.renderer,a=this.state,i=a.errorMsg,o=a.playerName,u=a.phase,l=a.runningMatch;return r?r({errorMsg:i,gameComponents:n,matches:this.connection.matches,phase:u,playerName:o,runningMatch:l,handleEnterLobby:this._enterLobby,handleExitLobby:this._exitLobby,handleCreateMatch:this._createMatch,handleJoinMatch:this._joinMatch,handleLeaveMatch:this._leaveMatch,handleExitMatch:this._exitMatch,handleRefreshMatches:this._updateConnection,handleStartMatch:this._startMatch}):t.createElement("div",{id:"lobby-view",style:{padding:50}},t.createElement("div",{className:this._getPhaseVisibility(Ia.ENTER)},t.createElement(Oa,{key:o,playerName:o,onEnter:this._enterLobby})),t.createElement("div",{className:this._getPhaseVisibility(Ia.LIST)},t.createElement("p",null,"Welcome, ",o),t.createElement("div",{className:"phase-title",id:"match-creation"},t.createElement("span",null,"Create a match:"),t.createElement(Da,{games:n,createMatch:this._createMatch})),t.createElement("p",{className:"phase-title"},"Join a match:"),t.createElement("div",{id:"instances"},t.createElement("table",null,t.createElement("tbody",null,this.renderMatches(this.connection.matches,o))),t.createElement("span",{className:"error-msg"},i,t.createElement("br",null))),t.createElement("p",{className:"phase-title"},"Matches that become empty are automatically deleted.")),t.createElement("div",{className:this._getPhaseVisibility(Ia.PLAY)},l&&t.createElement(l.app,{matchID:l.matchID,playerID:l.playerID,credentials:l.credentials}),t.createElement("div",{className:"buttons",id:"match-exit"},t.createElement("button",{onClick:this._exitMatch},"Exit match"))),t.createElement("div",{className:"buttons",id:"lobby-exit"},t.createElement("button",{onClick:this._exitLobby},"Exit lobby")))}}]),r}(t.Component);function Ma(){}Aa.propTypes={gameComponents:Rn().array.isRequired,lobbyServer:Rn().string,gameServer:Rn().string,debug:Rn().bool,clientFactory:Rn().func,refreshInterval:Rn().number},Aa.defaultProps={debug:!1,clientFactory:$a,refreshInterval:2e3};var ja=function(e){return e};function Ra(e,t){for(var n in t)e[n]=t[n];return e}function La(e){return e()}function za(){return Object.create(null)}function Fa(e){e.forEach(La)}function Ba(e){return"function"===typeof e}function Ua(e,t){return e!=e?t==t:e!==t||e&&"object"===typeof e||"function"===typeof e}function Va(e){if(null==e)return Ma;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=e.subscribe.apply(e,n);return a.unsubscribe?function(){return a.unsubscribe()}:a}function qa(e,t,n){e.$$.on_destroy.push(Va(t,n))}function Ga(e,t,n,r){return e[1]&&r?Ra(n.ctx.slice(),e[1](r(t))):n.ctx}function Wa(e){var t={};for(var n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function Ha(e){return null==e?"":e}var Ka="undefined"!==typeof window,Qa=Ka?function(){return window.performance.now()}:function(){return Date.now()},Ya=Ka?function(e){return requestAnimationFrame(e)}:Ma,Ja=new Set;function Xa(e){Ja.forEach((function(t){t.c(e)||(Ja.delete(t),t.f())})),0!==Ja.size&&Ya(Xa)}function Za(e){var t;return 0===Ja.size&&Ya(Xa),{promise:new Promise((function(n){Ja.add(t={c:e,f:n})})),abort:function(){Ja.delete(t)}}}function ei(e,t){e.appendChild(t)}function ti(e,t,n){var r=ni(e);if(!r.getElementById(t)){var a=li("style");a.id=t,a.textContent=n,ai(r,a)}}function ni(e){if(!e)return document;var t=e.getRootNode?e.getRootNode():e.ownerDocument;return t.host?t:document}function ri(e){var t=li("style");return ai(ni(e),t),t}function ai(e,t){ei(e.head||e,t)}function ii(e,t,n){e.insertBefore(t,n||null)}function oi(e){e.parentNode.removeChild(e)}function ui(e,t){for(var n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function li(e){return document.createElement(e)}function ci(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function si(e){return document.createTextNode(e)}function fi(){return si(" ")}function di(){return si("")}function pi(e,t,n,r){return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}function hi(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function vi(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function mi(e){return Array.from(e.childNodes)}function yi(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function gi(e,t){e.value=null==t?"":t}function bi(e,t){for(var n=0;n<e.options.length;n+=1){var r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}function ki(e){var t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function wi(e,t,n){e.classList[n?"add":"remove"](t)}function xi(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,!1,t),r}var Ei,Pi=new Set,Si=0;function _i(e){for(var t=5381,n=e.length;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function Ti(e,t,n,r,a,i,o){for(var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=16.666/r,c="{\n",s=0;s<=1;s+=l){var f=t+(n-t)*i(s);c+=100*s+"%{".concat(o(f,1-f),"}\n")}var d=c+"100% {".concat(o(n,1-n),"}\n}"),p="__svelte_".concat(_i(d),"_").concat(u),h=ni(e);Pi.add(h);var v=h.__svelte_stylesheet||(h.__svelte_stylesheet=ri(e).sheet),m=h.__svelte_rules||(h.__svelte_rules={});m[p]||(m[p]=!0,v.insertRule("@keyframes ".concat(p," ").concat(d),v.cssRules.length));var y=e.style.animation||"";return e.style.animation="".concat(y?"".concat(y,", "):"").concat(p," ").concat(r,"ms linear ").concat(a,"ms 1 both"),Si+=1,p}function $i(e,t){var n=(e.style.animation||"").split(", "),r=n.filter(t?function(e){return e.indexOf(t)<0}:function(e){return-1===e.indexOf("__svelte")}),a=n.length-r.length;a&&(e.style.animation=r.join(", "),(Si-=a)||Ya((function(){Si||(Pi.forEach((function(e){for(var t=e.__svelte_stylesheet,n=t.cssRules.length;n--;)t.deleteRule(n);e.__svelte_rules={}})),Pi.clear())})))}function Ci(e){Ei=e}function Oi(){if(!Ei)throw new Error("Function called outside component initialization");return Ei}function Ii(e){Oi().$$.on_destroy.push(e)}function Ni(){var e=Oi();return function(t,n){var r=e.$$.callbacks[t];if(r){var a=xi(t,n);r.slice().forEach((function(t){t.call(e,a)}))}}}function Di(e,t){Oi().$$.context.set(e,t)}function Ai(e){return Oi().$$.context.get(e)}function Mi(e,t){var n=this,r=e.$$.callbacks[t.type];r&&r.slice().forEach((function(e){return e.call(n,t)}))}var ji=[],Ri=[],Li=[],zi=[],Fi=Promise.resolve(),Bi=!1;function Ui(e){Li.push(e)}var Vi,qi=!1,Gi=new Set;function Wi(){if(!qi){qi=!0;do{for(var e=0;e<ji.length;e+=1){var t=ji[e];Ci(t),Hi(t.$$)}for(Ci(null),ji.length=0;Ri.length;)Ri.pop()();for(var n=0;n<Li.length;n+=1){var r=Li[n];Gi.has(r)||(Gi.add(r),r())}Li.length=0}while(ji.length);for(;zi.length;)zi.pop()();Bi=!1,qi=!1,Gi.clear()}}function Hi(e){if(null!==e.fragment){e.update(),Fa(e.before_update);var t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ui)}}function Ki(){return Vi||(Vi=Promise.resolve()).then((function(){Vi=null})),Vi}function Qi(e,t,n){e.dispatchEvent(xi("".concat(t?"intro":"outro").concat(n)))}var Yi,Ji=new Set;function Xi(){Yi={r:0,c:[],p:Yi}}function Zi(){Yi.r||Fa(Yi.c),Yi=Yi.p}function eo(e,t){e&&e.i&&(Ji.delete(e),e.i(t))}function to(e,t,n,r){if(e&&e.o){if(Ji.has(e))return;Ji.add(e),Yi.c.push((function(){Ji.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}var no={duration:0};function ro(e,t,n){var r,a,i=t(e,n),o=!1,u=0;function l(){r&&$i(e,r)}function c(){var t=i||no,n=t.delay,c=void 0===n?0:n,s=t.duration,f=void 0===s?300:s,d=t.easing,p=void 0===d?ja:d,h=t.tick,v=void 0===h?Ma:h,m=t.css;m&&(r=Ti(e,0,1,f,c,p,m,u++)),v(0,1);var y=Qa()+c,g=y+f;a&&a.abort(),o=!0,Ui((function(){return Qi(e,!0,"start")})),a=Za((function(t){if(o){if(t>=g)return v(1,0),Qi(e,!0,"end"),l(),o=!1;if(t>=y){var n=p((t-y)/f);v(n,1-n)}}return o}))}var s=!1;return{start:function(){s||(s=!0,$i(e),Ba(i)?(i=i(),Ki().then(c)):c())},invalidate:function(){s=!1},end:function(){o&&(l(),o=!1)}}}function ao(e,t,n){var r,a=t(e,n),i=!0,o=Yi;function u(){var t=a||no,n=t.delay,u=void 0===n?0:n,l=t.duration,c=void 0===l?300:l,s=t.easing,f=void 0===s?ja:s,d=t.tick,p=void 0===d?Ma:d,h=t.css;h&&(r=Ti(e,1,0,c,u,f,h));var v=Qa()+u,m=v+c;Ui((function(){return Qi(e,!1,"start")})),Za((function(t){if(i){if(t>=m)return p(0,1),Qi(e,!1,"end"),--o.r||Fa(o.c),!1;if(t>=v){var n=f((t-v)/c);p(1-n,n)}}return i}))}return o.r+=1,Ba(a)?Ki().then((function(){a=a(),u()})):u(),{end:function(t){t&&a.tick&&a.tick(1,0),i&&(r&&$i(e,r),i=!1)}}}function io(e,t,n,r){var a=t(e,n),i=r?0:1,o=null,u=null,l=null;function c(){l&&$i(e,l)}function s(e,t){var n=e.b-i;return t*=Math.abs(n),{a:i,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function f(t){var n=a||no,r=n.delay,f=void 0===r?0:r,d=n.duration,p=void 0===d?300:d,h=n.easing,v=void 0===h?ja:h,m=n.tick,y=void 0===m?Ma:m,g=n.css,b={start:Qa()+f,b:t};t||(b.group=Yi,Yi.r+=1),o||u?u=b:(g&&(c(),l=Ti(e,i,t,p,f,v,g)),t&&y(0,1),o=s(b,p),Ui((function(){return Qi(e,t,"start")})),Za((function(t){if(u&&t>u.start&&(o=s(u,p),u=null,Qi(e,o.b,"start"),g&&(c(),l=Ti(e,i,o.b,o.duration,0,v,a.css))),o)if(t>=o.end)y(i=o.b,1-i),Qi(e,o.b,"end"),u||(o.b?c():--o.group.r||Fa(o.group.c)),o=null;else if(t>=o.start){var n=t-o.start;i=o.a+o.d*v(n/o.duration),y(i,1-i)}return!(!o&&!u)})))}return{run:function(e){Ba(a)?Ki().then((function(){a=a(),f(e)})):f(e)},end:function(){c(),o=u=null}}}function oo(e,t){for(var n={},r={},a={$$scope:1},i=e.length;i--;){var o=e[i],u=t[i];if(u){for(var l in o)l in u||(r[l]=1);for(var c in u)a[c]||(n[c]=u[c],a[c]=1);e[i]=u}else for(var s in o)a[s]=1}for(var f in r)f in n||(n[f]=void 0);return n}function uo(e){return"object"===typeof e&&null!==e?e:{}}function lo(e){e&&e.c()}function co(e,t,n,r){var a=e.$$,i=a.fragment,u=a.on_mount,l=a.on_destroy,c=a.after_update;i&&i.m(t,n),r||Ui((function(){var t=u.map(La).filter(Ba);l?l.push.apply(l,o(t)):Fa(t),e.$$.on_mount=[]})),c.forEach(Ui)}function so(e,t){var n=e.$$;null!==n.fragment&&(Fa(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function fo(e,t){-1===e.$$.dirty[0]&&(ji.push(e),Bi||(Bi=!0,Fi.then(Wi)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function po(e,t,n,r,a,i,o){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1],l=Ei;Ci(e);var c=e.$$={fragment:null,ctx:null,props:i,update:Ma,not_equal:a,bound:za(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:t.context||[]),callbacks:za(),dirty:u,skip_bound:!1,root:t.target||l.$$.root};o&&o(c.root);var s=!1;if(c.ctx=n?n(e,t.props||{},(function(t,n){var r=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return c.ctx&&a(c.ctx[t],c.ctx[t]=r)&&(!c.skip_bound&&c.bound[t]&&c.bound[t](r),s&&fo(e,t)),n})):[],c.update(),s=!0,Fa(c.before_update),c.fragment=!!r&&r(c.ctx),t.target){if(t.hydrate){var f=mi(t.target);c.fragment&&c.fragment.l(f),f.forEach(oi)}else c.fragment&&c.fragment.c();t.intro&&eo(e.$$.fragment),co(e,t.target,t.anchor,t.customElement),Wi()}Ci(l)}var ho=function(){function e(){d(this,e)}return h(e,[{key:"$destroy",value:function(){so(this,1),this.$destroy=Ma}},{key:"$on",value:function(e,t){var n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}}},{key:"$set",value:function(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}]),e}(),vo=[];function mo(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ma,r=new Set;function a(n){if(Ua(e,n)&&(e=n,t)){var a,i=!vo.length,o=f(r);try{for(o.s();!(a=o.n()).done;){var u=a.value;u[1](),vo.push(u,e)}}catch(Ss){o.e(Ss)}finally{o.f()}if(i){for(var l=0;l<vo.length;l+=2)vo[l][0](vo[l+1]);vo.length=0}}}function i(t){a(t(e))}function o(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ma,u=[i,o];return r.add(u),1===r.size&&(t=n(a)||Ma),i(e),function(){r.delete(u),0===r.size&&(t(),t=null)}}return{set:a,update:i,subscribe:o}}function yo(e){var t=e-1;return t*t*t+1}function go(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.delay,r=void 0===n?0:n,a=t.duration,i=void 0===a?400:a,o=t.easing,u=void 0===o?yo:o,l=t.x,c=void 0===l?0:l,s=t.y,f=void 0===s?0:s,d=t.opacity,p=void 0===d?0:d,h=getComputedStyle(e),v=+h.opacity,m="none"===h.transform?"":h.transform,y=v*(1-p);return{delay:r,duration:i,easing:u,css:function(e,t){return"\n\t\t\ttransform: ".concat(m," translate(").concat((1-e)*c,"px, ").concat((1-e)*f,"px);\n\t\t\topacity: ").concat(v-y*t)}}}function bo(e){var t=e.fallback,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["fallback"]),r=new Map,a=new Map;function i(e,r,a){return function(i,o){return e.set(o.key,{rect:i.getBoundingClientRect()}),function(){if(r.has(o.key)){var u=r.get(o.key).rect;return r.delete(o.key),function(e,t,r){var a=Ra(Ra({},n),r),i=a.delay,o=void 0===i?0:i,u=a.duration,l=void 0===u?function(e){return 30*Math.sqrt(e)}:u,c=a.easing,s=void 0===c?yo:c,f=t.getBoundingClientRect(),d=e.left-f.left,p=e.top-f.top,h=e.width/f.width,v=e.height/f.height,m=Math.sqrt(d*d+p*p),y=getComputedStyle(t),g="none"===y.transform?"":y.transform,b=+y.opacity;return{delay:o,duration:Ba(l)?l(m):l,easing:s,css:function(e,t){return"\n\t\t\t\topacity: ".concat(e*b,";\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ").concat(g," translate(").concat(t*d,"px,").concat(t*p,"px) scale(").concat(e+(1-e)*h,", ").concat(e+(1-e)*v,");\n\t\t\t")}}}(u,i,o)}return e.delete(o.key),t&&t(i,o,a)}}}return[i(a,r,!1),i(r,a,!0)]}function ko(e){ti(e,"svelte-c8tyih","svg.svelte-c8tyih{stroke:currentColor;fill:currentColor;stroke-width:0;width:100%;height:auto;max-height:100%}")}function wo(e){var t,n;return{c:function(){t=ci("title"),n=si(e[0])},m:function(e,r){ii(e,t,r),ei(t,n)},p:function(e,t){1&t&&yi(n,e[0])},d:function(e){e&&oi(t)}}}function xo(e){var t,n,r,a=e[0]&&wo(e),i=e[3].default,o=function(e,t,n,r){if(e){var a=Ga(e,t,n,r);return e[0](a)}}(i,e,e[2],null);return{c:function(){t=ci("svg"),a&&a.c(),n=di(),o&&o.c(),vi(t,"xmlns","http://www.w3.org/2000/svg"),vi(t,"viewBox",e[1]),vi(t,"class","svelte-c8tyih")},m:function(e,i){ii(e,t,i),a&&a.m(t,null),ei(t,n),o&&o.m(t,null),r=!0},p:function(e,l){var c=u(l,1)[0];e[0]?a?a.p(e,c):((a=wo(e)).c(),a.m(t,n)):a&&(a.d(1),a=null),o&&o.p&&(!r||4&c)&&function(e,t,n,r,a,i){if(a){var o=Ga(t,n,r,i);e.p(o,a)}}(o,i,e,e[2],r?function(e,t,n,r){if(e[2]&&r){var a=e[2](r(n));if(void 0===t.dirty)return a;if("object"===typeof a){for(var i=[],o=Math.max(t.dirty.length,a.length),u=0;u<o;u+=1)i[u]=t.dirty[u]|a[u];return i}return t.dirty|a}return t.dirty}(i,e[2],c,null):function(e){if(e.ctx.length>32){for(var t=[],n=e.ctx.length/32,r=0;r<n;r++)t[r]=-1;return t}return-1}(e[2]),null),(!r||2&c)&&vi(t,"viewBox",e[1])},i:function(e){r||(eo(o,e),r=!0)},o:function(e){to(o,e),r=!1},d:function(e){e&&oi(t),a&&a.d(),o&&o.d(e)}}}function Eo(e,t,n){var r=t.$$slots,a=void 0===r?{}:r,i=t.$$scope,o=t.title,u=void 0===o?null:o,l=t.viewBox;return e.$$set=function(e){"title"in e&&n(0,u=e.title),"viewBox"in e&&n(1,l=e.viewBox),"$$scope"in e&&n(2,i=e.$$scope)},[u,l,i,a]}var Po=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,Eo,xo,Ua,{title:0,viewBox:1},ko),r}return h(n)}(ho);function So(e){var t;return{c:function(){vi(t=ci("path"),"d","M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z")},m:function(e,n){ii(e,t,n)},d:function(e){e&&oi(t)}}}function _o(e){for(var t,n,r=[{viewBox:"0 0 320 512"},e[0]],a={$$slots:{default:[So]},$$scope:{ctx:e}},i=0;i<r.length;i+=1)a=Ra(a,r[i]);return t=new Po({props:a}),{c:function(){lo(t.$$.fragment)},m:function(e,r){co(t,e,r),n=!0},p:function(e,n){var a=u(n,1)[0],i=1&a?oo(r,[r[0],uo(e[0])]):{};2&a&&(i.$$scope={dirty:a,ctx:e}),t.$set(i)},i:function(e){n||(eo(t.$$.fragment,e),n=!0)},o:function(e){to(t.$$.fragment,e),n=!1},d:function(e){so(t,e)}}}function To(e,t,n){return e.$$set=function(e){n(0,t=Ra(Ra({},t),Wa(e)))},[t=Wa(t)]}var $o=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,To,_o,Ua,{}),r}return h(n)}(ho);function Co(e){ti(e,"svelte-1xg9v5h",".menu.svelte-1xg9v5h{display:flex;margin-top:43px;flex-direction:row-reverse;border:1px solid #ccc;border-radius:5px 5px 0 0;height:25px;line-height:25px;margin-right:-500px;transform-origin:bottom right;transform:rotate(-90deg) translate(0, -500px)}.menu-item.svelte-1xg9v5h{line-height:25px;cursor:pointer;border:0;background:#fefefe;color:#555;padding-left:15px;padding-right:15px;text-align:center}.menu-item.svelte-1xg9v5h:first-child{border-radius:0 5px 0 0}.menu-item.svelte-1xg9v5h:last-child{border-radius:5px 0 0 0}.menu-item.active.svelte-1xg9v5h{cursor:default;font-weight:bold;background:#ddd;color:#555}.menu-item.svelte-1xg9v5h:hover,.menu-item.svelte-1xg9v5h:focus{background:#eee;color:#555}")}function Oo(e,t,n){var r=e.slice();return r[4]=t[n][0],r[5]=t[n][1].label,r}function Io(e){var t,n,r,a,i,o=e[5]+"";function u(){return e[3](e[4])}return{c:function(){t=li("button"),n=si(o),r=fi(),vi(t,"class","menu-item svelte-1xg9v5h"),wi(t,"active",e[0]==e[4])},m:function(e,o){ii(e,t,o),ei(t,n),ei(t,r),a||(i=pi(t,"click",u),a=!0)},p:function(r,a){e=r,2&a&&o!==(o=e[5]+"")&&yi(n,o),3&a&&wi(t,"active",e[0]==e[4])},d:function(e){e&&oi(t),a=!1,i()}}}function No(e){for(var t,n=Object.entries(e[1]),r=[],a=0;a<n.length;a+=1)r[a]=Io(Oo(e,n,a));return{c:function(){t=li("nav");for(var e=0;e<r.length;e+=1)r[e].c();vi(t,"class","menu svelte-1xg9v5h")},m:function(e,n){ii(e,t,n);for(var a=0;a<r.length;a+=1)r[a].m(t,null)},p:function(e,a){var i=u(a,1)[0];if(7&i){var o;for(n=Object.entries(e[1]),o=0;o<n.length;o+=1){var l=Oo(e,n,o);r[o]?r[o].p(l,i):(r[o]=Io(l),r[o].c(),r[o].m(t,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},i:Ma,o:Ma,d:function(e){e&&oi(t),ui(r,e)}}}function Do(e,t,n){var r=t.pane,a=t.panes,i=Ni();return e.$$set=function(e){"pane"in e&&n(0,r=e.pane),"panes"in e&&n(1,a=e.panes)},[r,a,i,function(e){return i("change",e)}]}var Ao=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,Do,No,Ua,{pane:0,panes:1},Co),r}return h(n)}(ho),Mo={};function jo(e){ti(e,"svelte-1vyml86",".container.svelte-1vyml86{display:inline-block;cursor:pointer;transform:translate(calc(0px - var(--li-identation)), -50%);position:absolute;top:50%;padding-right:100%}.arrow.svelte-1vyml86{transform-origin:25% 50%;position:relative;line-height:1.1em;font-size:0.75em;margin-left:0;transition:150ms;color:var(--arrow-sign);user-select:none;font-family:'Courier New', Courier, monospace}.expanded.svelte-1vyml86{transform:rotateZ(90deg) translateX(-3px)}")}function Ro(e){var t,n,r,a;return{c:function(){t=li("div"),(n=li("div")).textContent="\u25b6",vi(n,"class","arrow svelte-1vyml86"),wi(n,"expanded",e[0]),vi(t,"class","container svelte-1vyml86")},m:function(i,o){ii(i,t,o),ei(t,n),r||(a=pi(t,"click",e[1]),r=!0)},p:function(e,t){1&u(t,1)[0]&&wi(n,"expanded",e[0])},i:Ma,o:Ma,d:function(e){e&&oi(t),r=!1,a()}}}function Lo(e,t,n){var r=t.expanded;return e.$$set=function(e){"expanded"in e&&n(0,r=e.expanded)},[r,function(t){Mi.call(this,e,t)}]}var zo=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,Lo,Ro,Ua,{expanded:0},jo),r}return h(n)}(ho);function Fo(e){ti(e,"svelte-1vlbacg","label.svelte-1vlbacg{display:inline-block;color:var(--label-color);padding:0}.spaced.svelte-1vlbacg{padding-right:var(--li-colon-space)}")}function Bo(e){var t,n,r,a,i,o;return{c:function(){t=li("label"),n=li("span"),r=si(e[0]),a=si(e[2]),vi(t,"class","svelte-1vlbacg"),wi(t,"spaced",e[1])},m:function(u,l){ii(u,t,l),ei(t,n),ei(n,r),ei(n,a),i||(o=pi(t,"click",e[5]),i=!0)},p:function(e,n){1&n&&yi(r,e[0]),4&n&&yi(a,e[2]),2&n&&wi(t,"spaced",e[1])},d:function(e){e&&oi(t),i=!1,o()}}}function Uo(e){var t,n=e[3]&&e[0]&&Bo(e);return{c:function(){n&&n.c(),t=di()},m:function(e,r){n&&n.m(e,r),ii(e,t,r)},p:function(e,r){var a=u(r,1)[0];e[3]&&e[0]?n?n.p(e,a):((n=Bo(e)).c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:Ma,o:Ma,d:function(e){n&&n.d(e),e&&oi(t)}}}function Vo(e,t,n){var r,a=t.key,i=t.isParentExpanded,o=t.isParentArray,u=void 0!==o&&o,l=t.colon,c=void 0===l?":":l;return e.$$set=function(e){"key"in e&&n(0,a=e.key),"isParentExpanded"in e&&n(1,i=e.isParentExpanded),"isParentArray"in e&&n(4,u=e.isParentArray),"colon"in e&&n(2,c=e.colon)},e.$$.update=function(){19&e.$$.dirty&&n(3,r=i||!u||a!=+a)},[a,i,c,r,u,function(t){Mi.call(this,e,t)}]}var qo=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,Vo,Uo,Ua,{key:0,isParentExpanded:1,isParentArray:4,colon:2},Fo),r}return h(n)}(ho);function Go(e){ti(e,"svelte-rwxv37","label.svelte-rwxv37{display:inline-block}.indent.svelte-rwxv37{padding-left:var(--li-identation)}.collapse.svelte-rwxv37{--li-display:inline;display:inline;font-style:italic}.comma.svelte-rwxv37{margin-left:-0.5em;margin-right:0.5em}label.svelte-rwxv37{position:relative}")}function Wo(e,t,n){var r=e.slice();return r[12]=t[n],r[20]=n,r}function Ho(e){var t,n;return(t=new zo({props:{expanded:e[0]}})).$on("click",e[15]),{c:function(){lo(t.$$.fragment)},m:function(e,r){co(t,e,r),n=!0},p:function(e,n){var r={};1&n&&(r.expanded=e[0]),t.$set(r)},i:function(e){n||(eo(t.$$.fragment,e),n=!0)},o:function(e){to(t.$$.fragment,e),n=!1},d:function(e){so(t,e)}}}function Ko(e){var t;return{c:function(){(t=li("span")).textContent="\u2026"},m:function(e,n){ii(e,t,n)},p:Ma,i:Ma,o:Ma,d:function(e){e&&oi(t)}}}function Qo(e){for(var t,n,r,a,i,o=e[13],u=[],l=0;l<o.length;l+=1)u[l]=Jo(Wo(e,o,l));var c=function(e){return to(u[e],1,1,(function(){u[e]=null}))},s=e[13].length<e[7].length&&Xo();return{c:function(){t=li("ul");for(var r=0;r<u.length;r+=1)u[r].c();n=fi(),s&&s.c(),vi(t,"class","svelte-rwxv37"),wi(t,"collapse",!e[0])},m:function(o,l){ii(o,t,l);for(var c=0;c<u.length;c+=1)u[c].m(t,null);ei(t,n),s&&s.m(t,null),r=!0,a||(i=pi(t,"click",e[16]),a=!0)},p:function(e,r){if(10129&r){var a;for(o=e[13],a=0;a<o.length;a+=1){var i=Wo(e,o,a);u[a]?(u[a].p(i,r),eo(u[a],1)):(u[a]=Jo(i),u[a].c(),eo(u[a],1),u[a].m(t,n))}for(Xi(),a=o.length;a<u.length;a+=1)c(a);Zi()}e[13].length<e[7].length?s||((s=Xo()).c(),s.m(t,null)):s&&(s.d(1),s=null),1&r&&wi(t,"collapse",!e[0])},i:function(e){if(!r){for(var t=0;t<o.length;t+=1)eo(u[t]);r=!0}},o:function(e){u=u.filter(Boolean);for(var t=0;t<u.length;t+=1)to(u[t]);r=!1},d:function(e){e&&oi(t),ui(u,e),s&&s.d(),a=!1,i()}}}function Yo(e){var t;return{c:function(){(t=li("span")).textContent=",",vi(t,"class","comma svelte-rwxv37")},m:function(e,n){ii(e,t,n)},d:function(e){e&&oi(t)}}}function Jo(e){var t,n,r,a;t=new Ru({props:{key:e[8](e[12]),isParentExpanded:e[0],isParentArray:e[4],value:e[0]?e[9](e[12]):e[10](e[12])}});var i=!e[0]&&e[20]<e[7].length-1&&Yo();return{c:function(){lo(t.$$.fragment),n=fi(),i&&i.c(),r=di()},m:function(e,o){co(t,e,o),ii(e,n,o),i&&i.m(e,o),ii(e,r,o),a=!0},p:function(e,n){var a={};8448&n&&(a.key=e[8](e[12])),1&n&&(a.isParentExpanded=e[0]),16&n&&(a.isParentArray=e[4]),9729&n&&(a.value=e[0]?e[9](e[12]):e[10](e[12])),t.$set(a),!e[0]&&e[20]<e[7].length-1?i||((i=Yo()).c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},i:function(e){a||(eo(t.$$.fragment,e),a=!0)},o:function(e){to(t.$$.fragment,e),a=!1},d:function(e){so(t,e),e&&oi(n),i&&i.d(e),e&&oi(r)}}}function Xo(e){var t;return{c:function(){(t=li("span")).textContent="\u2026"},m:function(e,n){ii(e,t,n)},d:function(e){e&&oi(t)}}}function Zo(e){var t,n,r,a,i,o,l,c,s,f,d,p,h,v,m,y,g,b,k=e[11]&&e[2]&&Ho(e);(a=new qo({props:{key:e[12],colon:e[14].colon,isParentExpanded:e[2],isParentArray:e[3]}})).$on("click",e[15]);var w=[Qo,Ko],x=[];function E(e,t){return e[2]?0:1}return d=E(e),p=x[d]=w[d](e),{c:function(){t=li("li"),n=li("label"),k&&k.c(),r=fi(),lo(a.$$.fragment),i=fi(),o=li("span"),l=li("span"),c=si(e[1]),s=si(e[5]),f=fi(),p.c(),h=fi(),v=li("span"),m=si(e[6]),vi(n,"class","svelte-rwxv37"),vi(t,"class","svelte-rwxv37"),wi(t,"indent",e[2])},m:function(u,p){ii(u,t,p),ei(t,n),k&&k.m(n,null),ei(n,r),co(a,n,null),ei(n,i),ei(n,o),ei(o,l),ei(l,c),ei(o,s),ei(t,f),x[d].m(t,null),ei(t,h),ei(t,v),ei(v,m),y=!0,g||(b=pi(o,"click",e[15]),g=!0)},p:function(e,i){var o=u(i,1)[0];e[11]&&e[2]?k?(k.p(e,o),2052&o&&eo(k,1)):((k=Ho(e)).c(),eo(k,1),k.m(n,r)):k&&(Xi(),to(k,1,1,(function(){k=null})),Zi());var l={};4096&o&&(l.key=e[12]),4&o&&(l.isParentExpanded=e[2]),8&o&&(l.isParentArray=e[3]),a.$set(l),(!y||2&o)&&yi(c,e[1]),(!y||32&o)&&yi(s,e[5]);var f=d;(d=E(e))===f?x[d].p(e,o):(Xi(),to(x[f],1,1,(function(){x[f]=null})),Zi(),(p=x[d])?p.p(e,o):(p=x[d]=w[d](e)).c(),eo(p,1),p.m(t,h)),(!y||64&o)&&yi(m,e[6]),4&o&&wi(t,"indent",e[2])},i:function(e){y||(eo(k),eo(a.$$.fragment,e),eo(p),y=!0)},o:function(e){to(k),to(a.$$.fragment,e),to(p),y=!1},d:function(e){e&&oi(t),k&&k.d(),so(a),x[d].d(),g=!1,b()}}}function eu(e,t,n){var r,a=t.key,i=t.keys,o=t.colon,u=void 0===o?":":o,l=t.label,c=void 0===l?"":l,f=t.isParentExpanded,d=t.isParentArray,p=t.isArray,h=void 0!==p&&p,v=t.bracketOpen,m=t.bracketClose,y=t.previewKeys,g=void 0===y?i:y,b=t.getKey,k=void 0===b?function(e){return e}:b,w=t.getValue,x=void 0===w?function(e){return e}:w,E=t.getPreviewValue,P=void 0===E?x:E,S=t.expanded,_=void 0!==S&&S,T=t.expandable,$=void 0===T||T,C=Ai(Mo);return Di(Mo,s(s({},C),{},{colon:u})),e.$$set=function(e){"key"in e&&n(12,a=e.key),"keys"in e&&n(17,i=e.keys),"colon"in e&&n(18,u=e.colon),"label"in e&&n(1,c=e.label),"isParentExpanded"in e&&n(2,f=e.isParentExpanded),"isParentArray"in e&&n(3,d=e.isParentArray),"isArray"in e&&n(4,h=e.isArray),"bracketOpen"in e&&n(5,v=e.bracketOpen),"bracketClose"in e&&n(6,m=e.bracketClose),"previewKeys"in e&&n(7,g=e.previewKeys),"getKey"in e&&n(8,k=e.getKey),"getValue"in e&&n(9,x=e.getValue),"getPreviewValue"in e&&n(10,P=e.getPreviewValue),"expanded"in e&&n(0,_=e.expanded),"expandable"in e&&n(11,$=e.expandable)},e.$$.update=function(){4&e.$$.dirty&&(f||n(0,_=!1)),131201&e.$$.dirty&&n(13,r=_?i:g.slice(0,5))},[_,c,f,d,h,v,m,g,k,x,P,$,a,r,C,function(){n(0,_=!_)},function(){n(0,_=!0)},i,u]}var tu=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,eu,Zo,Ua,{key:12,keys:17,colon:18,label:1,isParentExpanded:2,isParentArray:3,isArray:4,bracketOpen:5,bracketClose:6,previewKeys:7,getKey:8,getValue:9,getPreviewValue:10,expanded:0,expandable:11},Go),r}return h(n)}(ho);function nu(e){var t,n;return t=new tu({props:{key:e[0],expanded:e[4],isParentExpanded:e[1],isParentArray:e[2],keys:e[5],previewKeys:e[5],getValue:e[6],label:e[3]+" ",bracketOpen:"{",bracketClose:"}"}}),{c:function(){lo(t.$$.fragment)},m:function(e,r){co(t,e,r),n=!0},p:function(e,n){var r=u(n,1)[0],a={};1&r&&(a.key=e[0]),16&r&&(a.expanded=e[4]),2&r&&(a.isParentExpanded=e[1]),4&r&&(a.isParentArray=e[2]),32&r&&(a.keys=e[5]),32&r&&(a.previewKeys=e[5]),8&r&&(a.label=e[3]+" "),t.$set(a)},i:function(e){n||(eo(t.$$.fragment,e),n=!0)},o:function(e){to(t.$$.fragment,e),n=!1},d:function(e){so(t,e)}}}function ru(e,t,n){var r,a=t.key,i=t.value,o=t.isParentExpanded,u=t.isParentArray,l=t.nodeType,c=t.expanded,s=void 0===c||c;return e.$$set=function(e){"key"in e&&n(0,a=e.key),"value"in e&&n(7,i=e.value),"isParentExpanded"in e&&n(1,o=e.isParentExpanded),"isParentArray"in e&&n(2,u=e.isParentArray),"nodeType"in e&&n(3,l=e.nodeType),"expanded"in e&&n(4,s=e.expanded)},e.$$.update=function(){128&e.$$.dirty&&n(5,r=Object.getOwnPropertyNames(i))},[a,o,u,l,s,r,function(e){return i[e]},i]}var au=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,ru,nu,Ua,{key:0,value:7,isParentExpanded:1,isParentArray:2,nodeType:3,expanded:4}),r}return h(n)}(ho);function iu(e){var t,n;return t=new tu({props:{key:e[0],expanded:e[4],isParentExpanded:e[2],isParentArray:e[3],isArray:!0,keys:e[5],previewKeys:e[6],getValue:e[7],label:"Array("+e[1].length+")",bracketOpen:"[",bracketClose:"]"}}),{c:function(){lo(t.$$.fragment)},m:function(e,r){co(t,e,r),n=!0},p:function(e,n){var r=u(n,1)[0],a={};1&r&&(a.key=e[0]),16&r&&(a.expanded=e[4]),4&r&&(a.isParentExpanded=e[2]),8&r&&(a.isParentArray=e[3]),32&r&&(a.keys=e[5]),64&r&&(a.previewKeys=e[6]),2&r&&(a.label="Array("+e[1].length+")"),t.$set(a)},i:function(e){n||(eo(t.$$.fragment,e),n=!0)},o:function(e){to(t.$$.fragment,e),n=!1},d:function(e){so(t,e)}}}function ou(e,t,n){var r,a,i=t.key,o=t.value,u=t.isParentExpanded,l=t.isParentArray,c=t.expanded,s=void 0===c?JSON.stringify(o).length<1024:c,f=new Set(["length"]);return e.$$set=function(e){"key"in e&&n(0,i=e.key),"value"in e&&n(1,o=e.value),"isParentExpanded"in e&&n(2,u=e.isParentExpanded),"isParentArray"in e&&n(3,l=e.isParentArray),"expanded"in e&&n(4,s=e.expanded)},e.$$.update=function(){2&e.$$.dirty&&n(5,r=Object.getOwnPropertyNames(o)),32&e.$$.dirty&&n(6,a=r.filter((function(e){return!f.has(e)})))},[i,o,u,l,s,r,a,function(e){return o[e]}]}var uu=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,ou,iu,Ua,{key:0,value:1,isParentExpanded:2,isParentArray:3,expanded:4}),r}return h(n)}(ho);function lu(e){var t,n;return t=new tu({props:{key:e[0],isParentExpanded:e[1],isParentArray:e[2],keys:e[4],getKey:cu,getValue:su,isArray:!0,label:e[3]+"("+e[4].length+")",bracketOpen:"{",bracketClose:"}"}}),{c:function(){lo(t.$$.fragment)},m:function(e,r){co(t,e,r),n=!0},p:function(e,n){var r=u(n,1)[0],a={};1&r&&(a.key=e[0]),2&r&&(a.isParentExpanded=e[1]),4&r&&(a.isParentArray=e[2]),16&r&&(a.keys=e[4]),24&r&&(a.label=e[3]+"("+e[4].length+")"),t.$set(a)},i:function(e){n||(eo(t.$$.fragment,e),n=!0)},o:function(e){to(t.$$.fragment,e),n=!1},d:function(e){so(t,e)}}}function cu(e){return String(e[0])}function su(e){return e[1]}function fu(e,t,n){var r=t.key,a=t.value,i=t.isParentExpanded,o=t.isParentArray,u=t.nodeType,l=[];return e.$$set=function(e){"key"in e&&n(0,r=e.key),"value"in e&&n(5,a=e.value),"isParentExpanded"in e&&n(1,i=e.isParentExpanded),"isParentArray"in e&&n(2,o=e.isParentArray),"nodeType"in e&&n(3,u=e.nodeType)},e.$$.update=function(){if(32&e.$$.dirty){var t,r=[],i=0,o=f(a);try{for(o.s();!(t=o.n()).done;){var u=t.value;r.push([i++,u])}}catch(Ss){o.e(Ss)}finally{o.f()}n(4,l=r)}},[r,i,o,u,l,a]}var du=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,fu,lu,Ua,{key:0,value:5,isParentExpanded:1,isParentArray:2,nodeType:3}),r}return h(n)}(ho),pu=h((function e(t,n){d(this,e),this.key=t,this.value=n}));function hu(e){var t,n;return t=new tu({props:{key:e[0],isParentExpanded:e[1],isParentArray:e[2],keys:e[4],getKey:vu,getValue:mu,label:e[3]+"("+e[4].length+")",colon:"",bracketOpen:"{",bracketClose:"}"}}),{c:function(){lo(t.$$.fragment)},m:function(e,r){co(t,e,r),n=!0},p:function(e,n){var r=u(n,1)[0],a={};1&r&&(a.key=e[0]),2&r&&(a.isParentExpanded=e[1]),4&r&&(a.isParentArray=e[2]),16&r&&(a.keys=e[4]),24&r&&(a.label=e[3]+"("+e[4].length+")"),t.$set(a)},i:function(e){n||(eo(t.$$.fragment,e),n=!0)},o:function(e){to(t.$$.fragment,e),n=!1},d:function(e){so(t,e)}}}function vu(e){return e[0]}function mu(e){return e[1]}function yu(e,t,n){var r=t.key,a=t.value,i=t.isParentExpanded,o=t.isParentArray,u=t.nodeType,l=[];return e.$$set=function(e){"key"in e&&n(0,r=e.key),"value"in e&&n(5,a=e.value),"isParentExpanded"in e&&n(1,i=e.isParentExpanded),"isParentArray"in e&&n(2,o=e.isParentArray),"nodeType"in e&&n(3,u=e.nodeType)},e.$$.update=function(){if(32&e.$$.dirty){var t,r=[],i=0,o=f(a);try{for(o.s();!(t=o.n()).done;){var u=t.value;r.push([i++,new pu(u[0],u[1])])}}catch(Ss){o.e(Ss)}finally{o.f()}n(4,l=r)}},[r,i,o,u,l,a]}var gu=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,yu,hu,Ua,{key:0,value:5,isParentExpanded:1,isParentArray:2,nodeType:3}),r}return h(n)}(ho);function bu(e){var t,n;return t=new tu({props:{expanded:e[4],isParentExpanded:e[2],isParentArray:e[3],key:e[2]?String(e[0]):e[1].key,keys:e[5],getValue:e[6],label:e[2]?"Entry ":"=> ",bracketOpen:"{",bracketClose:"}"}}),{c:function(){lo(t.$$.fragment)},m:function(e,r){co(t,e,r),n=!0},p:function(e,n){var r=u(n,1)[0],a={};16&r&&(a.expanded=e[4]),4&r&&(a.isParentExpanded=e[2]),8&r&&(a.isParentArray=e[3]),7&r&&(a.key=e[2]?String(e[0]):e[1].key),4&r&&(a.label=e[2]?"Entry ":"=> "),t.$set(a)},i:function(e){n||(eo(t.$$.fragment,e),n=!0)},o:function(e){to(t.$$.fragment,e),n=!1},d:function(e){so(t,e)}}}function ku(e,t,n){var r=t.key,a=t.value,i=t.isParentExpanded,o=t.isParentArray,u=t.expanded,l=void 0!==u&&u;return e.$$set=function(e){"key"in e&&n(0,r=e.key),"value"in e&&n(1,a=e.value),"isParentExpanded"in e&&n(2,i=e.isParentExpanded),"isParentArray"in e&&n(3,o=e.isParentArray),"expanded"in e&&n(4,l=e.expanded)},[r,a,i,o,l,["key","value"],function(e){return a[e]}]}var wu=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,ku,bu,Ua,{key:0,value:1,isParentExpanded:2,isParentArray:3,expanded:4}),r}return h(n)}(ho);function xu(e){ti(e,"svelte-3bjyvl","li.svelte-3bjyvl{user-select:text;word-wrap:break-word;word-break:break-all}.indent.svelte-3bjyvl{padding-left:var(--li-identation)}.String.svelte-3bjyvl{color:var(--string-color)}.Date.svelte-3bjyvl{color:var(--date-color)}.Number.svelte-3bjyvl{color:var(--number-color)}.Boolean.svelte-3bjyvl{color:var(--boolean-color)}.Null.svelte-3bjyvl{color:var(--null-color)}.Undefined.svelte-3bjyvl{color:var(--undefined-color)}.Function.svelte-3bjyvl{color:var(--function-color);font-style:italic}.Symbol.svelte-3bjyvl{color:var(--symbol-color)}")}function Eu(e){var t,n,r,a,i,o,l,c=(e[2]?e[2](e[1]):e[1])+"";return n=new qo({props:{key:e[0],colon:e[6],isParentExpanded:e[3],isParentArray:e[4]}}),{c:function(){t=li("li"),lo(n.$$.fragment),r=fi(),a=li("span"),i=si(c),vi(a,"class",o=Ha(e[5])+" svelte-3bjyvl"),vi(t,"class","svelte-3bjyvl"),wi(t,"indent",e[3])},m:function(e,o){ii(e,t,o),co(n,t,null),ei(t,r),ei(t,a),ei(a,i),l=!0},p:function(e,r){var s=u(r,1)[0],f={};1&s&&(f.key=e[0]),8&s&&(f.isParentExpanded=e[3]),16&s&&(f.isParentArray=e[4]),n.$set(f),(!l||6&s)&&c!==(c=(e[2]?e[2](e[1]):e[1])+"")&&yi(i,c),(!l||32&s&&o!==(o=Ha(e[5])+" svelte-3bjyvl"))&&vi(a,"class",o),8&s&&wi(t,"indent",e[3])},i:function(e){l||(eo(n.$$.fragment,e),l=!0)},o:function(e){to(n.$$.fragment,e),l=!1},d:function(e){e&&oi(t),so(n)}}}function Pu(e,t,n){var r=t.key,a=t.value,i=t.valueGetter,o=void 0===i?null:i,u=t.isParentExpanded,l=t.isParentArray,c=t.nodeType,s=Ai(Mo).colon;return e.$$set=function(e){"key"in e&&n(0,r=e.key),"value"in e&&n(1,a=e.value),"valueGetter"in e&&n(2,o=e.valueGetter),"isParentExpanded"in e&&n(3,u=e.isParentExpanded),"isParentArray"in e&&n(4,l=e.isParentArray),"nodeType"in e&&n(5,c=e.nodeType)},[r,a,o,u,l,c,s]}var Su=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,Pu,Eu,Ua,{key:0,value:1,valueGetter:2,isParentExpanded:3,isParentArray:4,nodeType:5},xu),r}return h(n)}(ho);function _u(e){ti(e,"svelte-1ca3gb2","li.svelte-1ca3gb2{user-select:text;word-wrap:break-word;word-break:break-all}.indent.svelte-1ca3gb2{padding-left:var(--li-identation)}.collapse.svelte-1ca3gb2{--li-display:inline;display:inline;font-style:italic}")}function Tu(e,t,n){var r=e.slice();return r[8]=t[n],r[10]=n,r}function $u(e){var t,n;return(t=new zo({props:{expanded:e[0]}})).$on("click",e[7]),{c:function(){lo(t.$$.fragment)},m:function(e,r){co(t,e,r),n=!0},p:function(e,n){var r={};1&n&&(r.expanded=e[0]),t.$set(r)},i:function(e){n||(eo(t.$$.fragment,e),n=!0)},o:function(e){to(t.$$.fragment,e),n=!1},d:function(e){so(t,e)}}}function Cu(e){var t,n,r=e[0]&&Ou(e);return{c:function(){t=li("ul"),r&&r.c(),vi(t,"class","svelte-1ca3gb2"),wi(t,"collapse",!e[0])},m:function(e,a){ii(e,t,a),r&&r.m(t,null),n=!0},p:function(e,n){e[0]?r?(r.p(e,n),1&n&&eo(r,1)):((r=Ou(e)).c(),eo(r,1),r.m(t,null)):r&&(Xi(),to(r,1,1,(function(){r=null})),Zi()),1&n&&wi(t,"collapse",!e[0])},i:function(e){n||(eo(r),n=!0)},o:function(e){to(r),n=!1},d:function(e){e&&oi(t),r&&r.d()}}}function Ou(e){var t,n,r,a,i,o,u;t=new Ru({props:{key:"message",value:e[2].message}}),a=new qo({props:{key:"stack",colon:":",isParentExpanded:e[3]}});for(var l=e[5],c=[],s=0;s<l.length;s+=1)c[s]=Iu(Tu(e,l,s));return{c:function(){lo(t.$$.fragment),n=fi(),r=li("li"),lo(a.$$.fragment),i=fi(),o=li("span");for(var e=0;e<c.length;e+=1)c[e].c();vi(r,"class","svelte-1ca3gb2")},m:function(e,l){co(t,e,l),ii(e,n,l),ii(e,r,l),co(a,r,null),ei(r,i),ei(r,o);for(var s=0;s<c.length;s+=1)c[s].m(o,null);u=!0},p:function(e,n){var r={};4&n&&(r.value=e[2].message),t.$set(r);var i={};if(8&n&&(i.isParentExpanded=e[3]),a.$set(i),32&n){var u;for(l=e[5],u=0;u<l.length;u+=1){var s=Tu(e,l,u);c[u]?c[u].p(s,n):(c[u]=Iu(s),c[u].c(),c[u].m(o,null))}for(;u<c.length;u+=1)c[u].d(1);c.length=l.length}},i:function(e){u||(eo(t.$$.fragment,e),eo(a.$$.fragment,e),u=!0)},o:function(e){to(t.$$.fragment,e),to(a.$$.fragment,e),u=!1},d:function(e){so(t,e),e&&oi(n),e&&oi(r),so(a),ui(c,e)}}}function Iu(e){var t,n,r,a=e[8]+"";return{c:function(){t=li("span"),n=si(a),r=li("br"),vi(t,"class","svelte-1ca3gb2"),wi(t,"indent",e[10]>0)},m:function(e,a){ii(e,t,a),ei(t,n),ii(e,r,a)},p:function(e,t){32&t&&a!==(a=e[8]+"")&&yi(n,a)},d:function(e){e&&oi(t),e&&oi(r)}}}function Nu(e){var t,n,r,a,i,o,l,c,s,f,d,p=(e[0]?"":e[2].message)+"",h=e[3]&&$u(e);r=new qo({props:{key:e[1],colon:e[6].colon,isParentExpanded:e[3],isParentArray:e[4]}});var v=e[3]&&Cu(e);return{c:function(){t=li("li"),h&&h.c(),n=fi(),lo(r.$$.fragment),a=fi(),i=li("span"),o=si("Error: "),l=si(p),c=fi(),v&&v.c(),vi(t,"class","svelte-1ca3gb2"),wi(t,"indent",e[3])},m:function(u,p){ii(u,t,p),h&&h.m(t,null),ei(t,n),co(r,t,null),ei(t,a),ei(t,i),ei(i,o),ei(i,l),ei(t,c),v&&v.m(t,null),s=!0,f||(d=pi(i,"click",e[7]),f=!0)},p:function(e,a){var i=u(a,1)[0];e[3]?h?(h.p(e,i),8&i&&eo(h,1)):((h=$u(e)).c(),eo(h,1),h.m(t,n)):h&&(Xi(),to(h,1,1,(function(){h=null})),Zi());var o={};2&i&&(o.key=e[1]),8&i&&(o.isParentExpanded=e[3]),16&i&&(o.isParentArray=e[4]),r.$set(o),(!s||5&i)&&p!==(p=(e[0]?"":e[2].message)+"")&&yi(l,p),e[3]?v?(v.p(e,i),8&i&&eo(v,1)):((v=Cu(e)).c(),eo(v,1),v.m(t,null)):v&&(Xi(),to(v,1,1,(function(){v=null})),Zi()),8&i&&wi(t,"indent",e[3])},i:function(e){s||(eo(h),eo(r.$$.fragment,e),eo(v),s=!0)},o:function(e){to(h),to(r.$$.fragment,e),to(v),s=!1},d:function(e){e&&oi(t),h&&h.d(),so(r),v&&v.d(),f=!1,d()}}}function Du(e,t,n){var r,a=t.key,i=t.value,o=t.isParentExpanded,u=t.isParentArray,l=t.expanded,c=void 0!==l&&l,f=Ai(Mo);return Di(Mo,s(s({},f),{},{colon:":"})),e.$$set=function(e){"key"in e&&n(1,a=e.key),"value"in e&&n(2,i=e.value),"isParentExpanded"in e&&n(3,o=e.isParentExpanded),"isParentArray"in e&&n(4,u=e.isParentArray),"expanded"in e&&n(0,c=e.expanded)},e.$$.update=function(){4&e.$$.dirty&&n(5,r=i.stack.split("\n")),8&e.$$.dirty&&(o||n(0,c=!1))},[c,a,i,o,u,r,f,function(){n(0,c=!c)}]}var Au=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,Du,Nu,Ua,{key:1,value:2,isParentExpanded:3,isParentArray:4,expanded:0},_u),r}return h(n)}(ho);function Mu(e){var t,n,r,a=e[6];function i(e){return{props:{key:e[0],value:e[1],isParentExpanded:e[2],isParentArray:e[3],nodeType:e[4],valueGetter:e[5]}}}return a&&(t=new a(i(e))),{c:function(){t&&lo(t.$$.fragment),n=di()},m:function(e,a){t&&co(t,e,a),ii(e,n,a),r=!0},p:function(e,r){var o=u(r,1)[0],l={};if(1&o&&(l.key=e[0]),2&o&&(l.value=e[1]),4&o&&(l.isParentExpanded=e[2]),8&o&&(l.isParentArray=e[3]),16&o&&(l.nodeType=e[4]),32&o&&(l.valueGetter=e[5]),a!==(a=e[6])){if(t){Xi();var c=t;to(c.$$.fragment,1,0,(function(){so(c,1)})),Zi()}a?(lo((t=new a(i(e))).$$.fragment),eo(t.$$.fragment,1),co(t,n.parentNode,n)):t=null}else a&&t.$set(l)},i:function(e){r||(t&&eo(t.$$.fragment,e),r=!0)},o:function(e){t&&to(t.$$.fragment,e),r=!1},d:function(e){e&&oi(n),t&&so(t,e)}}}function ju(e,t,n){var r,a,i,o=t.key,u=t.value,l=t.isParentExpanded,c=t.isParentArray;return e.$$set=function(e){"key"in e&&n(0,o=e.key),"value"in e&&n(1,u=e.value),"isParentExpanded"in e&&n(2,l=e.isParentExpanded),"isParentArray"in e&&n(3,c=e.isParentArray)},e.$$.update=function(){2&e.$$.dirty&&n(4,r=function(e){var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t?"function"===typeof e[Symbol.iterator]?"Iterable":e.constructor.name:t}(u)),16&e.$$.dirty&&n(6,a=function(e){switch(e){case"Object":return au;case"Error":return Au;case"Array":return uu;case"Iterable":case"Map":case"Set":return"function"===typeof u.set?gu:du;case"MapEntry":return wu;default:return Su}}(r)),16&e.$$.dirty&&n(5,i=function(e){switch(e){case"Object":case"Error":case"Array":case"Iterable":case"Map":case"Set":case"MapEntry":case"Number":return;case"String":return function(e){return'"'.concat(e,'"')};case"Boolean":return function(e){return e?"true":"false"};case"Date":return function(e){return e.toISOString()};case"Null":return function(){return"null"};case"Undefined":return function(){return"undefined"};case"Function":case"Symbol":return function(e){return e.toString()};default:return function(){return"<".concat(e,">")}}}(r))},[o,u,l,c,r,i,a]}var Ru=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,ju,Mu,Ua,{key:0,value:1,isParentExpanded:2,isParentArray:3}),r}return h(n)}(ho);function Lu(e){ti(e,"svelte-773n60","ul.svelte-773n60{--string-color:var(--json-tree-string-color, #cb3f41);--symbol-color:var(--json-tree-symbol-color, #cb3f41);--boolean-color:var(--json-tree-boolean-color, #112aa7);--function-color:var(--json-tree-function-color, #112aa7);--number-color:var(--json-tree-number-color, #3029cf);--label-color:var(--json-tree-label-color, #871d8f);--arrow-color:var(--json-tree-arrow-color, #727272);--null-color:var(--json-tree-null-color, #8d8d8d);--undefined-color:var(--json-tree-undefined-color, #8d8d8d);--date-color:var(--json-tree-date-color, #8d8d8d);--li-identation:var(--json-tree-li-indentation, 1em);--li-line-height:var(--json-tree-li-line-height, 1.3);--li-colon-space:0.3em;font-size:var(--json-tree-font-size, 12px);font-family:var(--json-tree-font-family, 'Courier New', Courier, monospace)}ul.svelte-773n60 li{line-height:var(--li-line-height);display:var(--li-display, list-item);list-style:none}ul.svelte-773n60,ul.svelte-773n60 ul{padding:0;margin:0}")}function zu(e){var t,n,r;return n=new Ru({props:{key:e[0],value:e[1],isParentExpanded:!0,isParentArray:!1}}),{c:function(){t=li("ul"),lo(n.$$.fragment),vi(t,"class","svelte-773n60")},m:function(e,a){ii(e,t,a),co(n,t,null),r=!0},p:function(e,t){var r=u(t,1)[0],a={};1&r&&(a.key=e[0]),2&r&&(a.value=e[1]),n.$set(a)},i:function(e){r||(eo(n.$$.fragment,e),r=!0)},o:function(e){to(n.$$.fragment,e),r=!1},d:function(e){e&&oi(t),so(n)}}}function Fu(e,t,n){Di(Mo,{});var r=t.key,a=void 0===r?"":r,i=t.value;return e.$$set=function(e){"key"in e&&n(0,a=e.key),"value"in e&&n(1,i=e.value)},[a,i]}var Bu=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,Fu,zu,Ua,{key:0,value:1},Lu),r}return h(n)}(ho);function Uu(e){ti(e,"svelte-jvfq3i",".svelte-jvfq3i{box-sizing:border-box}section.switcher.svelte-jvfq3i{position:sticky;bottom:0;transform:translateY(20px);margin:40px -20px 0;border-top:1px solid #999;padding:20px;background:#fff}label.svelte-jvfq3i{display:flex;align-items:baseline;gap:5px;font-weight:bold}select.svelte-jvfq3i{min-width:140px}")}function Vu(e,t,n){var r=e.slice();return r[7]=t[n],r[9]=n,r}function qu(e){for(var t,n,r,a,i,o,u=e[1],l=[],c=0;c<u.length;c+=1)l[c]=Gu(Vu(e,u,c));return{c:function(){t=li("section"),n=li("label"),r=si("Client\n      \n      "),a=li("select");for(var i=0;i<l.length;i+=1)l[i].c();vi(a,"id",Hu),vi(a,"class","svelte-jvfq3i"),void 0===e[2]&&Ui((function(){return e[6].call(a)})),vi(n,"class","svelte-jvfq3i"),vi(t,"class","switcher svelte-jvfq3i")},m:function(u,c){ii(u,t,c),ei(t,n),ei(n,r),ei(n,a);for(var s=0;s<l.length;s+=1)l[s].m(a,null);bi(a,e[2]),i||(o=[pi(a,"change",e[3]),pi(a,"change",e[6])],i=!0)},p:function(e,t){if(2&t){var n;for(u=e[1],n=0;n<u.length;n+=1){var r=Vu(e,u,n);l[n]?l[n].p(r,t):(l[n]=Gu(r),l[n].c(),l[n].m(a,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=u.length}4&t&&bi(a,e[2])},d:function(e){e&&oi(t),ui(l,e),i=!1,Fa(o)}}}function Gu(e){var t,n,r,a,i,o,u,l,c,s=JSON.stringify(e[7].playerID)+"",f=JSON.stringify(e[7].matchID)+"",d=e[7].game.name+"";return{c:function(){t=li("option"),n=si(e[9]),r=si(" \u2014\n            playerID: "),a=si(s),i=si(",\n            matchID: "),o=si(f),u=si("\n            ("),l=si(d),c=si(")\n          "),t.__value=e[9],t.value=t.__value,vi(t,"class","svelte-jvfq3i")},m:function(e,s){ii(e,t,s),ei(t,n),ei(t,r),ei(t,a),ei(t,i),ei(t,o),ei(t,u),ei(t,l),ei(t,c)},p:function(e,t){2&t&&s!==(s=JSON.stringify(e[7].playerID)+"")&&yi(a,s),2&t&&f!==(f=JSON.stringify(e[7].matchID)+"")&&yi(o,f),2&t&&d!==(d=e[7].game.name+"")&&yi(l,d)},d:function(e){e&&oi(t)}}}function Wu(e){var t,n=e[1].length>1&&qu(e);return{c:function(){n&&n.c(),t=di()},m:function(e,r){n&&n.m(e,r),ii(e,t,r)},p:function(e,r){var a=u(r,1)[0];e[1].length>1?n?n.p(e,a):((n=qu(e)).c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:Ma,o:Ma,d:function(e){n&&n.d(e),e&&oi(t)}}}var Hu="bgio-debug-select-client";function Ku(e,t,n){var r,a,i,o,u=Ma,l=function(){return u(),u=Va(c,(function(e){return n(5,o=e)})),c};e.$$.on_destroy.push((function(){return u()}));var c=t.clientManager;l();return e.$$set=function(e){"clientManager"in e&&l(n(0,c=e.clientManager))},e.$$.update=function(){var t;32&e.$$.dirty&&n(4,(r=(t=o).client,a=t.debuggableClients,t),r,(n(1,a),n(5,o)));18&e.$$.dirty&&n(2,i=a.indexOf(r))},[c,a,i,function(e){var t=a[e.target.value];c.switchToClient(t);var n=document.getElementById(Hu);n&&n.focus()},r,o,function(){i=ki(this),n(2,i),n(1,a),n(4,r),n(5,o)}]}var Qu=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,Ku,Wu,Ua,{clientManager:0},Uu),r}return h(n)}(ho);function Yu(e){ti(e,"svelte-1vfj1mn",".key.svelte-1vfj1mn.svelte-1vfj1mn{display:flex;flex-direction:row;align-items:center}button.svelte-1vfj1mn.svelte-1vfj1mn{cursor:pointer;min-width:10px;padding-left:5px;padding-right:5px;height:20px;line-height:20px;text-align:center;border:1px solid #ccc;box-shadow:1px 1px 1px #888;background:#eee;color:#444}button.svelte-1vfj1mn.svelte-1vfj1mn:hover{background:#ddd}.key.active.svelte-1vfj1mn button.svelte-1vfj1mn{background:#ddd;border:1px solid #999;box-shadow:none}label.svelte-1vfj1mn.svelte-1vfj1mn{margin-left:10px}")}function Ju(e){var t,n,r,a,i,o="(shortcut: ".concat(e[0],")")+"";return{c:function(){t=li("label"),n=si(e[1]),r=fi(),a=li("span"),i=si(o),vi(a,"class","screen-reader-only"),vi(t,"for",e[5]),vi(t,"class","svelte-1vfj1mn")},m:function(e,o){ii(e,t,o),ei(t,n),ei(t,r),ei(t,a),ei(a,i)},p:function(e,t){2&t&&yi(n,e[1]),1&t&&o!==(o="(shortcut: ".concat(e[0],")")+"")&&yi(i,o)},d:function(e){e&&oi(t)}}}function Xu(e){var t,n,r,a,i,o,l=e[1]&&Ju(e);return{c:function(){t=li("div"),n=li("button"),r=si(e[0]),a=fi(),l&&l.c(),vi(n,"id",e[5]),n.disabled=e[2],vi(n,"class","svelte-1vfj1mn"),vi(t,"class","key svelte-1vfj1mn"),wi(t,"active",e[3])},m:function(u,c){ii(u,t,c),ei(t,n),ei(n,r),ei(t,a),l&&l.m(t,null),i||(o=[pi(window,"keydown",e[7]),pi(n,"click",e[6])],i=!0)},p:function(e,a){var i=u(a,1)[0];1&i&&yi(r,e[0]),4&i&&(n.disabled=e[2]),e[1]?l?l.p(e,i):((l=Ju(e)).c(),l.m(t,null)):l&&(l.d(1),l=null),8&i&&wi(t,"active",e[3])},i:Ma,o:Ma,d:function(e){e&&oi(t),l&&l.d(),i=!1,Fa(o)}}}function Zu(e,t,n){var r,a=t.value,i=t.onPress,o=void 0===i?null:i,u=t.label,l=void 0===u?null:u,c=t.disable,s=void 0!==c&&c,f=Ai("hotkeys").disableHotkeys;qa(e,f,(function(e){return n(9,r=e)}));var d=!1,p="key-".concat(a);function h(){n(3,d=!1)}function v(){n(3,d=!0),setTimeout(h,200),o&&setTimeout(o,1)}return e.$$set=function(e){"value"in e&&n(0,a=e.value),"onPress"in e&&n(8,o=e.onPress),"label"in e&&n(1,l=e.label),"disable"in e&&n(2,s=e.disable)},[a,l,s,d,f,p,v,function(e){r||s||e.ctrlKey||e.metaKey||e.key!=a||(e.preventDefault(),v())},o]}var el=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,Zu,Xu,Ua,{value:0,onPress:8,label:1,disable:2},Yu),r}return h(n)}(ho);function tl(e){ti(e,"svelte-1mppqmp",".move.svelte-1mppqmp{display:flex;flex-direction:row;cursor:pointer;margin-left:10px;color:#666}.move.svelte-1mppqmp:hover{color:#333}.move.active.svelte-1mppqmp{color:#111;font-weight:bold}.arg-field.svelte-1mppqmp{outline:none;font-family:monospace}")}function nl(e){var t,n,r,a,i,o,l,c,s,f,d;return{c:function(){t=li("div"),n=li("span"),r=si(e[2]),a=fi(),(i=li("span")).textContent="(",o=fi(),l=li("span"),c=fi(),(s=li("span")).textContent=")",vi(l,"class","arg-field svelte-1mppqmp"),vi(l,"contenteditable",""),vi(t,"class","move svelte-1mppqmp"),wi(t,"active",e[3])},m:function(u,p){ii(u,t,p),ei(t,n),ei(n,r),ei(t,a),ei(t,i),ei(t,o),ei(t,l),e[6](l),ei(t,c),ei(t,s),f||(d=[pi(l,"focus",(function(){Ba(e[0])&&e[0].apply(this,arguments)})),pi(l,"blur",(function(){Ba(e[1])&&e[1].apply(this,arguments)})),pi(l,"keypress",hi(rl)),pi(l,"keydown",e[5]),pi(t,"click",(function(){Ba(e[0])&&e[0].apply(this,arguments)}))],f=!0)},p:function(n,a){var i=u(a,1)[0];e=n,4&i&&yi(r,e[2]),8&i&&wi(t,"active",e[3])},i:Ma,o:Ma,d:function(n){n&&oi(t),e[6](null),f=!1,Fa(d)}}}var rl=function(){};function al(e,t,n){var r,a=t.Activate,i=t.Deactivate,o=t.name,u=t.active,l=Ni();return function(e){Oi().$$.after_update.push(e)}((function(){u?r.focus():r.blur()})),e.$$set=function(e){"Activate"in e&&n(0,a=e.Activate),"Deactivate"in e&&n(1,i=e.Deactivate),"name"in e&&n(2,o=e.name),"active"in e&&n(3,u=e.active)},[a,i,o,u,r,function(e){"Enter"==e.key&&(e.preventDefault(),function(){try{var e=r.innerText,t=new Function("return [".concat(e,"]"))();l("submit",t)}catch(Qe){l("error",Qe)}n(4,r.innerText="",r)}()),"Escape"==e.key&&(e.preventDefault(),i())},function(e){Ri[e?"unshift":"push"]((function(){n(4,r=e)}))}]}var il=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,al,nl,Ua,{Activate:0,Deactivate:1,name:2,active:3},tl),r}return h(n)}(ho);function ol(e){ti(e,"svelte-smqssc",".move-error.svelte-smqssc{color:#a00;font-weight:bold}.wrapper.svelte-smqssc{display:flex;flex-direction:row;align-items:center}")}function ul(e){var t,n;return{c:function(){t=li("span"),n=si(e[2]),vi(t,"class","move-error svelte-smqssc")},m:function(e,r){ii(e,t,r),ei(t,n)},p:function(e,t){4&t&&yi(n,e[2])},d:function(e){e&&oi(t)}}}function ll(e){var t,n,r,a,i,o,l;r=new el({props:{value:e[0],onPress:e[4]}}),(i=new il({props:{Activate:e[4],Deactivate:e[5],name:e[1],active:e[3]}})).$on("submit",e[6]),i.$on("error",e[7]);var c=e[2]&&ul(e);return{c:function(){t=li("div"),n=li("div"),lo(r.$$.fragment),a=fi(),lo(i.$$.fragment),o=fi(),c&&c.c(),vi(n,"class","wrapper svelte-smqssc")},m:function(e,u){ii(e,t,u),ei(t,n),co(r,n,null),ei(n,a),co(i,n,null),ei(t,o),c&&c.m(t,null),l=!0},p:function(e,n){var a=u(n,1)[0],o={};1&a&&(o.value=e[0]),r.$set(o);var l={};2&a&&(l.name=e[1]),8&a&&(l.active=e[3]),i.$set(l),e[2]?c?c.p(e,a):((c=ul(e)).c(),c.m(t,null)):c&&(c.d(1),c=null)},i:function(e){l||(eo(r.$$.fragment,e),eo(i.$$.fragment,e),l=!0)},o:function(e){to(r.$$.fragment,e),to(i.$$.fragment,e),l=!1},d:function(e){e&&oi(t),so(r),so(i),c&&c.d()}}}function cl(e,t,n){var r=t.shortcut,a=t.name,i=t.fn,o=Ai("hotkeys").disableHotkeys,u="",l=!1;function c(){o.set(!1),n(2,u=""),n(3,l=!1)}return e.$$set=function(e){"shortcut"in e&&n(0,r=e.shortcut),"name"in e&&n(1,a=e.name),"fn"in e&&n(8,i=e.fn)},[r,a,u,l,function(){o.set(!0),n(3,l=!0)},c,function(e){n(2,u=""),c(),i.apply(this,e.detail)},function(e){n(2,u=e.detail),Qe(e.detail)},i]}var sl=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,cl,ll,Ua,{shortcut:0,name:1,fn:8},ol),r}return h(n)}(ho);function fl(e){ti(e,"svelte-c3lavh","ul.svelte-c3lavh{padding-left:0}li.svelte-c3lavh{list-style:none;margin:none;margin-bottom:5px}")}function dl(e){var t,n,r,a,i,o,l,c,s,f,d,p,h;return r=new el({props:{value:"1",onPress:e[0].reset,label:"reset"}}),o=new el({props:{value:"2",onPress:e[2],label:"save"}}),s=new el({props:{value:"3",onPress:e[3],label:"restore"}}),p=new el({props:{value:".",onPress:e[1],label:"hide"}}),{c:function(){t=li("ul"),n=li("li"),lo(r.$$.fragment),a=fi(),i=li("li"),lo(o.$$.fragment),l=fi(),c=li("li"),lo(s.$$.fragment),f=fi(),d=li("li"),lo(p.$$.fragment),vi(n,"class","svelte-c3lavh"),vi(i,"class","svelte-c3lavh"),vi(c,"class","svelte-c3lavh"),vi(d,"class","svelte-c3lavh"),vi(t,"id","debug-controls"),vi(t,"class","controls svelte-c3lavh")},m:function(e,u){ii(e,t,u),ei(t,n),co(r,n,null),ei(t,a),ei(t,i),co(o,i,null),ei(t,l),ei(t,c),co(s,c,null),ei(t,f),ei(t,d),co(p,d,null),h=!0},p:function(e,t){var n=u(t,1)[0],a={};1&n&&(a.onPress=e[0].reset),r.$set(a);var i={};2&n&&(i.onPress=e[1]),p.$set(i)},i:function(e){h||(eo(r.$$.fragment,e),eo(o.$$.fragment,e),eo(s.$$.fragment,e),eo(p.$$.fragment,e),h=!0)},o:function(e){to(r.$$.fragment,e),to(o.$$.fragment,e),to(s.$$.fragment,e),to(p.$$.fragment,e),h=!1},d:function(e){e&&oi(t),so(r),so(o),so(s),so(p)}}}function pl(e,t,n){var r=t.client,a=t.ToggleVisibility;return e.$$set=function(e){"client"in e&&n(0,r=e.client),"ToggleVisibility"in e&&n(1,a=e.ToggleVisibility)},[r,a,function(){var e=r.getState(),t=wn(s(s({},e),{},{_undo:[],_redo:[],deltalog:[]}));window.localStorage.setItem("gamestate",t),window.localStorage.setItem("initialState",wn(r.initialState))},function(){var e=window.localStorage.getItem("gamestate"),t=window.localStorage.getItem("initialState");if(null!==e&&null!==t){var n=kn(e),a=kn(t);r.store.dispatch(Ae({state:n,initialState:a}))}}]}var hl=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,pl,dl,Ua,{client:0,ToggleVisibility:1},fl),r}return h(n)}(ho);function vl(e){ti(e,"svelte-19aan9p",".player-box.svelte-19aan9p{display:flex;flex-direction:row}.player.svelte-19aan9p{cursor:pointer;text-align:center;width:30px;height:30px;line-height:30px;background:#eee;border:3px solid #fefefe;box-sizing:content-box;padding:0}.player.current.svelte-19aan9p{background:#555;color:#eee;font-weight:bold}.player.active.svelte-19aan9p{border:3px solid #ff7f50}")}function ml(e,t,n){var r=e.slice();return r[7]=t[n],r}function yl(e){var t,n,r,a,i,o,u=e[7]+"";function l(){return e[5](e[7])}return{c:function(){t=li("button"),n=si(u),r=fi(),vi(t,"class","player svelte-19aan9p"),vi(t,"aria-label",a=e[4](e[7])),wi(t,"current",e[7]==e[0].currentPlayer),wi(t,"active",e[7]==e[1])},m:function(e,a){ii(e,t,a),ei(t,n),ei(t,r),i||(o=pi(t,"click",l),i=!0)},p:function(r,i){e=r,4&i&&u!==(u=e[7]+"")&&yi(n,u),4&i&&a!==(a=e[4](e[7]))&&vi(t,"aria-label",a),5&i&&wi(t,"current",e[7]==e[0].currentPlayer),6&i&&wi(t,"active",e[7]==e[1])},d:function(e){e&&oi(t),i=!1,o()}}}function gl(e){for(var t,n=e[2],r=[],a=0;a<n.length;a+=1)r[a]=yl(ml(e,n,a));return{c:function(){t=li("div");for(var e=0;e<r.length;e+=1)r[e].c();vi(t,"class","player-box svelte-19aan9p")},m:function(e,n){ii(e,t,n);for(var a=0;a<r.length;a+=1)r[a].m(t,null)},p:function(e,a){var i=u(a,1)[0];if(31&i){var o;for(n=e[2],o=0;o<n.length;o+=1){var l=ml(e,n,o);r[o]?r[o].p(l,i):(r[o]=yl(l),r[o].c(),r[o].m(t,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},i:Ma,o:Ma,d:function(e){e&&oi(t),ui(r,e)}}}function bl(e,t,n){var r,a=t.ctx,i=t.playerID,u=Ni();function l(e){u("change",e==i?{playerID:null}:{playerID:e})}return e.$$set=function(e){"ctx"in e&&n(0,a=e.ctx),"playerID"in e&&n(1,i=e.playerID)},e.$$.update=function(){1&e.$$.dirty&&n(2,r=a?o(Array(a.numPlayers).keys()).map((function(e){return e.toString()})):[])},[a,i,r,l,function(e){var t=[];e==a.currentPlayer&&t.push("current"),e==i&&t.push("active");var n="Player ".concat(e);return t.length&&(n+=" (".concat(t.join(", "),")")),n},function(e){return l(e)}]}var kl=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,bl,gl,Ua,{ctx:0,playerID:1},vl),r}return h(n)}(ho);function wl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xl(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return wl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wl(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw i}}}}function El(e){ti(e,"svelte-146sq5f",".tree.svelte-146sq5f{--json-tree-font-family:monospace;--json-tree-font-size:14px;--json-tree-null-color:#757575}.label.svelte-146sq5f{margin-bottom:0;text-transform:none}h3.svelte-146sq5f{text-transform:uppercase}ul.svelte-146sq5f{padding-left:0}li.svelte-146sq5f{list-style:none;margin:0;margin-bottom:5px}")}function Pl(e,t,n){var r=e.slice();return r[10]=t[n][0],r[11]=t[n][1],r}function Sl(e){var t,n,r,a;return n=new sl({props:{shortcut:e[8][e[10]],fn:e[11],name:e[10]}}),{c:function(){t=li("li"),lo(n.$$.fragment),r=fi(),vi(t,"class","svelte-146sq5f")},m:function(e,i){ii(e,t,i),co(n,t,null),ei(t,r),a=!0},p:function(e,t){var r={};16&t&&(r.shortcut=e[8][e[10]]),16&t&&(r.fn=e[11]),16&t&&(r.name=e[10]),n.$set(r)},i:function(e){a||(eo(n.$$.fragment,e),a=!0)},o:function(e){to(n.$$.fragment,e),a=!1},d:function(e){e&&oi(t),so(n)}}}function _l(e){var t,n,r;return n=new sl({props:{name:"endStage",shortcut:7,fn:e[5].endStage}}),{c:function(){t=li("li"),lo(n.$$.fragment),vi(t,"class","svelte-146sq5f")},m:function(e,a){ii(e,t,a),co(n,t,null),r=!0},p:function(e,t){var r={};32&t&&(r.fn=e[5].endStage),n.$set(r)},i:function(e){r||(eo(n.$$.fragment,e),r=!0)},o:function(e){to(n.$$.fragment,e),r=!1},d:function(e){e&&oi(t),so(n)}}}function Tl(e){var t,n,r;return n=new sl({props:{name:"endTurn",shortcut:8,fn:e[5].endTurn}}),{c:function(){t=li("li"),lo(n.$$.fragment),vi(t,"class","svelte-146sq5f")},m:function(e,a){ii(e,t,a),co(n,t,null),r=!0},p:function(e,t){var r={};32&t&&(r.fn=e[5].endTurn),n.$set(r)},i:function(e){r||(eo(n.$$.fragment,e),r=!0)},o:function(e){to(n.$$.fragment,e),r=!1},d:function(e){e&&oi(t),so(n)}}}function $l(e){var t,n,r;return n=new sl({props:{name:"endPhase",shortcut:9,fn:e[5].endPhase}}),{c:function(){t=li("li"),lo(n.$$.fragment),vi(t,"class","svelte-146sq5f")},m:function(e,a){ii(e,t,a),co(n,t,null),r=!0},p:function(e,t){var r={};32&t&&(r.fn=e[5].endPhase),n.$set(r)},i:function(e){r||(eo(n.$$.fragment,e),r=!0)},o:function(e){to(n.$$.fragment,e),r=!1},d:function(e){e&&oi(t),so(n)}}}function Cl(e){var t,n,r,a,i,o,l,c,s,f,d,p,h,v,m,y,g,b,k,w,x,E,P,S,_,T,$,C,O,I,N,D,A,M;a=new hl({props:{client:e[0],ToggleVisibility:e[2]}}),(s=new kl({props:{ctx:e[6],playerID:e[3]}})).$on("change",e[9]);for(var j=Object.entries(e[4]),R=[],L=0;L<j.length;L+=1)R[L]=Sl(Pl(e,j,L));var z=function(e){return to(R[e],1,1,(function(){R[e]=null}))},F=e[6].activePlayers&&e[5].endStage&&_l(e),B=e[5].endTurn&&Tl(e),U=e[6].phase&&e[5].endPhase&&$l(e);return T=new Bu({props:{value:e[7]}}),N=new Bu({props:{value:Ol(e[6])}}),A=new Qu({props:{clientManager:e[1]}}),{c:function(){t=li("section"),(n=li("h3")).textContent="Controls",r=fi(),lo(a.$$.fragment),i=fi(),o=li("section"),(l=li("h3")).textContent="Players",c=fi(),lo(s.$$.fragment),f=fi(),d=li("section"),(p=li("h3")).textContent="Moves",h=fi(),v=li("ul");for(var e=0;e<R.length;e+=1)R[e].c();m=fi(),y=li("section"),(g=li("h3")).textContent="Events",b=fi(),k=li("ul"),F&&F.c(),w=fi(),B&&B.c(),x=fi(),U&&U.c(),E=fi(),P=li("section"),(S=li("h3")).textContent="G",_=fi(),lo(T.$$.fragment),$=fi(),C=li("section"),(O=li("h3")).textContent="ctx",I=fi(),lo(N.$$.fragment),D=fi(),lo(A.$$.fragment),vi(n,"class","svelte-146sq5f"),vi(l,"class","svelte-146sq5f"),vi(p,"class","svelte-146sq5f"),vi(v,"class","svelte-146sq5f"),vi(g,"class","svelte-146sq5f"),vi(k,"class","svelte-146sq5f"),vi(S,"class","label svelte-146sq5f"),vi(P,"class","tree svelte-146sq5f"),vi(O,"class","label svelte-146sq5f"),vi(C,"class","tree svelte-146sq5f")},m:function(e,u){ii(e,t,u),ei(t,n),ei(t,r),co(a,t,null),ii(e,i,u),ii(e,o,u),ei(o,l),ei(o,c),co(s,o,null),ii(e,f,u),ii(e,d,u),ei(d,p),ei(d,h),ei(d,v);for(var j=0;j<R.length;j+=1)R[j].m(v,null);ii(e,m,u),ii(e,y,u),ei(y,g),ei(y,b),ei(y,k),F&&F.m(k,null),ei(k,w),B&&B.m(k,null),ei(k,x),U&&U.m(k,null),ii(e,E,u),ii(e,P,u),ei(P,S),ei(P,_),co(T,P,null),ii(e,$,u),ii(e,C,u),ei(C,O),ei(C,I),co(N,C,null),ii(e,D,u),co(A,e,u),M=!0},p:function(e,t){var n=u(t,1)[0],r={};1&n&&(r.client=e[0]),4&n&&(r.ToggleVisibility=e[2]),a.$set(r);var i={};if(64&n&&(i.ctx=e[6]),8&n&&(i.playerID=e[3]),s.$set(i),272&n){var o;for(j=Object.entries(e[4]),o=0;o<j.length;o+=1){var l=Pl(e,j,o);R[o]?(R[o].p(l,n),eo(R[o],1)):(R[o]=Sl(l),R[o].c(),eo(R[o],1),R[o].m(v,null))}for(Xi(),o=j.length;o<R.length;o+=1)z(o);Zi()}e[6].activePlayers&&e[5].endStage?F?(F.p(e,n),96&n&&eo(F,1)):((F=_l(e)).c(),eo(F,1),F.m(k,w)):F&&(Xi(),to(F,1,1,(function(){F=null})),Zi()),e[5].endTurn?B?(B.p(e,n),32&n&&eo(B,1)):((B=Tl(e)).c(),eo(B,1),B.m(k,x)):B&&(Xi(),to(B,1,1,(function(){B=null})),Zi()),e[6].phase&&e[5].endPhase?U?(U.p(e,n),96&n&&eo(U,1)):((U=$l(e)).c(),eo(U,1),U.m(k,null)):U&&(Xi(),to(U,1,1,(function(){U=null})),Zi());var c={};128&n&&(c.value=e[7]),T.$set(c);var f={};64&n&&(f.value=Ol(e[6])),N.$set(f);var d={};2&n&&(d.clientManager=e[1]),A.$set(d)},i:function(e){if(!M){eo(a.$$.fragment,e),eo(s.$$.fragment,e);for(var t=0;t<j.length;t+=1)eo(R[t]);eo(F),eo(B),eo(U),eo(T.$$.fragment,e),eo(N.$$.fragment,e),eo(A.$$.fragment,e),M=!0}},o:function(e){to(a.$$.fragment,e),to(s.$$.fragment,e),R=R.filter(Boolean);for(var t=0;t<R.length;t+=1)to(R[t]);to(F),to(B),to(U),to(T.$$.fragment,e),to(N.$$.fragment,e),to(A.$$.fragment,e),M=!1},d:function(e){e&&oi(t),so(a),e&&oi(i),e&&oi(o),so(s),e&&oi(f),e&&oi(d),ui(R,e),e&&oi(m),e&&oi(y),F&&F.d(),B&&B.d(),U&&U.d(),e&&oi(E),e&&oi(P),so(T),e&&oi($),e&&oi(C),so(N),e&&oi(D),so(A,e)}}}function Ol(e){var t={};for(var n in e)n.startsWith("_")||(t[n]=e[n]);return t}function Il(e,t,n){var r=t.client,a=t.clientManager,i=t.ToggleVisibility,o=function(e,t){var n,r={},a={},i=xl(t);try{for(i.s();!(n=i.n()).done;)a[n.value]=!0}catch(Ss){i.e(Ss)}finally{i.f()}var o=a,u=!0;for(var l in e){var c=l[0];if(o[c]){u=!1;break}o[c]=!0,r[l]=c}if(u)return r;o=a;var s=97;for(var f in r={},e){for(var d=String.fromCharCode(s);o[d];)s++,d=String.fromCharCode(s);o[d]=!0,r[f]=d}return r}(r.moves,"mlia"),u=r,l=u.playerID,c=u.moves,s=u.events,f={},d={};r.subscribe((function(e){var t,a;e&&n(7,(d=(t=e).G,f=t.ctx,t),d,n(6,f)),n(3,(l=(a=r).playerID,c=a.moves,s=a.events,a),l,n(4,c),n(5,s))}));return e.$$set=function(e){"client"in e&&n(0,r=e.client),"clientManager"in e&&n(1,a=e.clientManager),"ToggleVisibility"in e&&n(2,i=e.ToggleVisibility)},[r,a,i,l,c,s,f,d,o,function(e){return a.switchPlayerID(e.detail.playerID)}]}var Nl=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,Il,Cl,Ua,{client:0,clientManager:1,ToggleVisibility:2},El),r}return h(n)}(ho);function Dl(e){ti(e,"svelte-13qih23",".item.svelte-13qih23.svelte-13qih23{padding:10px}.item.svelte-13qih23.svelte-13qih23:not(:first-child){border-top:1px dashed #aaa}.item.svelte-13qih23 div.svelte-13qih23{float:right;text-align:right}")}function Al(e){var t,n,r,a,i,o,l=JSON.stringify(e[1])+"";return{c:function(){t=li("div"),n=li("strong"),r=si(e[0]),a=fi(),i=li("div"),o=si(l),vi(i,"class","svelte-13qih23"),vi(t,"class","item svelte-13qih23")},m:function(e,u){ii(e,t,u),ei(t,n),ei(n,r),ei(t,a),ei(t,i),ei(i,o)},p:function(e,t){var n=u(t,1)[0];1&n&&yi(r,e[0]),2&n&&l!==(l=JSON.stringify(e[1])+"")&&yi(o,l)},i:Ma,o:Ma,d:function(e){e&&oi(t)}}}function Ml(e,t,n){var r=t.name,a=t.value;return e.$$set=function(e){"name"in e&&n(0,r=e.name),"value"in e&&n(1,a=e.value)},[r,a]}var jl=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,Ml,Al,Ua,{name:0,value:1},Dl),r}return h(n)}(ho);function Rl(e){ti(e,"svelte-1yzq5o8",".gameinfo.svelte-1yzq5o8{padding:10px}")}function Ll(e){var t,n;return t=new jl({props:{name:"isConnected",value:e[1].isConnected}}),{c:function(){lo(t.$$.fragment)},m:function(e,r){co(t,e,r),n=!0},p:function(e,n){var r={};2&n&&(r.value=e[1].isConnected),t.$set(r)},i:function(e){n||(eo(t.$$.fragment,e),n=!0)},o:function(e){to(t.$$.fragment,e),n=!1},d:function(e){so(t,e)}}}function zl(e){var t,n,r,a,i,o,l,c;n=new jl({props:{name:"matchID",value:e[0].matchID}}),a=new jl({props:{name:"playerID",value:e[0].playerID}}),o=new jl({props:{name:"isActive",value:e[1].isActive}});var s=e[0].multiplayer&&Ll(e);return{c:function(){t=li("section"),lo(n.$$.fragment),r=fi(),lo(a.$$.fragment),i=fi(),lo(o.$$.fragment),l=fi(),s&&s.c(),vi(t,"class","gameinfo svelte-1yzq5o8")},m:function(e,u){ii(e,t,u),co(n,t,null),ei(t,r),co(a,t,null),ei(t,i),co(o,t,null),ei(t,l),s&&s.m(t,null),c=!0},p:function(e,r){var i=u(r,1)[0],l={};1&i&&(l.value=e[0].matchID),n.$set(l);var c={};1&i&&(c.value=e[0].playerID),a.$set(c);var f={};2&i&&(f.value=e[1].isActive),o.$set(f),e[0].multiplayer?s?(s.p(e,i),1&i&&eo(s,1)):((s=Ll(e)).c(),eo(s,1),s.m(t,null)):s&&(Xi(),to(s,1,1,(function(){s=null})),Zi())},i:function(e){c||(eo(n.$$.fragment,e),eo(a.$$.fragment,e),eo(o.$$.fragment,e),eo(s),c=!0)},o:function(e){to(n.$$.fragment,e),to(a.$$.fragment,e),to(o.$$.fragment,e),to(s),c=!1},d:function(e){e&&oi(t),so(n),so(a),so(o),s&&s.d()}}}function Fl(e,t,n){var r,a=Ma,i=function(){return a(),a=Va(o,(function(e){return n(1,r=e)})),o};e.$$.on_destroy.push((function(){return a()}));var o=t.client;i();var u=t.clientManager,l=t.ToggleVisibility;return e.$$set=function(e){"client"in e&&i(n(0,o=e.client)),"clientManager"in e&&n(2,u=e.clientManager),"ToggleVisibility"in e&&n(3,l=e.ToggleVisibility)},[o,r,u,l]}var Bl=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,Fl,zl,Ua,{client:0,clientManager:2,ToggleVisibility:3},Rl),r}return h(n)}(ho);function Ul(e){ti(e,"svelte-6eza86",".turn-marker.svelte-6eza86{display:flex;justify-content:center;align-items:center;grid-column:1;background:#555;color:#eee;text-align:center;font-weight:bold;border:1px solid #888}")}function Vl(e){var t,n;return{c:function(){t=li("div"),n=si(e[0]),vi(t,"class","turn-marker svelte-6eza86"),vi(t,"style",e[1])},m:function(e,r){ii(e,t,r),ei(t,n)},p:function(e,t){1&u(t,1)[0]&&yi(n,e[0])},i:Ma,o:Ma,d:function(e){e&&oi(t)}}}function ql(e,t,n){var r=t.turn,a=t.numEvents,i="grid-row: span ".concat(a);return e.$$set=function(e){"turn"in e&&n(0,r=e.turn),"numEvents"in e&&n(2,a=e.numEvents)},[r,i,a]}var Gl=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,ql,Vl,Ua,{turn:0,numEvents:2},Ul),r}return h(n)}(ho);function Wl(e){ti(e,"svelte-1t4xap",".phase-marker.svelte-1t4xap{grid-column:3;background:#555;border:1px solid #888;color:#eee;text-align:center;font-weight:bold;padding-top:10px;padding-bottom:10px;text-orientation:sideways;writing-mode:vertical-rl;line-height:30px;width:100%}")}function Hl(e){var t,n,r=(e[0]||"")+"";return{c:function(){t=li("div"),n=si(r),vi(t,"class","phase-marker svelte-1t4xap"),vi(t,"style",e[1])},m:function(e,r){ii(e,t,r),ei(t,n)},p:function(e,t){1&u(t,1)[0]&&r!==(r=(e[0]||"")+"")&&yi(n,r)},i:Ma,o:Ma,d:function(e){e&&oi(t)}}}function Kl(e,t,n){var r=t.phase,a=t.numEvents,i="grid-row: span ".concat(a);return e.$$set=function(e){"phase"in e&&n(0,r=e.phase),"numEvents"in e&&n(2,a=e.numEvents)},[r,i,a]}var Ql=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,Kl,Hl,Ua,{phase:0,numEvents:2},Wl),r}return h(n)}(ho);function Yl(e){var t;return{c:function(){(t=li("div")).textContent="".concat(e[0])},m:function(e,n){ii(e,t,n)},p:Ma,i:Ma,o:Ma,d:function(e){e&&oi(t)}}}function Jl(e,t,n){var r=t.metadata,a=void 0!==r?JSON.stringify(r,null,4):"";return e.$$set=function(e){"metadata"in e&&n(1,r=e.metadata)},[a,r]}var Xl=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,Jl,Yl,Ua,{metadata:1}),r}return h(n)}(ho);function Zl(e){ti(e,"svelte-vajd9z",".log-event.svelte-vajd9z{grid-column:2;cursor:pointer;overflow:hidden;display:flex;flex-direction:column;justify-content:center;background:#fff;border:1px dotted #ccc;border-left:5px solid #ccc;padding:5px;text-align:center;color:#666;font-size:14px;min-height:25px;line-height:25px}.log-event.svelte-vajd9z:hover,.log-event.svelte-vajd9z:focus{border-style:solid;background:#eee}.log-event.pinned.svelte-vajd9z{border-style:solid;background:#eee;opacity:1}.args.svelte-vajd9z{text-align:left;white-space:pre-wrap}.player0.svelte-vajd9z{border-left-color:#ff851b}.player1.svelte-vajd9z{border-left-color:#7fdbff}.player2.svelte-vajd9z{border-left-color:#0074d9}.player3.svelte-vajd9z{border-left-color:#39cccc}.player4.svelte-vajd9z{border-left-color:#3d9970}.player5.svelte-vajd9z{border-left-color:#2ecc40}.player6.svelte-vajd9z{border-left-color:#01ff70}.player7.svelte-vajd9z{border-left-color:#ffdc00}.player8.svelte-vajd9z{border-left-color:#001f3f}.player9.svelte-vajd9z{border-left-color:#ff4136}.player10.svelte-vajd9z{border-left-color:#85144b}.player11.svelte-vajd9z{border-left-color:#f012be}.player12.svelte-vajd9z{border-left-color:#b10dc9}.player13.svelte-vajd9z{border-left-color:#111111}.player14.svelte-vajd9z{border-left-color:#aaaaaa}.player15.svelte-vajd9z{border-left-color:#dddddd}")}function ec(e){var t,n;return t=new Xl({props:{metadata:e[2]}}),{c:function(){lo(t.$$.fragment)},m:function(e,r){co(t,e,r),n=!0},p:function(e,n){var r={};4&n&&(r.metadata=e[2]),t.$set(r)},i:function(e){n||(eo(t.$$.fragment,e),n=!0)},o:function(e){to(t.$$.fragment,e),n=!1},d:function(e){so(t,e)}}}function tc(e){var t,n,r,a=e[3];function i(e){return{props:{metadata:e[2]}}}return a&&(t=new a(i(e))),{c:function(){t&&lo(t.$$.fragment),n=di()},m:function(e,a){t&&co(t,e,a),ii(e,n,a),r=!0},p:function(e,r){var o={};if(4&r&&(o.metadata=e[2]),a!==(a=e[3])){if(t){Xi();var u=t;to(u.$$.fragment,1,0,(function(){so(u,1)})),Zi()}a?(lo((t=new a(i(e))).$$.fragment),eo(t.$$.fragment,1),co(t,n.parentNode,n)):t=null}else a&&t.$set(o)},i:function(e){r||(t&&eo(t.$$.fragment,e),r=!0)},o:function(e){t&&to(t.$$.fragment,e),r=!1},d:function(e){e&&oi(n),t&&so(t,e)}}}function nc(e){var t,n,r,a,i,o,l,c,s,f,d,p,h=[tc,ec],v=[];function m(e,t){return e[3]?0:1}return c=m(e),s=v[c]=h[c](e),{c:function(){t=li("button"),n=li("div"),r=si(e[4]),a=si("("),i=si(e[6]),o=si(")"),l=fi(),s.c(),vi(n,"class","args svelte-vajd9z"),vi(t,"class","log-event player"+e[7]+" svelte-vajd9z"),wi(t,"pinned",e[1])},m:function(u,s){ii(u,t,s),ei(t,n),ei(n,r),ei(n,a),ei(n,i),ei(n,o),ei(t,l),v[c].m(t,null),f=!0,d||(p=[pi(t,"click",e[9]),pi(t,"mouseenter",e[10]),pi(t,"focus",e[11]),pi(t,"mouseleave",e[12]),pi(t,"blur",e[13])],d=!0)},p:function(e,n){var a=u(n,1)[0];(!f||16&a)&&yi(r,e[4]);var i=c;(c=m(e))===i?v[c].p(e,a):(Xi(),to(v[i],1,1,(function(){v[i]=null})),Zi(),(s=v[c])?s.p(e,a):(s=v[c]=h[c](e)).c(),eo(s,1),s.m(t,null)),2&a&&wi(t,"pinned",e[1])},i:function(e){f||(eo(s),f=!0)},o:function(e){to(s),f=!1},d:function(e){e&&oi(t),v[c].d(),d=!1,Fa(p)}}}function rc(e,t,n){var r,a=t.logIndex,i=t.action,o=t.pinned,u=t.metadata,l=t.metadataComponent,c=Ni(),s=i.payload.args,f=Array.isArray(s)?s.map((function(e){return JSON.stringify(e,null,2)})).join(","):JSON.stringify(s,null,2)||"",d=i.payload.playerID;switch(i.type){case"UNDO":r="undo";break;case"REDO":r="redo";default:r=i.payload.type}return e.$$set=function(e){"logIndex"in e&&n(0,a=e.logIndex),"action"in e&&n(8,i=e.action),"pinned"in e&&n(1,o=e.pinned),"metadata"in e&&n(2,u=e.metadata),"metadataComponent"in e&&n(3,l=e.metadataComponent)},[a,o,u,l,r,c,f,d,i,function(){return c("click",{logIndex:a})},function(){return c("mouseenter",{logIndex:a})},function(){return c("mouseenter",{logIndex:a})},function(){return c("mouseleave")},function(){return c("mouseleave")}]}var ac=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,rc,nc,Ua,{logIndex:0,action:8,pinned:1,metadata:2,metadataComponent:3},Zl),r}return h(n)}(ho);function ic(e){var t;return{c:function(){vi(t=ci("path"),"d","M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zM212 140v116h-70.9c-10.7 0-16.1 13-8.5 20.5l114.9 114.3c4.7 4.7 12.2 4.7 16.9 0l114.9-114.3c7.6-7.6 2.2-20.5-8.5-20.5H300V140c0-6.6-5.4-12-12-12h-64c-6.6 0-12 5.4-12 12z")},m:function(e,n){ii(e,t,n)},d:function(e){e&&oi(t)}}}function oc(e){for(var t,n,r=[{viewBox:"0 0 512 512"},e[0]],a={$$slots:{default:[ic]},$$scope:{ctx:e}},i=0;i<r.length;i+=1)a=Ra(a,r[i]);return t=new Po({props:a}),{c:function(){lo(t.$$.fragment)},m:function(e,r){co(t,e,r),n=!0},p:function(e,n){var a=u(n,1)[0],i=1&a?oo(r,[r[0],uo(e[0])]):{};2&a&&(i.$$scope={dirty:a,ctx:e}),t.$set(i)},i:function(e){n||(eo(t.$$.fragment,e),n=!0)},o:function(e){to(t.$$.fragment,e),n=!1},d:function(e){so(t,e)}}}function uc(e,t,n){return e.$$set=function(e){n(0,t=Ra(Ra({},t),Wa(e)))},[t=Wa(t)]}var lc=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,uc,oc,Ua,{}),r}return h(n)}(ho);function cc(e){ti(e,"svelte-1a7time","div.svelte-1a7time{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;max-width:500px}")}function sc(e){var t,n;return{c:function(){t=li("div"),n=si(e[0]),vi(t,"alt",e[0]),vi(t,"class","svelte-1a7time")},m:function(e,r){ii(e,t,r),ei(t,n)},p:function(e,r){var a=u(r,1)[0];1&a&&yi(n,e[0]),1&a&&vi(t,"alt",e[0])},i:Ma,o:Ma,d:function(e){e&&oi(t)}}}function fc(e,t,n){var r,a=t.action;return e.$$set=function(e){"action"in e&&n(1,a=e.action)},e.$$.update=function(){if(2&e.$$.dirty){var t=a.payload,i=t.type,o=(t.args||[]).join(",");n(0,r="".concat(i,"(").concat(o,")"))}},[r,a]}var dc=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,fc,sc,Ua,{action:1},cc),r}return h(n)}(ho);function pc(e){ti(e,"svelte-ztcwsu","table.svelte-ztcwsu.svelte-ztcwsu{font-size:12px;border-collapse:collapse;border:1px solid #ddd;padding:0}tr.svelte-ztcwsu.svelte-ztcwsu{cursor:pointer}tr.svelte-ztcwsu:hover td.svelte-ztcwsu{background:#eee}tr.selected.svelte-ztcwsu td.svelte-ztcwsu{background:#eee}td.svelte-ztcwsu.svelte-ztcwsu{padding:10px;height:10px;line-height:10px;font-size:12px;border:none}th.svelte-ztcwsu.svelte-ztcwsu{background:#888;color:#fff;padding:10px;text-align:center}")}function hc(e,t,n){var r=e.slice();return r[10]=t[n],r[12]=n,r}function vc(e){var t,n,r,a,i,o,u,l,c,s,f,d,p,h=e[10].value+"",v=e[10].visits+"";function m(){return e[6](e[10],e[12])}function y(){return e[7](e[12])}function g(){return e[8](e[10],e[12])}return c=new dc({props:{action:e[10].parentAction}}),{c:function(){t=li("tr"),n=li("td"),r=si(h),a=fi(),i=li("td"),o=si(v),u=fi(),l=li("td"),lo(c.$$.fragment),s=fi(),vi(n,"class","svelte-ztcwsu"),vi(i,"class","svelte-ztcwsu"),vi(l,"class","svelte-ztcwsu"),vi(t,"class","svelte-ztcwsu"),wi(t,"clickable",e[1].length>0),wi(t,"selected",e[12]===e[0])},m:function(e,h){ii(e,t,h),ei(t,n),ei(n,r),ei(t,a),ei(t,i),ei(i,o),ei(t,u),ei(t,l),co(c,l,null),ei(t,s),f=!0,d||(p=[pi(t,"click",m),pi(t,"mouseout",y),pi(t,"mouseover",g)],d=!0)},p:function(n,a){e=n,(!f||2&a)&&h!==(h=e[10].value+"")&&yi(r,h),(!f||2&a)&&v!==(v=e[10].visits+"")&&yi(o,v);var i={};2&a&&(i.action=e[10].parentAction),c.$set(i),2&a&&wi(t,"clickable",e[1].length>0),1&a&&wi(t,"selected",e[12]===e[0])},i:function(e){f||(eo(c.$$.fragment,e),f=!0)},o:function(e){to(c.$$.fragment,e),f=!1},d:function(e){e&&oi(t),so(c),d=!1,Fa(p)}}}function mc(e){for(var t,n,r,a,i,o=e[1],l=[],c=0;c<o.length;c+=1)l[c]=vc(hc(e,o,c));var s=function(e){return to(l[e],1,1,(function(){l[e]=null}))};return{c:function(){t=li("table"),(n=li("thead")).innerHTML='<th class="svelte-ztcwsu">Value</th> \n    <th class="svelte-ztcwsu">Visits</th> \n    <th class="svelte-ztcwsu">Action</th>',r=fi(),a=li("tbody");for(var e=0;e<l.length;e+=1)l[e].c();vi(t,"class","svelte-ztcwsu")},m:function(e,o){ii(e,t,o),ei(t,n),ei(t,r),ei(t,a);for(var u=0;u<l.length;u+=1)l[u].m(a,null);i=!0},p:function(e,t){var n=u(t,1)[0];if(15&n){var r;for(o=e[1],r=0;r<o.length;r+=1){var i=hc(e,o,r);l[r]?(l[r].p(i,n),eo(l[r],1)):(l[r]=vc(i),l[r].c(),eo(l[r],1),l[r].m(a,null))}for(Xi(),r=o.length;r<l.length;r+=1)s(r);Zi()}},i:function(e){if(!i){for(var t=0;t<o.length;t+=1)eo(l[t]);i=!0}},o:function(e){l=l.filter(Boolean);for(var t=0;t<l.length;t+=1)to(l[t]);i=!1},d:function(e){e&&oi(t),ui(l,e)}}}function yc(e,t,n){var r=t.root,a=t.selectedIndex,i=void 0===a?null:a,u=Ni(),l=[],c=[];function s(e,t){u("select",{node:e,selectedIndex:t})}function f(e,t){null===i&&u("preview",{node:e})}return e.$$set=function(e){"root"in e&&n(4,r=e.root),"selectedIndex"in e&&n(0,i=e.selectedIndex)},e.$$.update=function(){if(48&e.$$.dirty){var t=r;for(n(5,l=[]);t.parent;){var a=t.parent,i=t.parentAction.payload,u=i.type,s=(i.args||[]).join(","),f="".concat(u,"(").concat(s,")");l.push({parent:a,arrowText:f}),t=a}l.reverse(),n(1,c=o(r.children).sort((function(e,t){return e.visits<t.visits?1:-1})).slice(0,50))}},[i,c,s,f,r,l,function(e,t){return s(e,t)},function(e){return f(null)},function(e,t){return f(e)}]}var gc=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,yc,mc,Ua,{root:4,selectedIndex:0},pc),r}return h(n)}(ho);function bc(e){ti(e,"svelte-1f0amz4",".visualizer.svelte-1f0amz4{display:flex;flex-direction:column;align-items:center;padding:50px}.preview.svelte-1f0amz4{opacity:0.5}.icon.svelte-1f0amz4{color:#777;width:32px;height:32px;margin-bottom:20px}")}function kc(e,t,n){var r=e.slice();return r[9]=t[n].node,r[10]=t[n].selectedIndex,r[12]=n,r}function wc(e){var t,n;return(t=new gc({props:{root:e[9],selectedIndex:e[10]}})).$on("select",(function(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e)[7].apply(t,[e[12]].concat(r))})),{c:function(){lo(t.$$.fragment)},m:function(e,r){co(t,e,r),n=!0},p:function(n,r){e=n;var a={};1&r&&(a.root=e[9]),1&r&&(a.selectedIndex=e[10]),t.$set(a)},i:function(e){n||(eo(t.$$.fragment,e),n=!0)},o:function(e){to(t.$$.fragment,e),n=!1},d:function(e){so(t,e)}}}function xc(e){var t,n;return(t=new gc({props:{root:e[9]}})).$on("select",(function(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e)[5].apply(t,[e[12]].concat(r))})),t.$on("preview",(function(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e)[6].apply(t,[e[12]].concat(r))})),{c:function(){lo(t.$$.fragment)},m:function(e,r){co(t,e,r),n=!0},p:function(n,r){e=n;var a={};1&r&&(a.root=e[9]),t.$set(a)},i:function(e){n||(eo(t.$$.fragment,e),n=!0)},o:function(e){to(t.$$.fragment,e),n=!1},d:function(e){so(t,e)}}}function Ec(e){var t,n,r,a,i,o=0!==e[12]&&function(e){var t,n,r;return n=new lc({}),{c:function(){t=li("div"),lo(n.$$.fragment),vi(t,"class","icon svelte-1f0amz4")},m:function(e,a){ii(e,t,a),co(n,t,null),r=!0},i:function(e){r||(eo(n.$$.fragment,e),r=!0)},o:function(e){to(n.$$.fragment,e),r=!1},d:function(e){e&&oi(t),so(n)}}}(),u=[xc,wc],l=[];function c(e,t){return e[12]===e[0].length-1?0:1}return r=c(e),a=l[r]=u[r](e),{c:function(){o&&o.c(),t=fi(),n=li("section"),a.c()},m:function(e,a){o&&o.m(e,a),ii(e,t,a),ii(e,n,a),l[r].m(n,null),i=!0},p:function(e,t){var i=r;(r=c(e))===i?l[r].p(e,t):(Xi(),to(l[i],1,1,(function(){l[i]=null})),Zi(),(a=l[r])?a.p(e,t):(a=l[r]=u[r](e)).c(),eo(a,1),a.m(n,null))},i:function(e){i||(eo(o),eo(a),i=!0)},o:function(e){to(o),to(a),i=!1},d:function(e){o&&o.d(e),e&&oi(t),e&&oi(n),l[r].d()}}}function Pc(e){var t,n,r,a,i,o;return n=new lc({}),i=new gc({props:{root:e[1]}}),{c:function(){t=li("div"),lo(n.$$.fragment),r=fi(),a=li("section"),lo(i.$$.fragment),vi(t,"class","icon svelte-1f0amz4"),vi(a,"class","preview svelte-1f0amz4")},m:function(e,u){ii(e,t,u),co(n,t,null),ii(e,r,u),ii(e,a,u),co(i,a,null),o=!0},p:function(e,t){var n={};2&t&&(n.root=e[1]),i.$set(n)},i:function(e){o||(eo(n.$$.fragment,e),eo(i.$$.fragment,e),o=!0)},o:function(e){to(n.$$.fragment,e),to(i.$$.fragment,e),o=!1},d:function(e){e&&oi(t),so(n),e&&oi(r),e&&oi(a),so(i)}}}function Sc(e){for(var t,n,r,a=e[0],i=[],o=0;o<a.length;o+=1)i[o]=Ec(kc(e,a,o));var l=function(e){return to(i[e],1,1,(function(){i[e]=null}))},c=e[1]&&Pc(e);return{c:function(){t=li("div");for(var e=0;e<i.length;e+=1)i[e].c();n=fi(),c&&c.c(),vi(t,"class","visualizer svelte-1f0amz4")},m:function(e,a){ii(e,t,a);for(var o=0;o<i.length;o+=1)i[o].m(t,null);ei(t,n),c&&c.m(t,null),r=!0},p:function(e,r){var o=u(r,1)[0];if(13&o){var s;for(a=e[0],s=0;s<a.length;s+=1){var f=kc(e,a,s);i[s]?(i[s].p(f,o),eo(i[s],1)):(i[s]=Ec(f),i[s].c(),eo(i[s],1),i[s].m(t,n))}for(Xi(),s=a.length;s<i.length;s+=1)l(s);Zi()}e[1]?c?(c.p(e,o),2&o&&eo(c,1)):((c=Pc(e)).c(),eo(c,1),c.m(t,null)):c&&(Xi(),to(c,1,1,(function(){c=null})),Zi())},i:function(e){if(!r){for(var t=0;t<a.length;t+=1)eo(i[t]);eo(c),r=!0}},o:function(e){i=i.filter(Boolean);for(var t=0;t<i.length;t+=1)to(i[t]);to(c),r=!1},d:function(e){e&&oi(t),ui(i,e),c&&c.d()}}}function _c(e,t,n){var r=t.metadata,a=[],i=null;function u(e,t){var r=e.node,u=e.selectedIndex;n(1,i=null),n(0,a[t].selectedIndex=u,a),n(0,a=[].concat(o(a.slice(0,t+1)),[{node:r}]))}function l(e,t){var r=e.node;n(1,i=r)}return e.$$set=function(e){"metadata"in e&&n(4,r=e.metadata)},e.$$.update=function(){16&e.$$.dirty&&n(0,a=[{node:r}])},[a,i,u,l,r,function(e,t){return u(t.detail,e)},function(e,t){return l(t.detail)},function(e,t){return u(t.detail,e)}]}var Tc=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,_c,Sc,Ua,{metadata:4},bc),r}return h(n)}(ho);function $c(e){ti(e,"svelte-1pq5e4b",".gamelog.svelte-1pq5e4b{display:grid;grid-template-columns:30px 1fr 30px;grid-auto-rows:auto;grid-auto-flow:column}")}function Cc(e,t,n){var r=e.slice();return r[16]=t[n].phase,r[18]=n,r}function Oc(e,t,n){var r=e.slice();return r[19]=t[n].action,r[20]=t[n].metadata,r[18]=n,r}function Ic(e,t,n){var r=e.slice();return r[22]=t[n].turn,r[18]=n,r}function Nc(e){var t,n;return t=new Gl({props:{turn:e[22],numEvents:e[3][e[18]]}}),{c:function(){lo(t.$$.fragment)},m:function(e,r){co(t,e,r),n=!0},p:function(e,n){var r={};2&n&&(r.turn=e[22]),8&n&&(r.numEvents=e[3][e[18]]),t.$set(r)},i:function(e){n||(eo(t.$$.fragment,e),n=!0)},o:function(e){to(t.$$.fragment,e),n=!1},d:function(e){so(t,e)}}}function Dc(e){var t,n,r=e[18]in e[3]&&Nc(e);return{c:function(){r&&r.c(),t=di()},m:function(e,a){r&&r.m(e,a),ii(e,t,a),n=!0},p:function(e,n){e[18]in e[3]?r?(r.p(e,n),8&n&&eo(r,1)):((r=Nc(e)).c(),eo(r,1),r.m(t.parentNode,t)):r&&(Xi(),to(r,1,1,(function(){r=null})),Zi())},i:function(e){n||(eo(r),n=!0)},o:function(e){to(r),n=!1},d:function(e){r&&r.d(e),e&&oi(t)}}}function Ac(e){var t,n;return(t=new ac({props:{pinned:e[18]===e[2],logIndex:e[18],action:e[19],metadata:e[20]}})).$on("click",e[5]),t.$on("mouseenter",e[6]),t.$on("mouseleave",e[7]),{c:function(){lo(t.$$.fragment)},m:function(e,r){co(t,e,r),n=!0},p:function(e,n){var r={};4&n&&(r.pinned=e[18]===e[2]),2&n&&(r.action=e[19]),2&n&&(r.metadata=e[20]),t.$set(r)},i:function(e){n||(eo(t.$$.fragment,e),n=!0)},o:function(e){to(t.$$.fragment,e),n=!1},d:function(e){so(t,e)}}}function Mc(e){var t,n;return t=new Ql({props:{phase:e[16],numEvents:e[4][e[18]]}}),{c:function(){lo(t.$$.fragment)},m:function(e,r){co(t,e,r),n=!0},p:function(e,n){var r={};2&n&&(r.phase=e[16]),16&n&&(r.numEvents=e[4][e[18]]),t.$set(r)},i:function(e){n||(eo(t.$$.fragment,e),n=!0)},o:function(e){to(t.$$.fragment,e),n=!1},d:function(e){so(t,e)}}}function jc(e){var t,n,r=e[18]in e[4]&&Mc(e);return{c:function(){r&&r.c(),t=di()},m:function(e,a){r&&r.m(e,a),ii(e,t,a),n=!0},p:function(e,n){e[18]in e[4]?r?(r.p(e,n),16&n&&eo(r,1)):((r=Mc(e)).c(),eo(r,1),r.m(t.parentNode,t)):r&&(Xi(),to(r,1,1,(function(){r=null})),Zi())},i:function(e){n||(eo(r),n=!0)},o:function(e){to(r),n=!1},d:function(e){r&&r.d(e),e&&oi(t)}}}function Rc(e){for(var t,n,r,a,i,o,l=e[1],c=[],s=0;s<l.length;s+=1)c[s]=Dc(Ic(e,l,s));for(var f=function(e){return to(c[e],1,1,(function(){c[e]=null}))},d=e[1],p=[],h=0;h<d.length;h+=1)p[h]=Ac(Oc(e,d,h));for(var v=function(e){return to(p[e],1,1,(function(){p[e]=null}))},m=e[1],y=[],g=0;g<m.length;g+=1)y[g]=jc(Cc(e,m,g));var b=function(e){return to(y[e],1,1,(function(){y[e]=null}))};return{c:function(){t=li("div");for(var a=0;a<c.length;a+=1)c[a].c();n=fi();for(var i=0;i<p.length;i+=1)p[i].c();r=fi();for(var o=0;o<y.length;o+=1)y[o].c();vi(t,"class","gamelog svelte-1pq5e4b"),wi(t,"pinned",e[2])},m:function(u,l){ii(u,t,l);for(var s=0;s<c.length;s+=1)c[s].m(t,null);ei(t,n);for(var f=0;f<p.length;f+=1)p[f].m(t,null);ei(t,r);for(var d=0;d<y.length;d+=1)y[d].m(t,null);a=!0,i||(o=pi(window,"keydown",e[8]),i=!0)},p:function(e,a){var i=u(a,1)[0];if(10&i){var o;for(l=e[1],o=0;o<l.length;o+=1){var s=Ic(e,l,o);c[o]?(c[o].p(s,i),eo(c[o],1)):(c[o]=Dc(s),c[o].c(),eo(c[o],1),c[o].m(t,n))}for(Xi(),o=l.length;o<c.length;o+=1)f(o);Zi()}if(230&i){var h;for(d=e[1],h=0;h<d.length;h+=1){var g=Oc(e,d,h);p[h]?(p[h].p(g,i),eo(p[h],1)):(p[h]=Ac(g),p[h].c(),eo(p[h],1),p[h].m(t,r))}for(Xi(),h=d.length;h<p.length;h+=1)v(h);Zi()}if(18&i){var k;for(m=e[1],k=0;k<m.length;k+=1){var w=Cc(e,m,k);y[k]?(y[k].p(w,i),eo(y[k],1)):(y[k]=jc(w),y[k].c(),eo(y[k],1),y[k].m(t,null))}for(Xi(),k=m.length;k<y.length;k+=1)b(k);Zi()}4&i&&wi(t,"pinned",e[2])},i:function(e){if(!a){for(var t=0;t<l.length;t+=1)eo(c[t]);for(var n=0;n<d.length;n+=1)eo(p[n]);for(var r=0;r<m.length;r+=1)eo(y[r]);a=!0}},o:function(e){c=c.filter(Boolean);for(var t=0;t<c.length;t+=1)to(c[t]);p=p.filter(Boolean);for(var n=0;n<p.length;n+=1)to(p[n]);y=y.filter(Boolean);for(var r=0;r<y.length;r+=1)to(y[r]);a=!1},d:function(e){e&&oi(t),ui(c,e),ui(p,e),ui(y,e),i=!1,o()}}}function Lc(e,t,n){var r,a=Ma,i=function(){return a(),a=Va(o,(function(e){return n(10,r=e)})),o};e.$$.on_destroy.push((function(){return a()}));var o=t.client;i();var u,l=Ai("secondaryPane").secondaryPane,c=Qt({game:o.game}),s=o.getInitialState(),f=r.log,d=null;function p(e){for(var t=s,n=0;n<f.length;n++){var r=f[n],a=r.action;if(!r.automatic){if(t=c(t,a),0==e)break;e--}}return{G:t.G,ctx:t.ctx,plugins:t.plugins}}function h(){n(2,d=null),o.overrideGameState(null),l.set(null)}Ii(h);var v={},m={};return e.$$set=function(e){"client"in e&&i(n(0,o=e.client))},e.$$.update=function(){if(1538&e.$$.dirty){n(9,f=r.log),n(1,u=f.filter((function(e){return!e.automatic})));var t=0,a=0;n(3,v={}),n(4,m={});for(var i=0;i<u.length;i++){var o=u[i],l=(o.action,o.payload,o.turn),c=o.phase;a++,t++,i!=u.length-1&&u[i+1].turn==l||(n(3,v[i]=a,v),a=0),i!=u.length-1&&u[i+1].phase==c||(n(4,m[i]=t,m),t=0)}}},[o,u,d,v,m,function(e){var t=e.detail.logIndex,r=p(t),a=f.filter((function(e){return!e.automatic}));if(o.overrideGameState(r),d==t)n(2,d=null),l.set(null);else{n(2,d=t);var i=a[t].action.payload.metadata;i&&l.set({component:Tc,metadata:i})}},function(e){var t=e.detail.logIndex;if(null===d){var n=p(t);o.overrideGameState(n)}},function(){null===d&&o.overrideGameState(null)},function(e){27==e.keyCode&&h()},f,r]}var zc=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,Lc,Rc,Ua,{client:0},$c),r}return h(n)}(ho);function Fc(e){ti(e,"svelte-1fu900w","label.svelte-1fu900w{color:#666}.option.svelte-1fu900w{margin-bottom:20px}.value.svelte-1fu900w{font-weight:bold;color:#000}input[type='checkbox'].svelte-1fu900w{vertical-align:middle}")}function Bc(e,t,n){var r=e.slice();return r[6]=t[n][0],r[7]=t[n][1],r[8]=t,r[9]=n,r}function Uc(e){var t,n,r,a;function i(){e[5].call(t,e[6])}return{c:function(){vi(t=li("input"),"id",n=e[3](e[6])),vi(t,"type","checkbox"),vi(t,"class","svelte-1fu900w")},m:function(n,o){ii(n,t,o),t.checked=e[1][e[6]],r||(a=[pi(t,"change",i),pi(t,"change",e[2])],r=!0)},p:function(r,a){e=r,1&a&&n!==(n=e[3](e[6]))&&vi(t,"id",n),3&a&&(t.checked=e[1][e[6]])},d:function(e){e&&oi(t),r=!1,Fa(a)}}}function Vc(e){var t,n,r,a,i,o,u,l,c,s=e[1][e[6]]+"";function f(){e[4].call(a,e[6])}return{c:function(){t=li("span"),n=si(s),r=fi(),a=li("input"),vi(t,"class","value svelte-1fu900w"),vi(a,"id",i=e[3](e[6])),vi(a,"type","range"),vi(a,"min",o=e[7].range.min),vi(a,"max",u=e[7].range.max)},m:function(i,o){ii(i,t,o),ei(t,n),ii(i,r,o),ii(i,a,o),gi(a,e[1][e[6]]),l||(c=[pi(a,"change",f),pi(a,"input",f),pi(a,"change",e[2])],l=!0)},p:function(t,r){e=t,3&r&&s!==(s=e[1][e[6]]+"")&&yi(n,s),1&r&&i!==(i=e[3](e[6]))&&vi(a,"id",i),1&r&&o!==(o=e[7].range.min)&&vi(a,"min",o),1&r&&u!==(u=e[7].range.max)&&vi(a,"max",u),3&r&&gi(a,e[1][e[6]])},d:function(e){e&&oi(t),e&&oi(r),e&&oi(a),l=!1,Fa(c)}}}function qc(e){var t,n,r,a,i,o,u=e[6]+"";function l(e,t){return e[7].range?Vc:"boolean"===typeof e[7].value?Uc:void 0}var c=l(e),s=c&&c(e);return{c:function(){t=li("div"),n=li("label"),r=si(u),i=fi(),s&&s.c(),o=fi(),vi(n,"for",a=e[3](e[6])),vi(n,"class","svelte-1fu900w"),vi(t,"class","option svelte-1fu900w")},m:function(e,a){ii(e,t,a),ei(t,n),ei(n,r),ei(t,i),s&&s.m(t,null),ei(t,o)},p:function(e,i){1&i&&u!==(u=e[6]+"")&&yi(r,u),1&i&&a!==(a=e[3](e[6]))&&vi(n,"for",a),c===(c=l(e))&&s?s.p(e,i):(s&&s.d(1),(s=c&&c(e))&&(s.c(),s.m(t,o)))},d:function(e){e&&oi(t),s&&s.d()}}}function Gc(e){for(var t,n=Object.entries(e[0].opts()),r=[],a=0;a<n.length;a+=1)r[a]=qc(Bc(e,n,a));return{c:function(){for(var e=0;e<r.length;e+=1)r[e].c();t=di()},m:function(e,n){for(var a=0;a<r.length;a+=1)r[a].m(e,n);ii(e,t,n)},p:function(e,a){var i=u(a,1)[0];if(15&i){var o;for(n=Object.entries(e[0].opts()),o=0;o<n.length;o+=1){var l=Bc(e,n,o);r[o]?r[o].p(l,i):(r[o]=qc(l),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},i:Ma,o:Ma,d:function(e){ui(r,e),e&&oi(t)}}}function Wc(e,t,n){for(var r=t.bot,a={},i=0,o=Object.entries(r.opts());i<o.length;i++){var l=u(o[i],2),c=l[0],s=l[1];a[c]=s.value}return e.$$set=function(e){"bot"in e&&n(0,r=e.bot)},[r,a,function(){for(var e=0,t=Object.entries(a);e<t.length;e++){var n=u(t[e],2),i=n[0],o=n[1];r.setOpt(i,o)}},function(e){return"ai-option-"+e},function(e){a[e]=function(e){return""===e?null:+e}(this.value),n(1,a),n(0,r)},function(e){a[e]=this.checked,n(1,a),n(0,r)}]}var Hc=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,Wc,Gc,Ua,{bot:0},Fc),r}return h(n)}(ho);function Kc(e){ti(e,"svelte-lifdi8","ul.svelte-lifdi8{padding-left:0}li.svelte-lifdi8{list-style:none;margin:none;margin-bottom:5px}h3.svelte-lifdi8{text-transform:uppercase}label.svelte-lifdi8{color:#666}input[type='checkbox'].svelte-lifdi8{vertical-align:middle}")}function Qc(e,t,n){var r=e.slice();return r[7]=t[n],r}function Yc(e){var t,n,r;return{c:function(){(t=li("p")).textContent="No bots available.",n=fi(),(r=li("p")).innerHTML='Follow the instructions\n        <a href="https://boardgame.io/documentation/#/tutorial?id=bots" target="_blank">here</a>\n        to set up bots.'},m:function(e,a){ii(e,t,a),ii(e,n,a),ii(e,r,a)},p:Ma,i:Ma,o:Ma,d:function(e){e&&oi(t),e&&oi(n),e&&oi(r)}}}function Jc(e){var t;return{c:function(){(t=li("p")).textContent="The bot debugger is only available in singleplayer mode."},m:function(e,n){ii(e,t,n)},p:Ma,i:Ma,o:Ma,d:function(e){e&&oi(t)}}}function Xc(e){var t,n,r,a,i,o,u,l,c,s,f,d,p,h,v,m,y,g,b,k,w,x,E,P=Object.keys(e[7].opts()).length;o=new el({props:{value:"1",onPress:e[13],label:"reset"}}),c=new el({props:{value:"2",onPress:e[11],label:"play"}}),d=new el({props:{value:"3",onPress:e[12],label:"simulate"}});for(var S=Object.keys(e[8]),_=[],T=0;T<S.length;T+=1)_[T]=Zc(Qc(e,S,T));var $=P&&es(e),C=(e[5]||e[3])&&ts(e);return{c:function(){t=li("section"),(n=li("h3")).textContent="Controls",r=fi(),a=li("ul"),i=li("li"),lo(o.$$.fragment),u=fi(),l=li("li"),lo(c.$$.fragment),s=fi(),f=li("li"),lo(d.$$.fragment),p=fi(),h=li("section"),(v=li("h3")).textContent="Bot",m=fi(),y=li("select");for(var w=0;w<_.length;w+=1)_[w].c();g=fi(),$&&$.c(),b=fi(),C&&C.c(),k=di(),vi(n,"class","svelte-lifdi8"),vi(i,"class","svelte-lifdi8"),vi(l,"class","svelte-lifdi8"),vi(f,"class","svelte-lifdi8"),vi(a,"class","svelte-lifdi8"),vi(v,"class","svelte-lifdi8"),void 0===e[4]&&Ui((function(){return e[17].call(y)}))},m:function(P,S){ii(P,t,S),ei(t,n),ei(t,r),ei(t,a),ei(a,i),co(o,i,null),ei(a,u),ei(a,l),co(c,l,null),ei(a,s),ei(a,f),co(d,f,null),ii(P,p,S),ii(P,h,S),ei(h,v),ei(h,m),ei(h,y);for(var T=0;T<_.length;T+=1)_[T].m(y,null);bi(y,e[4]),ii(P,g,S),$&&$.m(P,S),ii(P,b,S),C&&C.m(P,S),ii(P,k,S),w=!0,x||(E=[pi(y,"change",e[17]),pi(y,"change",e[10])],x=!0)},p:function(e,t){if(256&t){var n;for(S=Object.keys(e[8]),n=0;n<S.length;n+=1){var r=Qc(e,S,n);_[n]?_[n].p(r,t):(_[n]=Zc(r),_[n].c(),_[n].m(y,null))}for(;n<_.length;n+=1)_[n].d(1);_.length=S.length}272&t&&bi(y,e[4]),128&t&&(P=Object.keys(e[7].opts()).length),P?$?($.p(e,t),128&t&&eo($,1)):(($=es(e)).c(),eo($,1),$.m(b.parentNode,b)):$&&(Xi(),to($,1,1,(function(){$=null})),Zi()),e[5]||e[3]?C?C.p(e,t):((C=ts(e)).c(),C.m(k.parentNode,k)):C&&(C.d(1),C=null)},i:function(e){w||(eo(o.$$.fragment,e),eo(c.$$.fragment,e),eo(d.$$.fragment,e),eo($),w=!0)},o:function(e){to(o.$$.fragment,e),to(c.$$.fragment,e),to(d.$$.fragment,e),to($),w=!1},d:function(e){e&&oi(t),so(o),so(c),so(d),e&&oi(p),e&&oi(h),ui(_,e),e&&oi(g),$&&$.d(e),e&&oi(b),C&&C.d(e),e&&oi(k),x=!1,Fa(E)}}}function Zc(e){var t,n,r=e[7]+"";return{c:function(){t=li("option"),n=si(r),t.__value=e[7],t.value=t.__value},m:function(e,r){ii(e,t,r),ei(t,n)},p:Ma,d:function(e){e&&oi(t)}}}function es(e){var t,n,r,a,i,o,u,l,c,s,f;return l=new Hc({props:{bot:e[7]}}),{c:function(){t=li("section"),(n=li("h3")).textContent="Options",r=fi(),(a=li("label")).textContent="debug",i=fi(),o=li("input"),u=fi(),lo(l.$$.fragment),vi(n,"class","svelte-lifdi8"),vi(a,"for","ai-option-debug"),vi(a,"class","svelte-lifdi8"),vi(o,"id","ai-option-debug"),vi(o,"type","checkbox"),vi(o,"class","svelte-lifdi8")},m:function(d,p){ii(d,t,p),ei(t,n),ei(t,r),ei(t,a),ei(t,i),ei(t,o),o.checked=e[1],ei(t,u),co(l,t,null),c=!0,s||(f=[pi(o,"change",e[18]),pi(o,"change",e[9])],s=!0)},p:function(e,t){2&t&&(o.checked=e[1]);var n={};128&t&&(n.bot=e[7]),l.$set(n)},i:function(e){c||(eo(l.$$.fragment,e),c=!0)},o:function(e){to(l.$$.fragment,e),c=!1},d:function(e){e&&oi(t),so(l),s=!1,Fa(f)}}}function ts(e){var t,n,r,a,i=e[2]&&e[2]<1&&ns(e),o=e[5]&&rs(e);return{c:function(){t=li("section"),(n=li("h3")).textContent="Result",r=fi(),i&&i.c(),a=fi(),o&&o.c(),vi(n,"class","svelte-lifdi8")},m:function(e,u){ii(e,t,u),ei(t,n),ei(t,r),i&&i.m(t,null),ei(t,a),o&&o.m(t,null)},p:function(e,n){e[2]&&e[2]<1?i?i.p(e,n):((i=ns(e)).c(),i.m(t,a)):i&&(i.d(1),i=null),e[5]?o?o.p(e,n):((o=rs(e)).c(),o.m(t,null)):o&&(o.d(1),o=null)},d:function(e){e&&oi(t),i&&i.d(),o&&o.d()}}}function ns(e){var t;return{c:function(){(t=li("progress")).value=e[2]},m:function(e,n){ii(e,t,n)},p:function(e,n){4&n&&(t.value=e[2])},d:function(e){e&&oi(t)}}}function rs(e){var t,n,r,a,i,o,u,l,c=JSON.stringify(e[6])+"";return{c:function(){t=li("ul"),n=li("li"),r=si("Action: "),a=si(e[5]),i=fi(),o=li("li"),u=si("Args: "),l=si(c),vi(n,"class","svelte-lifdi8"),vi(o,"class","svelte-lifdi8"),vi(t,"class","svelte-lifdi8")},m:function(e,c){ii(e,t,c),ei(t,n),ei(n,r),ei(n,a),ei(t,i),ei(t,o),ei(o,u),ei(o,l)},p:function(e,t){32&t&&yi(a,e[5]),64&t&&c!==(c=JSON.stringify(e[6])+"")&&yi(l,c)},d:function(e){e&&oi(t)}}}function as(e){var t,n,r,a,i,o,l=[Xc,Jc,Yc],c=[];function s(e,t){return e[0].game.ai&&!e[0].multiplayer?0:e[0].multiplayer?1:2}return n=s(e),r=c[n]=l[n](e),{c:function(){t=li("section"),r.c()},m:function(r,u){ii(r,t,u),c[n].m(t,null),a=!0,i||(o=pi(window,"keydown",e[14]),i=!0)},p:function(e,a){var i=u(a,1)[0],o=n;(n=s(e))===o?c[n].p(e,i):(Xi(),to(c[o],1,1,(function(){c[o]=null})),Zi(),(r=c[n])?r.p(e,i):(r=c[n]=l[n](e)).c(),eo(r,1),r.m(t,null))},i:function(e){a||(eo(r),a=!0)},o:function(e){to(r),a=!1},d:function(e){e&&oi(t),c[n].d(),i=!1,o()}}}function is(e,t,n){var r,a,i,o,u=t.client,l=t.clientManager,c=t.ToggleVisibility,s=Ai("secondaryPane").secondaryPane,f={MCTS:En,Random:Pn},d=!1,p=null,h=0,v=null,m=function(e){var t=e.iterationCounter,r=e.numIterations,a=e.metadata;n(3,h=t),n(2,p=t/r),v=a,d&&v&&s.set({component:Tc,metadata:v})};function y(){return y=ht(dt().mark((function e(){var t;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(5,i=null),v=null,n(3,h=0),e.next=5,Sn(u,r);case 5:(t=e.sent)&&(n(5,i=t.payload.type),n(6,o=t.payload.args));case 7:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function g(){u.overrideGameState(null),s.set(null),n(1,d=!1)}return u.game.ai&&(r=new En({game:u.game,enumerate:u.game.ai.enumerate,iterationCallback:m})).setOpt("async",!0),Ii(g),e.$$set=function(e){"client"in e&&n(0,u=e.client),"clientManager"in e&&n(15,l=e.clientManager),"ToggleVisibility"in e&&n(16,c=e.ToggleVisibility)},[u,d,p,h,a,i,o,r,f,function(){d&&v?s.set({component:Tc,metadata:v}):s.set(null)},function(){n(7,r=new(0,f[a])({game:u.game,enumerate:u.game.ai.enumerate,iterationCallback:m})),r.setOpt("async",!0),n(5,i=null),v=null,s.set(null),n(3,h=0)},function(){return y.apply(this,arguments)},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;n(5,i=null),v=null,n(3,h=0);var a=function(){var n=ht(dt().mark((function n(){var a;return dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=0;case 1:if(!(a<e)){n.next=12;break}return n.next=4,Sn(u,r);case 4:if(n.sent){n.next=7;break}return n.abrupt("break",12);case 7:return n.next=9,new Promise((function(e){return setTimeout(e,t)}));case 9:a++,n.next=1;break;case 12:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return a()},function(){u.reset(),n(5,i=null),v=null,n(3,h=0),g()},function(e){27==e.keyCode&&g()},l,c,function(){a=ki(this),n(4,a),n(8,f)},function(){d=this.checked,n(1,d)}]}var os=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,is,as,Ua,{client:0,clientManager:15,ToggleVisibility:16},Kc),r}return h(n)}(ho);function us(e){ti(e,"svelte-8ymctk",".debug-panel.svelte-8ymctk.svelte-8ymctk{position:fixed;color:#555;font-family:monospace;right:0;top:0;height:100%;font-size:14px;opacity:0.9;z-index:99999}.panel.svelte-8ymctk.svelte-8ymctk{display:flex;position:relative;flex-direction:row;height:100%}.visibility-toggle.svelte-8ymctk.svelte-8ymctk{position:absolute;box-sizing:border-box;top:7px;border:1px solid #ccc;border-radius:5px;width:48px;height:48px;padding:8px;background:white;color:#555;box-shadow:0 0 5px rgba(0, 0, 0, 0.2)}.visibility-toggle.svelte-8ymctk.svelte-8ymctk:hover,.visibility-toggle.svelte-8ymctk.svelte-8ymctk:focus{background:#eee}.opener.svelte-8ymctk.svelte-8ymctk{right:10px}.closer.svelte-8ymctk.svelte-8ymctk{left:-326px}@keyframes svelte-8ymctk-rotateFromZero{from{transform:rotateZ(0deg)}to{transform:rotateZ(180deg)}}.icon.svelte-8ymctk.svelte-8ymctk{display:flex;height:100%;animation:svelte-8ymctk-rotateFromZero 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55) 0s 1\n      normal forwards}.closer.svelte-8ymctk .icon.svelte-8ymctk{animation-direction:reverse}.pane.svelte-8ymctk.svelte-8ymctk{flex-grow:2;overflow-x:hidden;overflow-y:scroll;background:#fefefe;padding:20px;border-left:1px solid #ccc;box-shadow:-1px 0 5px rgba(0, 0, 0, 0.2);box-sizing:border-box;width:280px}.secondary-pane.svelte-8ymctk.svelte-8ymctk{background:#fefefe;overflow-y:scroll}.debug-panel.svelte-8ymctk button,.debug-panel.svelte-8ymctk select{cursor:pointer;font-size:14px;font-family:monospace}.debug-panel.svelte-8ymctk select{background:#eee;border:1px solid #bbb;color:#555;padding:3px;border-radius:3px}.debug-panel.svelte-8ymctk section{margin-bottom:20px}.debug-panel.svelte-8ymctk .screen-reader-only{clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}")}function ls(e){var t,n,r,a,i,o,u,l,c,f=e[10]&&function(e){var t,n,r,a,i,o,u,l;return r=new $o({}),{c:function(){t=li("button"),n=li("span"),lo(r.$$.fragment),vi(n,"class","icon svelte-8ymctk"),vi(n,"aria-hidden","true"),vi(t,"class","visibility-toggle closer svelte-8ymctk"),vi(t,"title","Hide Debug Panel")},m:function(a,i){ii(a,t,i),ei(t,n),co(r,n,null),o=!0,u||(l=pi(t,"click",e[9]),u=!0)},p:Ma,i:function(n){o||(eo(r.$$.fragment,n),Ui((function(){i&&i.end(1),(a=ro(t,e[14],{key:"toggle"})).start()})),o=!0)},o:function(n){to(r.$$.fragment,n),a&&a.invalidate(),i=ao(t,e[13],{key:"toggle"}),o=!1},d:function(e){e&&oi(t),so(r),e&&i&&i.end(),u=!1,l()}}}(e);(r=new Ao({props:{panes:e[6],pane:e[2]}})).$on("change",e[8]);var d=e[6][e[2]].component;function p(e){return{props:{client:e[4],clientManager:e[0],ToggleVisibility:e[9]}}}d&&(o=new d(p(e)));var h=e[5]&&ss(e);return{c:function(){t=li("div"),f&&f.c(),n=fi(),lo(r.$$.fragment),a=fi(),i=li("div"),o&&lo(o.$$.fragment),u=fi(),h&&h.c(),vi(i,"class","pane svelte-8ymctk"),vi(i,"role","region"),vi(i,"aria-label",e[2]),vi(i,"tabindex","-1"),vi(t,"class","panel svelte-8ymctk")},m:function(l,s){ii(l,t,s),f&&f.m(t,null),ei(t,n),co(r,t,null),ei(t,a),ei(t,i),o&&co(o,i,null),e[16](i),ei(t,u),h&&h.m(t,null),c=!0},p:function(n,a){(e=n)[10]&&f.p(e,a);var u={};4&a&&(u.pane=e[2]),r.$set(u);var l={};if(16&a&&(l.client=e[4]),1&a&&(l.clientManager=e[0]),d!==(d=e[6][e[2]].component)){if(o){Xi();var s=o;to(s.$$.fragment,1,0,(function(){so(s,1)})),Zi()}d?(lo((o=new d(p(e))).$$.fragment),eo(o.$$.fragment,1),co(o,i,null)):o=null}else d&&o.$set(l);(!c||4&a)&&vi(i,"aria-label",e[2]),e[5]?h?(h.p(e,a),32&a&&eo(h,1)):((h=ss(e)).c(),eo(h,1),h.m(t,null)):h&&(Xi(),to(h,1,1,(function(){h=null})),Zi())},i:function(n){c||(eo(f),eo(r.$$.fragment,n),o&&eo(o.$$.fragment,n),eo(h),Ui((function(){l||(l=io(t,go,s({x:400},e[12]),!0)),l.run(1)})),c=!0)},o:function(n){to(f),to(r.$$.fragment,n),o&&to(o.$$.fragment,n),to(h),l||(l=io(t,go,s({x:400},e[12]),!1)),l.run(0),c=!1},d:function(n){n&&oi(t),f&&f.d(),so(r),o&&so(o),e[16](null),h&&h.d(),n&&l&&l.end()}}}function cs(e){var t,n,r=e[10]&&function(e){var t,n,r,a,i,o,u,l;return r=new $o({}),{c:function(){t=li("button"),n=li("span"),lo(r.$$.fragment),vi(n,"class","icon svelte-8ymctk"),vi(n,"aria-hidden","true"),vi(t,"class","visibility-toggle opener svelte-8ymctk"),vi(t,"title","Show Debug Panel")},m:function(a,i){ii(a,t,i),ei(t,n),co(r,n,null),o=!0,u||(l=pi(t,"click",e[9]),u=!0)},p:Ma,i:function(n){o||(eo(r.$$.fragment,n),Ui((function(){i&&i.end(1),(a=ro(t,e[14],{key:"toggle"})).start()})),o=!0)},o:function(n){to(r.$$.fragment,n),a&&a.invalidate(),i=ao(t,e[13],{key:"toggle"}),o=!1},d:function(e){e&&oi(t),so(r),e&&i&&i.end(),u=!1,l()}}}(e);return{c:function(){r&&r.c(),t=di()},m:function(e,a){r&&r.m(e,a),ii(e,t,a),n=!0},p:function(e,t){e[10]&&r.p(e,t)},i:function(e){n||(eo(r),n=!0)},o:function(e){to(r),n=!1},d:function(e){r&&r.d(e),e&&oi(t)}}}function ss(e){var t,n,r,a=e[5].component;function i(e){return{props:{metadata:e[5].metadata}}}return a&&(n=new a(i(e))),{c:function(){t=li("div"),n&&lo(n.$$.fragment),vi(t,"class","secondary-pane svelte-8ymctk")},m:function(e,a){ii(e,t,a),n&&co(n,t,null),r=!0},p:function(e,r){var o={};if(32&r&&(o.metadata=e[5].metadata),a!==(a=e[5].component)){if(n){Xi();var u=n;to(u.$$.fragment,1,0,(function(){so(u,1)})),Zi()}a?(lo((n=new a(i(e))).$$.fragment),eo(n.$$.fragment,1),co(n,t,null)):n=null}else a&&n.$set(o)},i:function(e){r||(n&&eo(n.$$.fragment,e),r=!0)},o:function(e){n&&to(n.$$.fragment,e),r=!1},d:function(e){e&&oi(t),n&&so(n)}}}function fs(e){var t,n,r,a,i,o,l=[cs,ls],c=[];function s(e,t){return e[3]?1:0}return n=s(e),r=c[n]=l[n](e),{c:function(){t=li("section"),r.c(),vi(t,"aria-label","boardgame.io Debug Panel"),vi(t,"class","debug-panel svelte-8ymctk")},m:function(r,u){ii(r,t,u),c[n].m(t,null),a=!0,i||(o=pi(window,"keypress",e[11]),i=!0)},p:function(e,a){var i=u(a,1)[0],o=n;(n=s(e))===o?c[n].p(e,i):(Xi(),to(c[o],1,1,(function(){c[o]=null})),Zi(),(r=c[n])?r.p(e,i):(r=c[n]=l[n](e)).c(),eo(r,1),r.m(t,null))},i:function(e){a||(eo(r),a=!0)},o:function(e){to(r),a=!1},d:function(e){e&&oi(t),c[n].d(),i=!1,o()}}}function ds(e,t,n){var r,a,i,o=Ma,l=function(){return o(),o=Va(c,(function(e){return n(15,a=e)})),c};e.$$.on_destroy.push((function(){return o()}));var c=t.clientManager;l();var s,f={main:{label:"Main",shortcut:"m",component:Nl},log:{label:"Log",shortcut:"l",component:zc},info:{label:"Info",shortcut:"i",component:Bl},ai:{label:"AI",shortcut:"a",component:os}},d=mo(!1),p=mo(null);qa(e,p,(function(e){return n(5,i=e)})),Di("hotkeys",{disableHotkeys:d}),Di("secondaryPane",{secondaryPane:p});var h="main";function v(){n(3,y=!y)}var m=a.client.debugOpt,y=!m||!m.collapseOnLoad,g=!m||!m.hideToggleButton;var b={duration:150,easing:yo},k=u(bo(b),2),w=k[0],x=k[1];return e.$$set=function(e){"clientManager"in e&&l(n(0,c=e.clientManager))},e.$$.update=function(){32768&e.$$.dirty&&n(4,r=a.client)},[c,s,h,y,r,i,f,p,function(e){n(2,h=e.detail),s.focus()},v,g,function(e){"."!=e.key?y&&Object.entries(f).forEach((function(t){var r=u(t,2),a=r[0],i=r[1].shortcut;e.key==i&&n(2,h=a)})):v()},b,w,x,a,function(e){Ri[e?"unshift":"push"]((function(){n(1,s=e)}))}]}var ps=function(e){mt(n,e);var t=wt(n);function n(e){var r;return d(this,n),po(bt(r=t.call(this)),e,ds,fs,Ua,{clientManager:0},us),r}return h(n)}(ho),hs=n(184),vs=function(e){var t=e.chosen,n=e.contents;return t?(0,hs.jsx)("div",{className:"door chosen",children:n}):(0,hs.jsx)("div",{className:"door",children:n})},ms=function(e){var t=e.chosen,n=e.contents,r=e.isOpen,a=e.onClick;return r?(0,hs.jsx)(vs,{chosen:t,contents:n}):t?(0,hs.jsx)("div",{className:"door closed-door chosen",onClick:a}):(0,hs.jsx)("div",{className:"door closed-door",onClick:a})},ys=function(e,t){return t?"You ".concat(t.winner?"Win":"Lose","!"):"finalChoice"===e?"Keep your door or switch?":"Pick a door"},gs=function(e){var t=e.G.doors,n=e.moves.chooseDoor,r=e.ctx,a=r.gameover,i=r.phase;return(0,hs.jsxs)("main",{className:"board",children:[(0,hs.jsxs)("h1",{className:"game-message",children:[ys(i,a),"\xa0"]}),(0,hs.jsx)("div",{className:"doors",children:t.map((function(e,t){return(0,hs.jsx)(ms,s(s({},e),{},{onClick:function(){return n(t)}}),t)}))})]})},bs=function(e,t){return Math.floor(e.random.Number()*t.length)},ks=function(e){var t=Array(3).fill({}).map((function(){return{contents:"goat",isOpen:!1,chosen:!1}}));return t[bs(e,t)].contents="car",t},ws=function(e){var t=e.chosen,n=e.contents,r=e.isOpen;return r?{chosen:t,contents:n,isOpen:r}:{chosen:t,isOpen:r}},xs={seed:Date.now(),setup:function(e){return{doors:ks(e)}},playerView:function(e){return{doors:e.doors.map(ws)}},phases:{initialChoice:{start:!0,moves:{chooseDoor:function(e,t,n){e.doors[n].chosen=!0,t.events.endPhase()}},next:"finalChoice"},finalChoice:{onBegin:function(e,t){var n=function(e){return e.filter((function(e){return!e.chosen&&"goat"===e.contents}))}(e.doors);n[bs(t,n)].isOpen=!0},moves:{chooseDoor:function(e,t,n){if(e.doors[n].isOpen)return Ue;e.doors.forEach((function(e){return e.chosen=!1})),e.doors[n].chosen=!0,e.doors[n].isOpen=!0,t.events.endGame({winner:"car"===e.doors[n].contents})}}}},ai:{enumerate:function(e,t){var n=[];return e.doors.forEach((function(e,t){e.isOpen||n.push({move:"chooseDoor",args:[t]})})),n}}},Es=$a({game:xs,board:gs,numPlayers:1,ai:{enumerate:function(e){var t=[];return e.doors.forEach((function(e,n){e.isOpen||t.push({move:"chooseDoor",args:[n]})})),t}},debug:{impl:ps}}),Ps=Es;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.render((0,hs.jsx)(Ps,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}()}();
//# sourceMappingURL=main.8b94373e.js.map